(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[115,247,248],{1203:function(e,t,a){var r=a(62);e.exports=(r["default"]||r).template({1:function(e,t,a,r,l){return" disabled "},3:function(e,t,a,r,l){var n;return"("+e.escapeExpression(e.lambda(null!=(n=null!=t?t.selectedUUIDs:t)?n.length:n,t))+")"},compiler:[7,">= 4.0.0"],main:function(e,t,a,r,l){var n,i=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return'<button type="button" class="btn btn-primary" data-add-entity>\n    <span class="fa fa-plus"></span> '+s((a.t||t&&t.t||o).call(i,"console.scripts.list.addNew",{name:"t",hash:{},data:l}))+'\n</button>\n\n<button type="button" class="btn btn-default" '+(null!=(n=a.unless.call(i,null!=t?t.selectedUUIDs:t,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?n:"")+' data-delete-scripts>\n    <span class="fa fa-close"></span> '+s((a.t||t&&t.t||o).call(i,"common.form.delete",{name:"t",hash:{},data:l}))+" "+(null!=(n=a["if"].call(i,null!=t?t.selectedUUIDs:t,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?n:"")+"\n</button>\n"},useData:true})},1204:function(e,t,a){var r=a(62);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,r,l){var n;return(null!=(n=e.invokePartial(r["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.scripts.list.title"},data:l,helpers:a,partials:r,decorators:e.decorators}))?n:"")+'\n<div class="btn-toolbar page-toolbar" role="toolbar" aria-label="toolbar" data-grid-toolbar></div>\n\n<div class="panel panel-default">\n    <div class="panel-body">\n        <div class="table-container"></div>\n    </div>\n</div>\n'},usePartial:true,useData:true})},1381:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){var a=[];var r=true;var l=false;var n=void 0;try{for(var i=e[Symbol.iterator](),o;!(r=(o=i.next()).done);r=true){a.push(o.value);if(t&&a.length===t)break}}catch(e){l=true;n=e}finally{try{!r&&i["return"]&&i["return"]()}finally{if(l)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();a(1572);a(1554);var l=a(6);var n=I(l);var i=a(19);var o=I(i);var s=a(159);var u=I(s);var c=a(114);var d=I(c);var f=a(1535);var h=I(f);var p=a(1546);var m=I(p);var v=a(27);var g=I(v);var b=a(59);var y=I(b);var _=a(1533);var C=I(_);var x=a(73);var S=I(x);var k=a(1653);var R=I(k);var w=a(1624);var M=I(w);var P=a(1204);var T=I(P);var U=a(1203);var E=I(U);var A=a(1829);var N=I(A);var D=a(1555);var O=I(D);function I(e){return e&&e.__esModule?e:{default:e}}t.default=d.default.extend({template:T.default,toolbarTemplate:E.default,events:{"click [data-add-entity]":"addNewScript","click [data-delete-scripts]":"onDeleteClick"},render:function e(t,a){var l=this,n,i,s,c,d,f;this.realmPath=t[0];this.data.selectedUUIDs=[];this.contextSchemaPromise=M.default.scripts.getSchema();this.languageSchemaPromise=M.default.scripts.getContextSchema();d=u.default.PageableCollection.extend({url:O.default.substitute("__api__/scripts"),model:R.default,state:m.default.getState(),queryParams:m.default.getQueryParams(),parseState:m.default.parseState,parseRecords:m.default.parseRecords,sync:m.default.sync});f=function e(){var t=this.model.get(this.column.get("name")),a=this.map&&l[this.map]?l[this.map][t]:t;this.$el.text(a);return this};n=[{name:"",cell:N.default,headerCell:"select-all"},{name:"name",label:o.default.t("console.scripts.list.grid.0"),cell:"string",headerCell:m.default.FilterHeaderCell,sortType:"toggle",editable:false},{name:"context",label:o.default.t("console.scripts.list.grid.1"),cell:h.default.StringCell.extend({map:"contextMap",render:f}),headerCell:m.default.FilterHeaderCell,sortType:"toggle",editable:false},{name:"language",label:o.default.t("console.scripts.list.grid.2"),cell:h.default.StringCell.extend({map:"langMap",render:f}),headerCell:m.default.FilterHeaderCell,sortType:"toggle",editable:false},{name:"description",label:o.default.t("console.scripts.list.grid.3"),cell:"string",sortable:false,editable:false}];c=m.default.ClickableRow.extend({attributes:function e(){return{tabindex:0}},callback:function e(t){var a=(0,o.default)(t.target);if(a.is("input")||a.is(".select-row-cell"))return;S.default.routeTo(S.default.configuration.routes.realmsScriptEdit,{args:[encodeURIComponent(l.realmPath),encodeURIComponent(this.model.id)],trigger:true})}});this.data.scripts=new d;this.data.scripts.on("backgrid:selected",function(e,t){l.onRowSelect(e,t)});this.data.scripts.on("backgrid:sort",m.default.doubleSortFix);i=new h.default.Grid({columns:n,row:c,collection:l.data.scripts,className:"backgrid table table-hover",emptyText:o.default.t("console.common.noResults")});s=new h.default.Extension.ThemeablePaginator({collection:l.data.scripts,windowSize:3});this.parentRender(function(){this.renderToolbar();this.$el.find(".table-container").append(i.render().el);this.$el.find(".panel-body").append(s.render().el);Promise.all([this.contextSchemaPromise,this.languageSchemaPromise]).then(function(e){var t=r(e,2),n=t[0],i=t[1];var o=i?i.properties.languages.items:void 0,s=n?n.properties.defaultContext:void 0;l.langMap=l.createMapBySchema(o);l.contextMap=l.createMapBySchema(s);l.data.scripts.fetch({reset:true}).then(function(){a&&a()})})})},onDeleteClick:function e(t){var a={message:o.default.t("console.scripts.list.confirmDeleteText")};t.preventDefault();C.default.showConfirmationBeforeDeleting(a,n.default.bind(this.deleteRecords,this))},deleteRecords:function e(){var t=this,a=0,r,l=function e(){t.data.selectedUUIDs=[];t.data.scripts.fetch({reset:true});t.renderToolbar()},n=function e(){l();y.default.sendEvent(g.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")};for(;a<this.data.selectedUUIDs.length;a++){r=this.data.scripts.get(this.data.selectedUUIDs[a]);r.destroy({success:n,wait:true})}},onRowSelect:function e(t,a){a?n.default.includes(this.data.selectedUUIDs,t.id)||this.data.selectedUUIDs.push(t.id):this.data.selectedUUIDs=n.default.without(this.data.selectedUUIDs,t.id);this.renderToolbar()},renderToolbar:function e(){var t=this;var a=t.toolbarTemplate(t.data);t.$el.find("[data-grid-toolbar]").html(a)},addNewScript:function e(){S.default.routeTo(S.default.configuration.routes.realmsScriptNew,{args:[encodeURIComponent(this.realmPath)],trigger:true})},createMapBySchema:function e(t){var a,r,l;if(t&&t["enum"]){a={};l=t["enum"].length;for(r=0;r<l;r++)a[t["enum"][r]]=t.options.enum_titles[r]}return a}})},1526:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=o;var r=a(61);var l=a(655);var n=i(l);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.t)("common.form.delete");n.default.confirm({type:n.default.TYPE_DANGER,title:(0,r.t)("common.form.confirm")+" "+a,message:e.message?e.message:(0,r.t)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:a,btnOKClass:"btn-danger",callback:function e(a){a&&t&&t()}})}},1533:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1537);var l=u(r);var n=a(1536);var i=u(n);var o=a(1526);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var c={};c.showConfirmationBeforeDeleting=function(e,t){(0,l.default)("FormHelper.showConfirmationBeforeDeleting","org/forgerock/openam/ui/admin/utils/form/showConfirmationBeforeAction");return(0,s.default)(e,t)};c.setActiveTab=function(e,t){(0,l.default)("FormHelper.setActiveTab","org/forgerock/openam/ui/admin/utils/form/setActiveTab");return(0,i.default)(e,t)};t.default=c},1535:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(19);var l=o(r);var n=a(1562);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}i.default.HeaderCell.prototype.render=function(){this.$el.empty();var e=this.column,t=i.default.callByNeed(e.sortable(),e,this.collection),a;a=t?(0,l.default)("<a>").text(e.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(e.get("label"));this.$el.append(a);this.$el.attr("data-field",e.get("name"));this.$el.addClass(e.get("direction"));this.delegateEvents();return this};t.default=i.default},1536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e){e&&e.activeTabId&&e.$el.find('.nav-tabs a[href="'+e.activeTabId+'"]').tab("show")}},1537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;function r(e,t){console.warn(e+" is marked as deprecated. \nPlease use "+t)}},1546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a(1552);var l=a(6);var n=b(l);var i=a(19);var o=b(i);var s=a(159);var u=b(s);var c=a(12);var d=b(c);var f=a(1535);var h=b(f);var p=a(560);var m=b(p);var v=a(73);var g=b(v);function b(e){return e&&e.__esModule?e:{default:e}}var y={};y.DatetimeAgoCell=h.default.Cell.extend({className:"date-time-ago-cell",formatter:{fromRaw:function e(t){return(0,d.default)(t).fromNow()}},render:function e(){y.DatetimeAgoCell.__super__.render.apply(this);this.$el.attr("title",(0,d.default)(this.model.get(this.column.get("name"))).format("Do MMMM YYYY, h:mm:ssa"));return this}});y.ArrayCell=h.default.Cell.extend({className:"array-formatter-cell",buildHtml:function e(t){var a="<ul>",r=0;for(;r<t.length;r++)n.default.isString(t[r])?a+="<li>"+t[r]+"</li>":a+="<li>"+JSON.stringify(t[r])+"</li>";a+="</ul>";return a},render:function e(){this.$el.empty();var t=this.model.get(this.column.attributes.name);this.$el.append(this.buildHtml(t));this.delegateEvents();return this}});y.ObjectCell=h.default.Cell.extend({className:"object-formatter-cell",render:function e(){this.$el.empty();var t=this.model.get(this.column.attributes.name),a='<dl class="dl-horizontal">',r;for(r in t)n.default.isString(t[r])?a+="<dt>"+r+"</dt><dd>"+t[r]+"</dd>":a+="<dt>"+r+"</dt><dd>"+JSON.stringify(t[r])+"</dd>";a+="</dl>";this.$el.append(a);this.delegateEvents();return this}});y.UniversalIdToUsername=h.default.Cell.extend({formatter:{fromRaw:function e(t){return t.substring(3,t.indexOf(",ou=user"))}},render:function e(){y.UniversalIdToUsername.__super__.render.apply(this);this.$el.attr("title",this.model.get(this.column.get("name")));return this}});y.ClickableRow=h.default.Row.extend({events:{click:"onClick",keyup:"onKeyup"},onKeyup:function e(t){13===t.keyCode&&this.callback&&this.callback(t)},onClick:function e(t){this.callback&&this.callback(t)}});y.TemplateCell=h.default.Cell.extend({className:"template-cell",render:function e(){var t=this.template(this.model);this.$el.html(t);this.rendered&&this.rendered();this.delegateEvents();return this}});y.ClassHeaderCell=h.default.HeaderCell.extend({className:"",render:function e(){y.ClassHeaderCell.__super__.render.apply(this);this.delegateEvents();return this}});y.UriExtCell=h.default.UriCell.extend({events:{click:"gotoUrl"},render:function e(){this.$el.empty();var t=this.model.get(this.column.get("name")),a=this.formatter.fromRaw(t,this.model),r=n.default.isFunction(this.column.get("href"))?this.column.get("href")(t,a,this.model):this.column.get("href");this.$el.append((0,o.default)("<a>",{href:r||t,title:this.title||a}).text(a));if(r){this.$el.data("href",r);this.$el.prop("title",this.title||a)}this.delegateEvents();return this},gotoUrl:function e(t){t.preventDefault();var a=(0,o.default)(t.currentTarget).data("href");g.default.navigate(a,{trigger:true})}});y.FilterHeaderCell=h.default.HeaderCell.extend({className:"filter-header-cell enable-pointer",render:function e(){var t=new h.default.Extension.ThemeableServerSideFilter({name:this.column.get("name"),placeholder:o.default.t("common.form.filter"),collection:this.collection});this.addClassName&&this.$el.addClass(this.addClassName);this.collection.state.filters=this.collection.state.filters?this.collection.state.filters:[];this.collection.state.filters.push(t);y.FilterHeaderCell.__super__.render.apply(this);this.$el.prepend(t.render().el);return this}});y.queryFilter=function(e){void 0===e&&(e={});var t=[],a=e._queryFilter||[],r=function(){return e&&e.filterName&&"eq"===e.filterName?function(e,t){return e+"+eq+"+encodeURIComponent('"*'+t+'*"')}:function(e,t){return e+"+co+"+encodeURIComponent('"'+t+'"')}}();n.default.each(this.state.filters,function(e){""!==e.query()&&t.push(r(e.name,e.query()))});t=t.concat(a);return 0===t.length||t.join("+AND+")};y.parseState=function(e){this.state.totalRecords||(this.state.totalRecords=e.remainingPagedResults+e.resultCount);this.state.totalPages||(this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize));return this.state};y.pagedResultsOffset=function(){return(this.state.currentPage-1)*this.state.pageSize};y.sortKeys=function(){return 1===this.state.order?"-"+this.state.sortKey:this.state.sortKey};y.sync=function(e,t,a){var r=[],l=["_pageSize","_pagedResultsOffset","_sortKeys"];"*"===a.data._queryId&&true===a.data._queryFilter?l.push("_queryId"):l.push("_queryFilter");n.default.forIn(a.data,function(e,t){n.default.includes(l,t)&&r.push(t+"="+e)});a.data=r.join("&");a.processData=false;a.beforeSend||(a.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")});a.error=function(e){m.default.addMessage({type:m.default.TYPE_DANGER,response:e})};return u.default.sync(e,t,a)};y.parseRecords=function(e){return e.result};y.getQueryParams=function(e){e=e||{};return{_sortKeys:this.sortKeys,_queryFilter:function t(){return y.queryFilter.call(this,e)},pageSize:"_pageSize",_pagedResultsOffset:this.pagedResultsOffset}};y.doubleSortFix=function(e){var t=e.cid,a=e.collection.filter(function(e){return e.cid!==t});n.default.each(a,function(e){e.set("direction",null)})};y.getState=function(e){var t={pageSize:20,sortKey:"name"};e&&"object"===("undefined"===typeof e?"undefined":r(e))&&n.default.extend(t,e);return t};t.default=y},1550:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(6);var l=u(r);var n=a(37);var i=u(n);var o=a(63);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var c={};c.decorateURLWithOverrideRealm=function(e){var t=c.getOverrideRealm(),a,r,l;if(t){if(-1!==e.indexOf("realm="))return e;r=e.indexOf("#");if(-1!==r){l=e.slice(r);e=e.slice(0,r)}a=-1===e.indexOf("?")?"?":"&";e=""+e+a+"realm="+t;l&&(e+=l)}return e};c.decorateURIWithRealm=function(e){e=c.decorateURIWithSubRealm(e);e=c.decorateURLWithOverrideRealm(e);return e};c.decorateURIWithSubRealm=function(e){var t=i.default.globalData,a=t&&t.auth?t.auth.subRealm:"",r=a?a+"/":"";t&&t.auth&&(void 0===t.auth.subRealm||null===t.auth.subRealm)&&console.warn("Unable to decorate URI, Configuration.globalData.auth.subRealm not yet set");e=e.replace("__subrealm__/",r);return e};c.getRealm=function(){var e=c.getOverrideRealm()||c.getSubRealm();return"/"===e.substring(0,1)?e.substring(1):e};c.getOverrideRealm=function(){var e=s.default.parseQueryString(s.default.getCurrentQueryString()).realm,t=s.default.parseQueryString(s.default.getCurrentFragmentQueryString()).realm;return e||t};c.getSubRealm=function(){var e=s.default.getCurrentFragment().split("/"),t=e.shift().split("&")[0],a=["login","passwordReset","continuePasswordReset","register","continueRegister"],r;if(t&&l.default.includes(a,t)){r=e.join("/").split("&")[0];r="/"===r.slice(-1)?r.slice(0,-1):r}else r=i.default.globalData.auth.subRealm?i.default.globalData.auth.subRealm:"";return r};c.encodeRealm=function(e){var t=[],a=e.split("/");l.default.each(a,function(e){""!==e&&t.push(encodeURIComponent(e))});return"/"+t.join("/")};t.default=c},1552:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1579);var r=a(6);var l=u(r);var n=a(19);var i=u(n);var o=a(1535);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}s.default.Extension.ThemeableServerSideFilter=s.default.Extension.ServerSideFilter.extend({events:l.default.extend(s.default.Extension.ServerSideFilter.prototype.events,{"keyup input[type=search]":"keyupSearch"}),keyupSearch:function e(t){t.preventDefault();this.showClearButtonMaybe(t);this.minimumSearchChars&&(0,i.default)(t.target).val().length>=this.minimumSearchChars&&this.search(t)},className:"form-group has-feedback",template:function e(t){return'<input class="form-control input-sm" type="search" '+(t.placeholder?'placeholder="'+t.placeholder+'"':"")+' name="'+t.name+'" '+(t.value?'value="'+t.value+'"':"")+'/><a class="fa fa-times form-control-feedback" data-backgrid-action="clear" role="button" href="#"></a>'}});t.default=s.default.Extension.ThemeableServerSideFilter},1554:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1588);var r=a(19);var l=o(r);var n=a(1535);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}i.default.Extension.ThemeablePaginator=i.default.Extension.Paginator.extend({className:"text-center",controls:{rewind:{label:"&laquo;",title:l.default.t("common.grid.pagination.first")},back:{label:"&lsaquo;",title:l.default.t("common.grid.pagination.previous")},forward:{label:"&rsaquo;",title:l.default.t("common.grid.pagination.next")},fastForward:{label:"&raquo;",title:l.default.t("common.grid.pagination.last")}},ulClassName:"pagination",render:function e(){i.default.Extension.Paginator.prototype.render.call(this);this.ulClassName&&this.$el.find("ul").addClass(this.ulClassName);return this}});t.default=i.default.Extension.ThemeablePaginator},1555:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(37);var l=d(r);var n=a(1578);var i=d(n);var o=a(27);var s=d(o);var u=a(1550);var c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}t.default={substitute:function e(t){return function(){var e=i.default.getCurrentRealm(),a=""+s.default.host+s.default.context+"/json"+("/"===e?"":c.default.encodeRealm(e));return t.replace("__api__",a).replace("__host__",s.default.host).replace("__context__",s.default.context).replace("__username__",l.default.loggedUser.get("username"))}}}},1570:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(6);var l=h(r);var n=a(19);var i=h(n);var o=a(27);var s=h(o);var u=a(59);var c=h(u);var d=a(560);var f=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var p={};function m(e){return l.default.has(e,"responseJSON.message")&&l.default.isString(e.responseJSON.message)}p.errorHandler=function(e){401===l.default.get(e,"status")?c.default.sendEvent(s.default.EVENT_UNAUTHORIZED,{error:e.error()}):m(e)?f.default.addMessage({type:f.default.TYPE_DANGER,escape:true,response:e}):f.default.addMessage({type:f.default.TYPE_DANGER,message:i.default.t("config.messages.CommonMessages.unknown")})};t.default=p},1578:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(63);var l=n(r);function n(e){return e&&e.__esModule?e:{default:e}}t.default={getCurrentRealm:function e(){return decodeURIComponent(l.default.getCurrentFragment().split("/")[1])}}},1624:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(169);var l=u(r);var n=a(27);var i=u(n);var o=a(168);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var c=new l.default(""+i.default.host+i.default.context+"/json");c.scripts={getAllDefault:function e(t){return c.serviceCall({url:(0,s.default)('/scripts?_pageSize=10&_sortKeys=name&_queryFilter=default eq true and context eq "'+t+'"&_pagedResultsOffset=0',{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},getAllContexts:function e(){return c.serviceCall({url:(0,s.default)("/global-config/services/scripting/contexts?_queryFilter=true",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},getDefaultGlobalContext:function e(){return c.serviceCall({url:(0,s.default)("/global-config/services/scripting",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},getSchema:function e(){return c.serviceCall({url:(0,s.default)("/global-config/services/scripting?_action=schema",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},getContextSchema:function e(){return c.serviceCall({url:(0,s.default)("/global-config/services/scripting/contexts?_action=schema",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})}};t.default=c},1631:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[],i=64,o;for(o=0;o<256;o++)n.push(-1);for(o=0;o<l.length;o++)n[l.charCodeAt(o)]=o;n["=".charCodeAt(0)]=0;r.encodeUTF8=function(e){var t=unescape(encodeURIComponent(e)),a=t.length,r=[],n,o,s,u,c,d,f,h;if("function"===typeof btoa)return btoa(t);for(n=0;n<a;){o=t.charCodeAt(n++);s=t.charCodeAt(n++);u=t.charCodeAt(n++);c=o>>>2;d=(3&o)<<4|s>>>4;f=isNaN(s)?i:(15&s)<<2|u>>>6;h=isNaN(s)||isNaN(u)?i:63&u;r.push(l.charAt(c));r.push(l.charAt(d));r.push(l.charAt(f));r.push(l.charAt(h))}return r.join("")};r.decodeUTF8=function(e){var t=[],a=e.length,r,l,i,o,s,u,c,d;if("function"===typeof atob)t=atob(e);else{for(r=0;r<a;){l=n[e.charCodeAt(r++)];i=n[e.charCodeAt(r++)];o=n[e.charCodeAt(r++)];s=n[e.charCodeAt(r++)];u=l<<2|i>>>4;c=(15&i)<<4|o>>>2;d=(3&o)<<6|s;t.push(String.fromCharCode(u));0!==c&&t.push(String.fromCharCode(c));0!==d&&t.push(String.fromCharCode(d))}t=t.join("")}return decodeURIComponent(escape(t))};t.default=r},1653:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(159);var l=d(r);var n=a(1631);var i=d(n);var o=a(1555);var s=d(o);var u=a(1570);var c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}t.default=l.default.Model.extend({idAttribute:"_id",urlRoot:s.default.substitute("__api__/scripts"),defaults:function e(){return{_id:null,name:"",script:"",language:"",context:""}},validate:function e(t){if(""===t.name.trim())return"scriptErrorNoName";if(""===t.language)return"scriptErrorNoLanguage"},parse:function e(t){t&&t.script&&(t.script=i.default.decodeUTF8(t.script));return t},sync:function e(t,a,r){r=r||{};r.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")};r.error=c.default.errorHandler;t=t.toLowerCase();"create"!==t&&null!==a.id||(r.url=this.urlRoot()+"/?_action=create");"create"!==t&&"update"!==t||a.set("script",i.default.encodeUTF8(a.get("script")));return l.default.Model.prototype.sync.call(this,t,a,r)}})},1828:function(e,t,a){var r,l,n;
/*
  backgrid-select-all
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
/*
  backgrid-select-all
  http://github.com/wyuenho/backgrid

  Copyright (c) 2013 Jimmy Yuen Ho Wong and contributors
  Licensed under the MIT @license.
*/
(function(i,o){true;!(l=[a(159),a(1562),a(181)],r=o,n="function"===typeof r?r.apply(t,l):r,void 0!==n&&(e.exports=n))})(this,function(e,t,a){"use strict";var r=t.Extension.SelectRowCell=e.View.extend({className:"select-row-cell",tagName:"td",events:{"keydown input[type=checkbox]":"onKeydown","change input[type=checkbox]":"onChange","click input[type=checkbox]":"enterEditMode"},initialize:function(e){this.column=e.column;this.column instanceof t.Column||(this.column=new t.Column(this.column));var a=this.column,r=this.model,l=this.$el;this.listenTo(a,"change:renderable",function(e,t){l.toggleClass("renderable",t)});t.callByNeed(a.renderable(),a,r)&&l.addClass("renderable");this.listenTo(r,"backgrid:select",function(e,t){this.checkbox().prop("checked",t).change()})},checkbox:function(){return this.$el.find("input[type=checkbox]")},enterEditMode:function(){this.checkbox().focus()},exitEditMode:function(){this.checkbox().blur()},onKeydown:function(e){var a=new t.Command(e);if(a.passThru())return true;if(a.cancel()){e.stopPropagation();this.checkbox().blur()}else if(a.save()||a.moveLeft()||a.moveRight()||a.moveUp()||a.moveDown()){e.preventDefault();e.stopPropagation();this.model.trigger("backgrid:edited",this.model,this.column,a)}},onChange:function(){var e=this.checkbox().prop("checked");this.$el.parent().toggleClass("selected",e);this.model.trigger("backgrid:selected",this.model,e)},render:function(){this.$el.empty().append('<input tabindex="-1" type="checkbox" />');this.delegateEvents();return this}});var l=t.Extension.SelectAllHeaderCell=r.extend({className:"select-all-header-cell",tagName:"th",initialize:function(e){this.column=e.column;this.column instanceof t.Column||(this.column=new t.Column(this.column));var r=this.collection;var l=this.selectedModels={};this.listenTo(r.fullCollection||r,"backgrid:selected",function(e,t){if(t)l[e.id||e.cid]=1;else{delete l[e.id||e.cid];this.checkbox().prop("checked",false)}a.keys(l).length===(r.fullCollection||r).length&&this.checkbox().prop("checked",true)});this.listenTo(r.fullCollection||r,"remove",function(e){delete l[e.id||e.cid];0===(r.fullCollection||r).length&&this.checkbox().prop("checked",false)});this.listenTo(r,"backgrid:refresh",function(){if(0===(r.fullCollection||r).length)this.checkbox().prop("checked",false);else{var e=this.checkbox().prop("checked");for(var t=0;t<r.length;t++){var a=r.at(t);(e||l[a.id||a.cid])&&a.trigger("backgrid:select",a,true)}}});var n=this.column,i=this.$el;this.listenTo(n,"change:renderable",function(e,t){i.toggleClass("renderable",t)});t.callByNeed(n.renderable(),n,r)&&i.addClass("renderable")},onChange:function(){var e=this.checkbox().prop("checked");var t=this.collection;t.each(function(t){t.trigger("backgrid:select",t,e)});t.fullCollection&&t.fullCollection.each(function(a){t.get(a.cid)||a.trigger("backgrid:selected",a,e)});this.collection.trigger("backgrid:select-all",this.collection,e)}});t.Grid.prototype.getSelectedModels=function(){var e;var t=this.header.row.cells;for(var a=0,r=t.length;a<r;a++){var n=t[a];if(n instanceof l){e=n;break}}var i=[];if(e){var o=e.selectedModels;var s=this.collection.fullCollection||this.collection;for(var u in o)i.push(s.get(u))}return i};t.Grid.prototype.clearSelectedModels=function(){var e=this.getSelectedModels();for(var t=0,a=e.length;t<a;t++){var r=e[t];r.trigger("backgrid:select",r,false)}}})},1829:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(1828);var l=o(r);var n=a(1535);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}i.default.Extension.ThemeableSelectAllCell=i.default.Extension.SelectRowCell.extend({onChange:function e(){var t=this.$el.find("input[type=checkbox]").prop("checked");this.$el.parent().toggleClass("info",t);this.model.trigger("backgrid:selected",this.model,t)}});t.default=i.default.Extension.ThemeableSelectAllCell}}]);
//# sourceMappingURL=115.3e68a5ea99.js.map