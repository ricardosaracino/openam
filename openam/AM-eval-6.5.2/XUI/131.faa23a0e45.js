(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[131,230,298],{1180:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r){var o;return'<select class="form-control">\n    <option disabled value="">'+e.escapeExpression((o=null!=(o=a.placeholder||(null!=t?t.placeholder:t))?o:a.helperMissing,"function"===typeof o?o.call(null!=t?t:e.nullContext||{},{name:"placeholder",hash:{},data:r}):o))+"...</option>\n</select>\n"},useData:true})},1249:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r){var o,l=null!=t?t:e.nullContext||{},i=a.helperMissing,u=e.escapeExpression;return(null!=(o=e.invokePartial(n["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.authentication.modules.addModuleTitle"},data:r,helpers:a,partials:n,decorators:e.decorators}))?o:"")+'<div class="panel panel-default fr-panel-with-border">\n    <div class="panel-body tab-content">\n        <div class="block clearfix form-horizontal">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="newModuleName">'+u((a.t||t&&t.t||i).call(l,"common.form.name",{name:"t",hash:{},data:r}))+'</label>\n                <div class="col-sm-9">\n                    <input autofocus type="text" id="newModuleName" data-module-name class="form-control" placeholder="'+u((a.t||t&&t.t||i).call(l,"common.form.validation.required",{name:"t",hash:{},data:r}))+'" required>\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="newModuleType">'+u((a.t||t&&t.t||i).call(l,"common.form.type",{name:"t",hash:{},data:r}))+'</label>\n                <div class="col-sm-9">\n                    <div data-module-type></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+u((a.routeTo||t&&t.routeTo||i).call(l,"realmsAuthenticationModules",null!=t?t.realmPath:t,{name:"routeTo",hash:{},data:r}))+'">\n                '+u((a.t||t&&t.t||i).call(l,"common.form.cancel",{name:"t",hash:{},data:r}))+'\n            </a>\n            <button type="button" data-save disabled class="btn btn-primary">\n                <span>'+u((a.t||t&&t.t||i).call(l,"common.form.create",{name:"t",hash:{},data:r}))+"</span>\n            </button>\n        </div>\n    </div>\n  </div>\n"},usePartial:true,useData:true})},1397:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var r=b(n);var o=a(19);var l=b(o);var i=a(114);var u=b(i);var c=a(1249);var s=b(c);var d=a(1558);var f=b(d);var h=a(560);var p=b(h);var m=a(73);var v=b(m);var y=a(1672);var g=b(y);function b(e){return e&&e.__esModule?e:{default:e}}function P(){var e=this.moduleType;var t=this.$el.find("#newModuleName").val();if(-1!==t.indexOf(" ")){t=false;p.default.addMessage({type:p.default.TYPE_DANGER,message:l.default.t("console.authentication.modules.moduleNameValidationError")})}var a=t&&e;this.$el.find("[data-save]").attr("disabled",!a)}t.default=u.default.extend({template:s.default,events:{"change [data-module-name]":"onValidateModuleProps","keyup  [data-module-name]":"onValidateModuleProps","change [data-module-type]":"onValidateModuleProps","click [data-save]":"save"},render:function e(t,a){var n=this;this.data.realmPath=t[0];f.default.authentication.modules.types.all(this.data.realmPath).then(function(e){n.parentRender(function(){var t=new g.default({options:e,onChange:function e(t){n.moduleType=t._id;n.onValidateModuleProps()},searchFields:["name"],labelField:"name",placeholderText:l.default.t("console.authentication.modules.selectModuleType")});n.$el.find("[data-module-type]").append(t.render().el);n.$el.find("[autofocus]").focus();a&&a()})})},save:function e(){var t=this;var a=t.$el.find("#newModuleName").val();var n=this.moduleType;var o=f.default.authentication.modules;o.exists(t.data.realmPath,a).then(function(e){var i=o;e?p.default.addMessage({type:p.default.TYPE_DANGER,message:l.default.t("console.authentication.modules.addModuleError")}):i.create(t.data.realmPath,{_id:a},n).then(function(){v.default.routeTo(v.default.configuration.routes.realmsAuthenticationModuleEdit,{args:r.default.map([t.data.realmPath,n,a],encodeURIComponent),trigger:true})},function(e){p.default.addMessage({type:p.default.TYPE_DANGER,response:e})})},function(e){p.default.addMessage({type:p.default.TYPE_DANGER,response:e})})},onValidateModuleProps:function e(){P.call(this)}})},1558:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var a=[];var n=true;var r=false;var o=void 0;try{for(var l=e[Symbol.iterator](),i;!(n=(i=l.next()).done);n=true){a.push(i.value);if(t&&a.length===t)break}}catch(e){r=true;o=e}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var r=a(6);var o=a(19);var l=b(o);var i=a(169);var u=b(i);var c=a(27);var s=b(c);var d=a(168);var f=b(d);var h=a(866);var p=b(h);var m=a(865);var v=b(m);var y=a(867);var g=b(y);function b(e){return e&&e.__esModule?e:{default:e}}var P=new u.default(""+s.default.host+s.default.context+"/json");P.authentication={get:function e(t){return g.default.schemaWithValues(P,(0,f.default)("/realm-config/authentication",{realm:t}))},update:function e(t,a){return P.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})},chains:{all:function e(t){return Promise.all([P.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),P.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=n(e,2),a=t[0],o=t[1];(0,r.each)(a.result,function(e){if(e._id===o.adminAuthModule){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.adminAuthModule=true}if(e._id===o.orgConfig){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.orgConfig=true}});return{values:a}})},create:function e(t,a){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a){var o;return Promise.all([P.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),P.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=n(e,3),a=t[0],l=t[1],i=t[2];l._id===a.adminAuthModule&&(l.adminAuthModule=true);l._id===a.orgConfig&&(l.orgConfig=true);l.authChainConfiguration=l.authChainConfiguration||[];(0,r.each)(l.authChainConfiguration,function(e){o=(0,r.find)(i.result,{_id:e.module});o&&(e.type=o.type)});return{chainData:l,modulesData:(0,r.sortBy)(i.result,"_id")}})},remove:function e(t,a){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,n){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(n)})}},modules:{all:function e(t){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return(0,r.sortBy)(t,"_id")})},create:function e(t,a,n){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a,r){function o(){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([this.schema(t,r),o(),this.types.get(t,r)]).then(function(e){var t=n(e,3),a=t[0],r=t[1],o=t[2];return{name:o.name,schema:a,values:new v.default(r)}})},exists:function e(t,a){var n=l.default.Deferred(),r="_queryFilter="+encodeURIComponent('_id eq "'+a+'"')+"&_fields=_id",o=P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?"+r,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}});o.then(function(e){n.resolve(e.result.length>0)});return n},remove:function e(t,a,n){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,n,r){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:r}).then(function(e){return new v.default(e)})},types:{all:function e(t){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_action=getAllTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return(0,r.sortBy)(t,"name")})},get:function e(t,a){return P.authentication.modules.types.all(t).then(function(e){return(0,r.find)(e,{_id:a})})}},schema:function e(t,a){return P.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+a+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new p.default(e)})}}};t.default=P},1672:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();a(1531);var r=a(19);var o=d(r);var l=a(159);var i=a(6);var u=d(i);var c=a(1180);var s=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m="__selectize_key";function v(e,t){if(null==e)throw new Error("Field "+t+" is required")}function y(e){return e?function(t){e.setData(t);return e.render().$el.html()}:void 0}var g=function(e){p(t,e);function t(){f(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"initialize",value:function e(t){var a=t.options,n=t.searchFields,r=t.labelField,l=t.selectedOption,i=t.onChange,c=t.itemComponent,s=t.optionComponent,d=t.placeholderText,f=void 0===d?o.default.t("common.form.select"):d;v(a,"options");v(a,"searchFields");null!=c&&null!=s||v(a,"labelField");u.default.assign(this,{options:a,searchFields:n,labelField:r,selectedOption:l,onChange:i,itemComponent:c,optionComponent:s,placeholderText:f})}},{key:"render",value:function e(){var t=this;var a=(0,s.default)({placeholder:this.placeholderText});var n=u.default.map(this.options,function(e,t){var a=u.default.clone(e);a[m]=t;return a});this.$el.html(a).find("select").selectize({options:n,items:[u.default.indexOf(this.options,this.selectedOption)],valueField:m,searchField:this.searchFields,labelField:this.labelField,render:{item:y(this.itemComponent),option:y(this.optionComponent)},onChange:function e(a){t.onChange(t.options[a])}});return this}}]);return t}(l.View);t.default=g}}]);
//# sourceMappingURL=131.faa23a0e45.js.map