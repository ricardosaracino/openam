(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9,354],{1169:function(e,a,t){var n=t(62);e.exports=(n["default"]||n).template({1:function(e,a,t,n,r){var l;return null!=(l=e.invokePartial(n["navigation/_TreeNavigationLeaf"],a,{name:"navigation/_TreeNavigationLeaf",hash:{identifier:"side"},data:r,indent:"                                ",helpers:t,partials:n,decorators:e.decorators}))?l:""},3:function(e,a,t,n,r){var l;return null!=(l=e.invokePartial(n["navigation/_TreeNavigationLeaf"],a,{name:"navigation/_TreeNavigationLeaf",hash:{identifier:"top"},data:r,indent:"                        ",helpers:t,partials:n,decorators:e.decorators}))?l:""},compiler:[7,">= 4.0.0"],main:function(e,a,t,n,r){var l,i=null!=a?a:e.nullContext||{};return'<div id="menu" class="menubar"></div>\n\n<div class="subnav-container">\n    <div class="container">\n        <div class="row">\n            <nav class="navbar navbar-default" role="navigation">\n\n                <div id="breadcrumbContent">\n'+(null!=(l=e.invokePartial(n["breadcrumb/_BreadcrumbTitle"],a,{name:"breadcrumb/_BreadcrumbTitle",hash:{title:null!=a?a.title:a},data:r,indent:"                    ",helpers:t,partials:n,decorators:e.decorators}))?l:"")+'                </div>\n\n                <div id="breadcrumbNavBar" class="navbar-collapse collapse">\n                    <nav class="sidenav visible-xs-block">\n                        <ol class="list-unstyled">\n'+(null!=(l=t.each.call(i,null!=a?a.treeNavigation:a,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?l:"")+'                        </ol>\n                    </nav>\n                </div>\n            </nav>\n        </div>\n    </div>\n</div>\n\n\n<div class="container tree-view-container">\n    <div class="row">\n        <div class="col-sm-3 col-md-3 col-lg-2 hidden-xs">\n            <nav class="sidenav">\n                <ol class="list-unstyled">\n'+(null!=(l=t.each.call(i,null!=a?a.treeNavigation:a,{name:"each",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?l:"")+'                </ol>\n            </nav>\n        </div>\n\n        <div id="sidePageContent" class="col-sm-9 col-md-9 col-lg-10"></div>\n    </div>\n</div>\n'},usePartial:true,useData:true})},1561:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:true});var n=t(6);var r=f(n);var l=t(169);var i=f(l);var s=t(37);var o=f(s);var d=t(27);var u=f(d);var c=t(168);var v=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=new i.default(""+u.default.host+u.default.context+"/json");p.getUmaConfig=function(){return p.serviceCall({url:(0,v.default)("/serverinfo/uma"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){o.default.globalData.auth.uma=o.default.globalData.auth.uma||{};o.default.globalData.auth.uma.enabled=e.enabled;o.default.globalData.auth.uma.resharingMode=e.resharingMode;return e})};p.unshareAllResources=function(){var e=encodeURIComponent(o.default.loggedUser.get("username"));return p.serviceCall({url:(0,v.default)("/users/"+e+"/oauth2/resources/sets?_action=revokeAll"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})};p.approveRequest=function(e,a){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/uma/pendingrequests/"+e+"?_action=approve"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify({scopes:a})})};p.denyRequest=function(e){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/uma/pendingrequests/"+e+"?_action=deny"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})};p.labels={all:function e(){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/oauth2/resources/labels?_queryFilter=true"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},create:function e(a,t){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/oauth2/resources/labels?_action=create"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify({name:a,type:t})})},get:function e(a){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/oauth2/resources/labels?_queryFilter=true"),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){return r.default.find(e.result,{_id:a})})},remove:function e(a){return p.serviceCall({url:(0,v.default)("/users/"+encodeURIComponent(o.default.loggedUser.get("username"))+"/oauth2/resources/labels/"+encodeURIComponent(a)),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})}};a.default=p},1585:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:true});var n=t(6);var r=m(n);var l=t(1);var i=m(l);var s=t(35);var o=m(s);var d=t(114);var u=m(d);var c=t(1169);var v=m(c);var f=t(561);var p=m(f);var h=t(63);var g=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var b="#sidePageContent";var C=function e(a){return a.prototype instanceof u.default};var y=function e(a){return a.prototype instanceof i.default.Component||a.WrappedComponent||r.default.isFunction(a)};var P=u.default.extend({template:v.default,partials:{"breadcrumb/_BreadcrumbTitle":"breadcrumb/_BreadcrumbTitle","navigation/_TreeNavigationLeaf":"navigation/_TreeNavigationLeaf"},events:{"click .sidenav a[href]:not([data-toggle]):not([data-event])":"navigateToPage"},findContentElement:function e(){return this.$el.find(b)[0]},findActiveNavItem:function e(a){var t=this.$el.find('.sidenav ol > li > a[href^="#'+a+'"]');if(t.length){var n=t.parent();n.addClass("active");var r=n.parentsUntil(this.$el.find(".sidenav"),"ol.collapse");r.addClass("in").attr("aria-expanded","true").parent().addClass("active")}else{var l=a.split("/");this.findActiveNavItem(l.slice(0,-1).join("/"))}},navigateToPage:function e(){this.renderSidePageContentOnly=true},setElement:function e(a){var t=this;u.default.prototype.setElement.call(this,a);this.route&&this.renderSidePageContentOnly&&this.route.page().then(r.default.bind(function(e){t.renderPage(e,t.args)},this),r.default.bind(function(){throw"Unable to render page for module "+t.route.page},this))},render:function e(a,t){var n=this;this.args=a;var r=this.findContentElement();r&&o.default.unmountComponentAtNode(r);var l=function e(){n.$el.find(".sidenav li").removeClass("active");n.findActiveNavItem(g.default.getCurrentFragment());n.route.page().then(p.default).then(function(e){n.renderPage(e,a)});t&&t()};this.renderSidePageContentOnly?l():this.parentRender(function(){l()})},renderPage:function e(a,t,n){if(C(a)){var r=new a;r.element=b;r.render(t,n);this.delegateEvents()}else{if(!y(a))throw new Error("[TreeNavigation] Unable to determine page type (Backbone or React).");o.default.render(i.default.createElement(a),this.findContentElement())}this.renderSidePageContentOnly=false}});a.default=P},183:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:true});var n=t(6);var r=f(n);var l=t(19);var i=f(l);var s=t(73);var o=f(s);var d=t(1585);var u=f(d);var c=t(1561);var v=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=u.default.extend({template:"user/uma/views/resource/LabelTreeNavigationTemplate",partials:{"uma/_NestedList":"uma/_NestedList"},findActiveNavItem:function e(a){var t=o.default.configuration.routes.umaResourcesMyLabelsResource,n=o.default.currentRoute===t,l=n?r.default.initial(a.split("/")).join("/"):a,i=this.$el.find(".sidenav ol > li > a[href='#"+l+"']"),s;if(i.length){this.$el.find(".sidenav ol").removeClass("in");s=i.parentsUntil(this.$el.find(".sidenav"),"ol.collapse");s.addClass("in").parent().children("span[data-toggle]").attr("aria-expanded","true");i.parent().addClass("active");"false"===i.attr("aria-expanded")&&i.attr("aria-expanded","true")}},navigateToPage:function e(a){this.$el.find(".sidenav li").removeClass("active");(0,i.default)(a.currentTarget).addClass("active");this.renderSidePageContentOnly=true},render:function e(a,t){var n=this,l,i;this.args=a;this.callback=t;v.default.labels.all().then(function(e){r.default.some(e.result,function(e){return"starred"===e.name.toLowerCase()})||v.default.labels.create("starred","STAR");l=r.default.filter(e.result,function(e){return"user"===e.type.toLowerCase()});i=r.default.sortBy(l,function(e){return e.name});n.data.labels={starred:r.default.filter(e.result,function(e){return"starred"===e.type.toLowerCase()}),system:r.default.filter(e.result,function(e){return"system"===e.type.toLowerCase()}),user:i};n.data.nestedLabels=[];r.default.each(n.data.labels.user,function(e){n.addToParent(n.data.nestedLabels,e)});u.default.prototype.render.call(n,a,t)})},addToParent:function e(a,t){if(-1===t.name.indexOf("/")){t.title=t.name;t.children=[];t.viewId=r.default.uniqueId("viewId_");a.push(t)}else{var n=t.name.split("/"),l=n.shift(),i;t.name=n.join("/");i=r.default.find(a,{title:l});if(!i){i={title:l,children:[],viewId:r.default.uniqueId("viewId_")};a.push(i)}this.addToParent(i.children,t)}},addUserLabels:function e(a){var t=this;this.data.nestedLabels=[];this.data.labels.user=r.default.sortBy(a,function(e){return e.name});r.default.each(this.data.labels.user,function(e){t.addToParent(t.data.nestedLabels,e)});this.renderSidePageContentOnly=true;u.default.prototype.render.call(this,this.args,this.callback)}});a.default=new p}}]);
//# sourceMappingURL=9.10b6ae710d.js.map