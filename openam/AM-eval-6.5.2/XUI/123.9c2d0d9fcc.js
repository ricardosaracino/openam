(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[123,244],{1200:function(e,t,r){var a=r(62);e.exports=(a["default"]||a).template({1:function(e,t,r,a,n,l,o){var s,c=null!=t?t:e.nullContext||{},i=r.helperMissing,u=e.escapeExpression;return'    <div class="btn-toolbar page-toolbar">\n        <button class="btn btn-primary" data-add-service>\n            <i class="fa fa-plus"></i> '+u((r.t||t&&t.t||i).call(c,"console.services.list.addService",{name:"t",hash:{},data:n}))+'\n        </button>\n        <button data-delete-services disabled class="btn btn-default" type="button"><i class="fa fa-times"></i> '+u((r.t||t&&t.t||i).call(c,"common.form.delete",{name:"t",hash:{},data:n}))+'</button>\n    </div>\n\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="table-container">\n                <table class="table">\n                    <thead>\n                        <tr>\n                            <th class="select-all-header-cell"></th>\n                            <th>'+u((r.t||t&&t.t||i).call(c,"console.services.list.grid.header.0",{name:"t",hash:{},data:n}))+'</th>\n                            <th class="fr-col-btn-2"/>\n                        </tr>\n                    </thead>\n                    <tbody>\n'+(null!=(s=r.each.call(c,null!=t?t.services:t,{name:"each",hash:{},fn:e.program(2,n,0,l,o),inverse:e.noop,data:n}))?s:"")+"                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n"},2:function(e,t,r,a,n,l,o){var s,c=null!=t?t:e.nullContext||{},i=r.helperMissing,u="function",d=e.escapeExpression;return'                            <tr data-service-id="'+d((s=null!=(s=r._id||(null!=t?t._id:t))?s:i,typeof s===u?s.call(c,{name:"_id",hash:{},data:n}):s))+'">\n                                <td class="select-row-cell">\n                                    <input data-select-service type="checkbox"/>\n                                </td>\n                                <td class="wordwrap">\n                                    <a href="'+d((r.routeTo||t&&t.routeTo||i).call(c,"realmsServiceEdit",null!=o[1]?o[1].realmPath:o[1],null!=t?t._id:t,{name:"routeTo",hash:{},data:n}))+'" title="'+d((r.t||t&&t.t||i).call(c,"common.form.edit",{name:"t",hash:{},data:n}))+'">'+d((s=null!=(s=r.name||(null!=t?t.name:t))?s:i,typeof s===u?s.call(c,{name:"name",hash:{},data:n}):s))+'</a>\n                                </td>\n                                <td class="fr-col-btn-2">\n                                    <div class="btn-group">\n                                        <a class="btn btn-link" href="'+d((r.routeTo||t&&t.routeTo||i).call(c,"realmsServiceEdit",null!=o[1]?o[1].realmPath:o[1],null!=t?t._id:t,{name:"routeTo",hash:{},data:n}))+'" title="'+d((r.t||t&&t.t||i).call(c,"common.form.edit",{name:"t",hash:{},data:n}))+'">\n                                            <i class="fa fa-pencil"/>\n                                        </a>\n                                        <button type="button" data-delete-service class="btn btn-link" title="'+d((r.t||t&&t.t||i).call(c,"common.form.delete",{name:"t",hash:{},data:n}))+'">\n                                            <i class="fa fa-close"/>\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n'},4:function(e,t,r,a,n){var l=null!=t?t:e.nullContext||{},o=r.helperMissing,s=e.escapeExpression;return'    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="call-to-action-block">\n                <h3>'+s((r.t||t&&t.t||o).call(l,"console.services.list.addServicePrompt",{name:"t",hash:{},data:n}))+'</h3>\n                <a class="btn btn-primary" href="'+s((r.routeTo||t&&t.routeTo||o).call(l,"realmsServiceNew",null!=t?t.realmPath:t,{name:"routeTo",hash:{},data:n}))+'">\n                    <i class="fa fa-plus"></i> '+s((r.t||t&&t.t||o).call(l,"console.services.list.addService",{name:"t",hash:{},data:n}))+"\n                </a>\n            </div>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,r,a,n,l,o){var s,c=null!=t?t:e.nullContext||{};return(null!=(s=e.invokePartial(a["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.services.list.title"},data:n,helpers:r,partials:a,decorators:e.decorators}))?s:"")+'\n<p class="page-description">'+e.escapeExpression((r.t||t&&t.t||r.helperMissing).call(c,"console.services.list.description",{name:"t",hash:{},data:n}))+"</p>\n"+(null!=(s=r["if"].call(c,null!=(s=null!=t?t.services:t)?s.length:s,{name:"if",hash:{},fn:e.program(1,n,0,l,o),inverse:e.program(4,n,0,l,o),data:n}))?s:"")},usePartial:true,useData:true,useDepths:true})},1389:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){var r=[];var a=true;var n=false;var l=void 0;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){n=true;l=e}finally{try{!a&&o["return"]&&o["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=r(6);var l=P(n);var o=r(19);var s=P(o);var c=r(114);var i=P(c);var u=r(1533);var d=P(u);var f=r(560);var v=P(f);var p=r(73);var m=P(p);var h=r(1584);var g=P(h);var b=r(1200);var y=P(b);function P(e){return e&&e.__esModule?e:{default:e}}function A(e){return(0,s.default)(e).closest("tr").data("serviceId")}function _(e){var t=this;d.default.showConfirmationBeforeDeleting({message:s.default.t("console.services.list.confirmDeleteSelected",{count:e.length})},function(){g.default.instance.remove(t.data.realmPath,e).then(function(){t.rerender()},function(e){v.default.addMessage({type:v.default.TYPE_DANGER,response:e});t.rerender()})})}var T=i.default.extend({template:y.default,events:{"change [data-select-service]":"serviceSelected","click [data-delete-service]":"onDeleteSingle","click [data-delete-services]":"onDeleteMultiple","click [data-add-service]":"onAddService"},serviceSelected:function e(t){var r=this.$el.find("input[type=checkbox]").is(":checked");var a=(0,s.default)(t.currentTarget).closest("tr");a.toggleClass("selected");this.$el.find("[data-delete-services]").prop("disabled",!r)},onAddService:function e(t){t.preventDefault();m.default.routeTo(m.default.configuration.routes.realmsServiceNew,{args:[encodeURIComponent(this.data.realmPath)],trigger:true})},onDeleteSingle:function e(t){t.preventDefault();var r=A(t.currentTarget);l.default.bind(_,this)([r])},onDeleteMultiple:function e(t){t.preventDefault();var r=(0,l.default)(this.$el.find("input[type=checkbox]:checked")).toArray().map(A).value();l.default.bind(_,this)(r)},validateAddButton:function e(t){if(!l.default.isEmpty(t))return;this.$el.find("[data-add-service]").addClass("disabled").popover({trigger:"hover",container:"body",placement:"top",content:s.default.t("console.services.edit.unavaliable")})},render:function e(t,r){var n=this;this.data.args=t;this.data.realmPath=t[0];Promise.all([g.default.instance.getAll(this.data.realmPath),g.default.type.getCreatables(this.data.realmPath)]).then(function(e){var t=a(e,2),o=t[0],s=t[1];n.data.services=l.default.sortBy(o.result,"name");var c=l.default.sortBy(s.result,"name");n.parentRender(function(){n.validateAddButton(c);r&&r()})})},rerender:function e(){this.render(this.data.args)}});t.default=T},1526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var a=r(61);var n=r(655);var l=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.t)("common.form.delete");l.default.confirm({type:l.default.TYPE_DANGER,title:(0,a.t)("common.form.confirm")+" "+r,message:e.message?e.message:(0,a.t)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:r,btnOKClass:"btn-danger",callback:function e(r){r&&t&&t()}})}},1533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1537);var n=i(a);var l=r(1536);var o=i(l);var s=r(1526);var c=i(s);function i(e){return e&&e.__esModule?e:{default:e}}var u={};u.showConfirmationBeforeDeleting=function(e,t){(0,n.default)("FormHelper.showConfirmationBeforeDeleting","org/forgerock/openam/ui/admin/utils/form/showConfirmationBeforeAction");return(0,c.default)(e,t)};u.setActiveTab=function(e,t){(0,n.default)("FormHelper.setActiveTab","org/forgerock/openam/ui/admin/utils/form/setActiveTab");return(0,o.default)(e,t)};t.default=u},1536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e){e&&e.activeTabId&&e.$el.find('.nav-tabs a[href="'+e.activeTabId+'"]').tab("show")}},1537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;function a(e,t){console.warn(e+" is marked as deprecated. \nPlease use "+t)}},1584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(6);var n=g(a);var l=r(169);var o=g(l);var s=r(868);var c=g(s);var i=r(27);var u=g(i);var d=r(168);var f=g(d);var v=r(866);var p=g(v);var m=r(865);var h=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var b=new o.default(""+u.default.host+u.default.context+"/json");var y=function e(t,r){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new p.default(e)})};var P=function e(t,r,a){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"/"+a+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new p.default(e)})};b.instance={getAll:function e(t){return b.serviceCall({url:(0,f.default)("/realm-config/services?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})},get:function e(t,r){function a(){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([y(t,r),a()]).then(function(e){return{name:e[1]._type.name,schema:e[0],values:new h.default(e[1])}})},getInitialState:function e(t,r){function a(){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=template",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new h.default(e)})}return Promise.all([y(t,r),a()]).then(function(e){return{schema:e[0],values:e[1]}})},remove:function e(t,r){var a=n.default.map((0,c.default)(r),function(e){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+e,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})});return Promise.all(a)},update:function e(t,r,a){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:a}).then(function(e){return new h.default(e)})},create:function e(t,r,a){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:new h.default(a).toJSON()})}};b.type={getCreatables:function e(t){return b.serviceCall({url:(0,f.default)("/realm-config/services?_action=getCreatableTypes&forUI=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},subSchema:{type:{getAll:function e(t,r){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=getAllTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},getCreatables:function e(t,r){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=getCreatableTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})}},instance:{getAll:function e(t,r){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"?_action=nextdescendents",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"})},get:function e(t,r,a,n){function l(){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"/"+a+"/"+n,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){return new h.default(e)})}return Promise.all([P(t,r,a),l()]).then(function(e){return{schema:e[0],values:e[1]}})},getInitialState:function e(t,r,a){function n(e,r){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+e+"/"+r+"?_action=template",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new h.default(e)})}return Promise.all([P(t,r,a),n(r,a)]).then(function(e){return{schema:e[0],values:e[1]}})},remove:function e(t,r,a,n){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"/"+a+"/"+n,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,r,a,n,l){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"/"+a+"/"+n,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:l})},create:function e(t,r,a,n){return b.serviceCall({url:(0,f.default)("/realm-config/services/"+r+"/"+a+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(n)})}}}};t.default=b}}]);
//# sourceMappingURL=123.9c2d0d9fcc.js.map