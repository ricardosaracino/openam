(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[129],{1395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(3);var o=r(6);var u=r(61);var l=r(0);var i=A(l);var s=r(1);var c=A(s);var f=r(1615);var d=r(191);var v=r(193);var p=r(1527);var m=A(p);var h=r(2019);var y=A(h);var b=r(560);var g=A(b);var _=r(73);var E=A(_);var T=r(1526);var O=A(T);var w=r(1522);var P=A(w);var j=r(1521);var C=A(j);function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){k(t,e);function t(){M(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={isFetching:true};e.handleDelete=e.handleDelete.bind(e);e.handleEdit=e.handleEdit.bind(e);return e}a(t,[{key:"componentDidMount",value:function e(){var t=this;var r=this.props.router.params[0];(0,f.getAll)(r).then(function(e){t.setState({isFetching:false});t.props.setTrees(e.result)},function(e){t.setState({isFetching:false});g.default.addMessage({response:e,type:g.default.TYPE_DANGER})})}},{key:"handleDelete",value:function e(t){var r=this;var a=(0,o.map)(t,"_id");var n=this.props.router.params[0];(0,O.default)({message:(0,u.t)("console.authentication.trees.list.confirmDeleteSelected",{count:a.length})},function(){(0,f.remove)(n,a).then(function(e){g.default.messages.displayMessageFromConfig("changesSaved");(0,o.forEach)(e,function(e){r.props.removeTree.fromLocal(e._id);r.props.removeTree.fromRemote(e._id)})},function(e){g.default.addMessage({response:e,type:g.default.TYPE_DANGER})})})}},{key:"handleEdit",value:function e(t){var r=t._id;var a=this.props.router.params[0];E.default.routeTo(E.default.configuration.routes.realmsAuthenticationTreesEdit,{args:(0,o.map)([a,r],encodeURIComponent),trigger:true})}},{key:"render",value:function e(){var t=this.props.router.params[0];var r=E.default.getLink(E.default.configuration.routes.realmsAuthenticationTreesNew,[encodeURIComponent(t)]);return c.default.createElement(y.default,{isFetching:this.state.isFetching,items:this.props.trees,newHref:"#"+r,onDelete:this.handleDelete,onRowClick:this.handleEdit})}}]);return t}(s.Component);R.propTypes={removeTree:i.default.func.isRequired,router:C.default,setTrees:i.default.func.isRequired,trees:i.default.arrayOf(i.default.object)};R=(0,m.default)(R,function(e){return{trees:(0,o.values)(e.remote.config.realm.authentication.trees.list)}},function(e){return{removeTree:(0,n.bindActionCreators)({fromLocal:v.remove,fromRemote:d.remove},e),setTrees:(0,n.bindActionCreators)(d.set,e)}});R=(0,P.default)(R);t.default=R},1521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=l(a);var o=r(0);var u=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var i=u.default.shape({params:u.default.array.isRequired});t.default=i},1545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=l(a);var o=r(7);var u=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var i=function e(t,r,a){return n.default.createElement("span",{className:(0,u.default)({"am-table-icon-cell":true,"am-table-icon-cell-editable":r})},n.default.createElement("span",{className:"fa-stack fa-lg am-table-icon-cell-stack"},n.default.createElement("i",{className:"fa fa-circle fa-stack-2x text-primary"}),n.default.createElement("i",{className:"fa "+t+" fa-stack-1x fa-inverse"}))," ",n.default.createElement("span",null,a))};var s=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e){return i(t,r,e)}};t.default=s},1615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){var r=[];var a=true;var n=false;var o=void 0;try{for(var u=e[Symbol.iterator](),l;!(a=(l=u.next()).done);a=true){r.push(l.value);if(t&&r.length===t)break}}catch(e){n=true;o=e}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.create=y;t.update=b;t.get=g;t.getAll=_;t.getInitialState=E;t.remove=T;var o=r(6);var u=r(169);var l=d(u);var i=r(27);var s=d(i);var c=r(168);var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var v=new l.default(""+s.default.host+s.default.context+"/json");var p="/realm-config/authentication/authenticationtrees/trees";var m={"Accept-API-Version":"protocol=2.0,resource=1.0"};function h(e){var t=function e(t){return(0,o.omitBy)(t,function(e,t){return(0,o.startsWith)(t,"_")})};return n({},t(e),{nodes:(0,o.mapValues)(e.nodes,function(e){return t(e)})})}function y(e,t,r){return v.serviceCall({url:(0,f.default)(p+"/"+r,{realm:e}),type:"PUT",headers:n({},m,{"If-None-Match":"*"}),data:JSON.stringify(h(t)),errorsHandlers:{incorrectRevisionError:{status:412}}})}function b(e,t,r){return v.serviceCall({url:(0,f.default)(p+"/"+r,{realm:e}),type:"PUT",headers:m,data:JSON.stringify(h(t))})}function g(e,t){return v.serviceCall({url:(0,f.default)(p+"/"+t+"?forUI=true",{realm:e}),headers:m})}function _(e){return v.serviceCall({url:(0,f.default)(p+"?_action=getIds",{realm:e}),headers:m,suppressSpinner:true,type:"POST"})}function E(e){var t=v.serviceCall({url:(0,f.default)(p+"?_action=schema",{realm:e}),headers:m,type:"POST"});var r=v.serviceCall({url:(0,f.default)(p+"?_action=template",{realm:e}),headers:m,type:"POST"});return Promise.all([t,r]).then(function(e){var t=a(e,2),r=t[0],n=t[1];return{schema:r,template:n}})}function T(e,t){var r=(0,o.map)(t,function(t){return v.serviceCall({url:(0,f.default)(p+"/"+t,{realm:e}),headers:m,type:"DELETE"})});return Promise.all(r)}},2019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};var n=r(6);var o=r(570);var u=r(61);var l=r(656);var i=r(0);var s=b(i);var c=r(1);var f=b(c);var d=r(1545);var v=b(d);var p=r(1547);var m=b(p);var h=r(1529);var y=b(h);function b(e){return e&&e.__esModule?e:{default:e}}var g=function e(t){return f.default.createElement("div",null,f.default.createElement(y.default,{title:(0,u.t)("console.authentication.trees.list.title")}),f.default.createElement(o.Panel,null,f.default.createElement(o.Panel.Body,null,f.default.createElement(m.default,a({},(0,n.omit)(t,"children"),{addButton:{title:(0,u.t)("console.authentication.trees.list.callToAction.button"),href:t.newHref},description:(0,u.t)("console.authentication.trees.list.callToAction.description"),title:(0,u.t)("console.authentication.trees.list.callToAction.title")}),f.default.createElement(l.TableHeaderColumn,{dataField:"_id",dataFormat:(0,v.default)("fa-tree"),dataSort:true},(0,u.t)("console.authentication.trees.list.grid.0"))))))};g.propTypes={newHref:s.default.string.isRequired};t.default=g}}]);
//# sourceMappingURL=129.98c243df4f.js.map