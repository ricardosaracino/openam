(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[75,255,256],{1210:function(e,t,r){var n=r(62);e.exports=(n["default"]||n).template({1:function(e,t,r,n,a){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,r,n,a){var o,l=null!=t?t:e.nullContext||{},u=r.helperMissing,i=e.escapeExpression;return"\x3c!--\n  Copyright 2018 ForgeRock AS. All Rights Reserved\n\n  Use of this code requires a commercial software license with ForgeRock AS.\n  or with one of its affiliates. All use shall be exclusively subject\n  to such license between the licensee and ForgeRock AS.\n--\x3e\n<button data-save "+(null!=(o=r["if"].call(l,null!=t?t.saveDisabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?o:"")+' class="btn btn-primary pull-right" type="button">\n    '+i((r.t||t&&t.t||u).call(l,"common.form.saveChanges",{name:"t",hash:{},data:a}))+'\n</button>\n\n<div class="form-inline pull-right load-datastore-schema">\n    <label class="control-label" for="loadSchema">\n        '+i((r.t||t&&t.t||u).call(l,"common.form.loadSchema",{name:"t",hash:{},data:a}))+'\n    </label>\n    \n    <label class="am-toggle-switch">\n        <input data-load-schema id="loadSchema" type="checkbox" />\n        <span />\n    </label>\n</div>\n'},useData:true})},1211:function(e,t,r){var n=r(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,n,a){var o;return(null!=(o=e.invokePartial(n["headers/_TitleWithSubAndIcon"],t,{name:"headers/_TitleWithSubAndIcon",hash:{icon:"database",type:null!=t?t.name:t,title:null!=t?t.id:t},data:a,helpers:r,partials:n,decorators:e.decorators}))?o:"")+"\n<form data-json-form></form>"},usePartial:true,useData:true})},1341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var a=false;var o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{!n&&l["return"]&&l["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o=r(19);var l=I(o);var u=r(61);var i=r(1601);var c=r(114);var s=I(c);var d=r(1571);var f=I(d);var p=r(866);var m=I(p);var v=r(865);var h=I(v);var y=r(560);var b=I(y);var g=r(73);var _=I(g);var A=r(1211);var P=I(A);var w=r(1210);var S=I(w);function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j="templates/admin/views/realms/datastores/_DataStoresFooter";var k=function(e){R(t,e);function t(){O(this,t);var e=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.partials=C({},j,S.default);return e}a(t,[{key:"render",value:function e(t){var r=this;var a=n(t,3),o=a[0],c=a[1],s=a[2];var d=new f.default({data:{id:s,headerActions:[{actionPartial:"form/_Button",data:"delete",title:"common.form.delete",icon:"fa-times"}]},footer:"templates/admin/views/realms/datastores/_DataStoresFooter",listRoute:_.default.configuration.routes.realmsDataStores,listRouteArgs:[encodeURIComponent(o)],template:P.default,getInstance:function e(){return Promise.all([(0,i.getSchema)(o,c),(0,i.get)(o,c,s),(0,i.getTypeDisplayName)(o,c)]).then(function(e){var t=n(e,3),r=t[0],a=t[1],o=t[2];return{id:s,name:o||c,schema:new m.default(r),values:new h.default(a)}})},updateInstance:function e(t){return(0,i.update)(o,JSON.parse(t)).then(function(){if(r.$el.find("[data-load-schema]").prop("checked"))return(0,i.loadSchema)(o,JSON.parse(t)).then(function(){b.default.addMessage({message:(0,u.t)("config.messages.AdminMessages.schemaLoaded")});r.$el.find("[data-load-schema]").prop("checked",false)},function(e){b.default.addMessage({response:e,type:b.default.TYPE_DANGER})});return l.default.Deferred().resolve()})},deleteInstance:function e(t){return(0,i.remove)(o,[t.raw])}});this.parentRender(function(){r.$el.append(d.render().$el)})}}]);return t}(s.default);t.default=k},1601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=p;t.getSchema=m;t.getInitialState=v;t.getCreatableTypes=h;t.getAll=y;t.getTypes=b;t.remove=g;t.get=_;t.update=A;t.getTypeDisplayName=P;t.loadSchema=w;var n=r(6);var a=r(169);var o=s(a);var l=r(27);var u=s(l);var i=r(168);var c=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var d=new o.default(""+u.default.host+u.default.context+"/json");var f="/realm-config/services/id-repositories";function p(e,t,r,n){return d.serviceCall({url:(0,c.default)(f+"/"+t+"/"+encodeURIComponent(n),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(r)})}function m(e,t){return d.serviceCall({url:(0,c.default)(f+"/"+t+"?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function v(e,t){function r(){return d.serviceCall({url:(0,c.default)(f+"/"+t+"?_action=template",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}return Promise.all([m(e,t),r()]).then(function(e){return{schema:e[0],values:e[1]}})}function h(e){return d.serviceCall({url:(0,c.default)(f+"?_action=getCreatableTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function y(e){return d.serviceCall({url:(0,c.default)(f+"?_action=nextdescendents",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function b(e){return d.serviceCall({url:(0,c.default)(f+"?_action=getAllTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function g(e,t){var r=(0,n.map)(t,function(t){return d.serviceCall({url:(0,c.default)(f+"/"+t._type._id+"/"+encodeURIComponent(t._id),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})});return Promise.all(r)}function _(e,t,r){var n=function n(){return d.serviceCall({url:(0,c.default)(f+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})};return Promise.all([m(e,t),n()]).then(function(e){return e[1]})}function A(e,t){return d.serviceCall({url:(0,c.default)(f+"/"+encodeURIComponent(t._type._id)+"/"+encodeURIComponent(t._id),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify((0,n.omit)(t,"_rev"))})}function P(e,t){return b(e).then(function(e){var r=(0,n.find)(e.result,function(e){return e._id===t});var a=r?r.name:null;return a})}function w(e,t){var r=f+"/"+encodeURIComponent(t._type._id)+"/"+encodeURIComponent(t._id);return d.serviceCall({url:(0,c.default)(r+"?_action=loadSchema",{realm:e}),type:"POST",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}}}]);
//# sourceMappingURL=75.e9f1abeb8a.js.map