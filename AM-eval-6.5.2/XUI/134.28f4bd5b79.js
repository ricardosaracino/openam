(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[134,230,299,300,301,302,303,304,305,306,307,310,311,398],{1168:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var l;return"alert-"+t.escapeExpression((l=null!=(l=a.type||(null!=e?e.type:e))?l:a.helperMissing,"function"===typeof l?l.call(null!=e?e:t.nullContext||{},{name:"type",hash:{},data:i}):l))},3:function(t,e,a,n,i){return'<button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">Ã—</span><span class="sr-only">'+t.escapeExpression((a.t||e&&e.t||a.helperMissing).call(null!=e?e:t.nullContext||{},"console.common.form.close",{name:"t",hash:{},data:i}))+"</span></button>"},5:function(t,e,a,n,i){return'            <i class="fa fa-check-circle-o"></i>\n'},7:function(t,e,a,n,i){return'            <i class="fa fa-exclamation-circle"></i>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing;return'\x3c!--\n  Copyright 2015-2017 ForgeRock AS. All Rights Reserved\n \n  Use of this code requires a commercial software license with ForgeRock AS.\n  or with one of its affiliates. All use shall be exclusively subject\n  to such license between the licensee and ForgeRock AS.\n--\x3e\n<div class="alert '+(null!=(l=a["if"].call(o,null!=e?e.type:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?l:"")+'" role="alert">\n    <div class="media">\n        '+(null!=(l=a["if"].call(o,null!=e?e.dismissable:e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?l:"")+'\n        <div class="media-left" href="#">\n'+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"success",{name:"equals",hash:{},fn:t.program(5,i,0),inverse:t.program(7,i,0),data:i}))?l:"")+'        </div>\n        <div class="media-body">\n            '+t.escapeExpression((a.t||e&&e.t||s).call(o,null!=e?e.text:e,{name:"t",hash:{},data:i}))+"\n        </div>\n    </div>\n</div>\n"},useData:true})},1180:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l;return'<select class="form-control">\n    <option disabled value="">'+t.escapeExpression((l=null!=(l=a.placeholder||(null!=e?e.placeholder:e))?l:a.helperMissing,"function"===typeof l?l.call(null!=e?e:t.nullContext||{},{name:"placeholder",hash:{},data:i}):l))+"...</option>\n</select>\n"},useData:true})},1250:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l;return"\n"+(null!=(l=t.invokePartial(n["alerts/_Alert"],e,{name:"alerts/_Alert",hash:{text:"console.authentication.editChains.processingClass.duplicateClass",type:"warning"},data:i,helpers:a,partials:n,decorators:t.decorators}))?l:"")},usePartial:true,useData:true})},1251:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l;return null!=(l=t.invokePartial(n["alerts/_Alert"],e,{name:"alerts/_Alert",hash:{text:"console.authentication.editChains.alerts.reqdFailSuffPass",type:"warning"},data:i,helpers:a,partials:n,decorators:t.decorators}))?l:""},usePartial:true,useData:true})},1252:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){return'        <div class="panel-arrow-down panel-arrow-fail text-danger text-center">\n            '+t.escapeExpression((a.t||e&&e.t||a.helperMissing).call(null!=e?e:t.nullContext||{},"common.form.fail",{name:"t",hash:{},data:i}))+' <span class="badge badge-danger"><i class="fa fa-flag"></i></span>\n            <div class="panel-arrow">\n                <div class="panel-arrow-square"></div>\n                <div class="panel-arrow-triangle"></div>\n            </div>\n        </div>\n'},3:function(t,e,a,n,i){return'        <div class="panel-arrow-down panel-arrow-fail text-muted text-center">\n            '+t.escapeExpression((a.t||e&&e.t||a.helperMissing).call(null!=e?e:t.nullContext||{},"common.form.continue",{name:"t",hash:{},data:i}))+'\n            <div class="panel-arrow">\n                <div class="panel-arrow-square"></div>\n                <div class="panel-arrow-triangle"></div>\n            </div>\n        </div>\n'},5:function(t,e,a,n,i){return'        <div class="panel-arrow-left panel-arrow-fail text-danger text-center">\n            '+t.escapeExpression((a.t||e&&e.t||a.helperMissing).call(null!=e?e:t.nullContext||{},"common.form.fail",{name:"t",hash:{},data:i}))+' <span class="badge badge-danger"><i class="fa fa-flag"></i></span>\n            <div class="panel-arrow">\n                <div class="panel-arrow-square"></div>\n                <div class="panel-arrow-triangle"></div>\n            </div>\n        </div>\n'},7:function(t,e,a,n,i){return"panel-arrow-right"},9:function(t,e,a,n,i){return" panel-arrow-down"},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing;return'<div class="row">\n    <div class="col-xs-6">\n\n'+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"REQUIRED",{name:"equals",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"SUFFICIENT",{name:"equals",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"OPTIONAL",{name:"equals",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"REQUISITE",{name:"equals",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?l:"")+'    </div>\n    <div class="col-xs-6">\n        <div class="'+(null!=(l=(a.equals||e&&e.equals||s).call(o,null!=e?e.type:e,"SUFFICIENT",{name:"equals",hash:{},fn:t.program(7,i,0),inverse:t.program(9,i,0),data:i}))?l:"")+' panel-arrow-success text-success text-center">\n            '+t.escapeExpression((a.t||e&&e.t||s).call(o,"common.form.pass",{name:"t",hash:{},data:i}))+' <span class="badge badge-success"><i class="fa fa-flag"></i></span>\n            <div class="panel-arrow">\n                <div class="panel-arrow-square"></div>\n                <div class="panel-arrow-triangle"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:true})},1253:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var l;return"    <tr "+(null!=(l=(a.equals||e&&e.equals||a.helperMissing).call(null!=e?e:t.nullContext||{},e,"",{name:"equals",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?l:"")+">\n        <td><code>"+t.escapeExpression(t.lambda(e,e))+'</code></td>\n        <td class="fr-col-btn-1">\n            <div class="btn-group">\n                <button class="btn btn-link" data-delete-process-class><i class="fa fa-times"></i></button>\n            </div>\n        </td>\n    </tr>\n'},2:function(t,e,a,n,i){return'class="hidden"'},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r=t.escapeExpression;return"<thead>\n    <tr>\n        <th>"+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.processingClass.className",{name:"t",hash:{},data:i}))+'</th>\n        <th class="fr-col-btn-1"></th>\n    </tr>\n</thead>\n<tbody>\n'+(null!=(l=a.each.call(o,null!=(l=null!=e?e.chainData:e)?l.loginPostProcessClass:l,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?l:"")+'    <tr class="tr-row">\n        <td><input type="text" class="form-control" data-new-process-class placeholder="'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.addValue",{name:"t",hash:{},data:i}))+'"></td>\n        <td class="fr-col-btn-1">\n            <div class="btn-group">\n                <button data-add-process-class class="btn btn-default" disabled type="button"><i class="fa fa-plus"></i></button>\n            </div>\n        </td>\n    </tr>\n    <tr class="tr-row" ><td colspan="2" id="alertContainer"></td></tr>\n</tbody>\n'},useData:true})},1254:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r="function",c=t.escapeExpression;return"<div class='row'>\n    <div class='col-sm-12'>\n        <p>"+c((l=null!=(l=a.passText||(null!=e?e.passText:e))?l:s,typeof l===r?l.call(o,{name:"passText",hash:{},data:i}):l))+"</p>\n        <p>"+c((l=null!=(l=a.failText||(null!=e?e.failText:e))?l:s,typeof l===r?l.call(o,{name:"failText",hash:{},data:i}):l))+"</p>\n    </div>\n</div>\n"},useData:true})},1255:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var l;return"                            "+t.escapeExpression((l=null!=(l=a.typeDescription||(null!=e?e.typeDescription:e))?l:a.helperMissing,"function"===typeof l?l.call(null!=e?e:t.nullContext||{},{name:"typeDescription",hash:{},data:i}):l))+"\n"},3:function(t,e,a,n,i){var l;return"                            "+t.escapeExpression(t.lambda(null!=(l=null!=e?e.linkConfig:e)?l.type:l,e))+"\n"},5:function(t,e,a,n,i,l,o){var s,r,c=null!=e?e:t.nullContext||{},d=a.helperMissing,u=t.escapeExpression;return'                            <option value="'+u((r=null!=(r=a.key||i&&i.key)?r:d,"function"===typeof r?r.call(c,{name:"key",hash:{},data:i}):r))+'" '+(null!=(s=(a.equals||e&&e.equals||d).call(c,null!=(s=null!=o[1]?o[1].linkConfig:o[1])?s.criteria:s,i&&i.key,{name:"equals",hash:{},fn:t.program(6,i,0,l,o),inverse:t.noop,data:i}))?s:"")+">\n                                "+u(t.lambda(e,e))+"\n                            </option>\n"},6:function(t,e,a,n,i){return"selected"},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i,l,o){var s,r,c=t.escapeExpression,d=null!=e?e:t.nullContext||{},u=a.helperMissing;return'<div class="panel panel-default panel-card">\n\n    <div class="panel-body">\n        <div class="form-group">\n            <div class="media">\n                <div class="media-left">\n                    <div class="circle-icon circle-icon-sm">\n                        <i class="fa fa-cube"></i>\n                    </div>\n                </div>\n                <div class="media-body">\n                    <h3 class="media-heading">'+c(t.lambda(null!=(s=null!=e?e.linkConfig:e)?s.module:s,e))+'</h3>\n                    <div class="status text-muted">\n'+(null!=(s=a["if"].call(d,null!=e?e.typeDescription:e,{name:"if",hash:{},fn:t.program(1,i,0,l,o),inverse:t.program(3,i,0,l,o),data:i}))?s:"")+'                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="pull-right">\n            <div class="text-valign-middle">\n                '+c((a.t||e&&e.t||u).call(d,"console.authentication.editChains.options",{name:"t",hash:{},data:i}))+' <span class="badge">'+c((r=null!=(r=a.optionsLength||(null!=e?e.optionsLength:e))?r:u,"function"===typeof r?r.call(d,{name:"optionsLength",hash:{},data:i}):r))+'</span>\n            </div>\n        </div>\n\n        <div class="row">\n\n            <div class="col-xs-12 col-sm-9 col-md-6 col-lg-4">\n                <div class="select-group">\n                    <select class="form-control inline-block" data-select-criteria>\n'+(null!=(s=a.each.call(d,null!=e?e.allCriteria:e,{name:"each",hash:{},fn:t.program(5,i,0,l,o),inverse:t.noop,data:i}))?s:"")+'                    </select>\n                    <button type="button" class="btn btn-link hidden-xs" data-auth-criteria-info><i class="fa fa-info-circle"></i></button>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n    <div class="panel-menu">\n        <div class="btn-group">\n            <button type="button" class="btn btn-link">\n                <i class="fa fa-arrows "></i>\n            </button>\n            <button type="button" class="btn btn-link" data-edit>\n                <i class="fa fa-pencil "></i>\n            </button>\n            <button type="button" class="btn btn-link" data-delete>\n                <i class="fa fa-times"></i>\n            </button>\n        </div>\n    </div>\n\n    <div class="panel-footer criteria-view"></div>\n\n</div>\n'},useData:true,useDepths:true})},1256:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l=null!=e?e:t.nullContext||{},o=a.helperMissing,s=t.escapeExpression;return'<div class="block">\n    <div class="row">\n        <div class="col-sm-6">\n            <label class="block-header">'+s((a.t||e&&e.t||o).call(l,"console.authentication.editChains.selectModule",{name:"t",hash:{},data:i}))+'</label>\n            <span data-module-select></span>\n        </div>\n\n        <div class="col-sm-6">\n            <label class="block-header">'+s((a.t||e&&e.t||o).call(l,"console.authentication.editChains.selectCriteria",{name:"t",hash:{},data:i}))+'</label>\n            <span data-criteria-select></span>\n        </div>\n    </div>\n</div>\n<div id="editLinkOptions"></div>\n'},useData:true})},1257:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({1:function(t,e,a,n,i){var l=null!=e?e:t.nullContext||{},o=a.helperMissing,s=t.escapeExpression;return"    <thead>\n        <tr>\n            <th>"+s((a.t||e&&e.t||o).call(l,"common.form.key",{name:"t",hash:{},data:i}))+"</th>\n            <th>"+s((a.t||e&&e.t||o).call(l,"common.form.value",{name:"t",hash:{},data:i}))+'</th>\n            <th class="fr-col-btn-1"></th>\n        </tr>\n    </thead>\n'},3:function(t,e,a,n,i){var l,o=t.escapeExpression;return'        <tr>\n            <td class="optionsKey">'+o((l=null!=(l=a.key||i&&i.key)?l:a.helperMissing,"function"===typeof l?l.call(null!=e?e:t.nullContext||{},{name:"key",hash:{},data:i}):l))+'</td>\n            <td class="optionsValue">'+o(t.lambda(e,e))+'</td>\n            <td class="fr-col-btn-1">\n                <div class="btn-group">\n                    <button class="btn btn-link" data-delete-option><i class="fa fa-times"></i></button>\n                </div>\n            </td>\n        </tr>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r=t.escapeExpression;return'<label class="block-header">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.options",{name:"t",hash:{},data:i}))+'</label>\n<table class="table">\n'+(null!=(l=a["if"].call(o,null!=(l=null!=e?e.linkConfig:e)?l.options:l,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?l:"")+"    <tbody>\n"+(null!=(l=a.each.call(o,null!=(l=null!=e?e.linkConfig:e)?l.options:l,{name:"each",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?l:"")+'\n        <tr class="tr-row">\n            <td>\n                <label class="sr-only" for="optionsKey">'+r((a.t||e&&e.t||s).call(o,"common.form.key",{name:"t",hash:{},data:i}))+'</label>\n                <input type="text" class="form-control" id="optionsKey" placeholder="'+r((a.t||e&&e.t||s).call(o,"common.form.addKey",{name:"t",hash:{},data:i}))+'">\n            </td>\n            <td>\n                <label class="sr-only" for="optionsKey">'+r((a.t||e&&e.t||s).call(o,"common.form.value",{name:"t",hash:{},data:i}))+'</label>\n                <input type="text" class="form-control" id="optionsValue" placeholder="'+r((a.t||e&&e.t||s).call(o,"common.form.addValue",{name:"t",hash:{},data:i}))+'">\n            </td>\n            <td class="fr-col-btn-1">\n                <div class="btn-group">\n                    <button data-add-option type="submit" class="btn btn-default"><i class="fa fa-plus"></i></button>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n'},useData:true})},1258:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r=t.escapeExpression,c=t.lambda;return(null!=(l=t.invokePartial(n["headers/_TitleWithSubAndIcon"],e,{name:"headers/_TitleWithSubAndIcon",hash:{icon:"link",type:"console.authentication.editChains.chains",title:null!=(l=null!=(l=null!=e?e.form:e)?l.chainData:l)?l._id:l},data:i,helpers:a,partials:n,decorators:t.decorators}))?l:"")+'\n<p class="page-description">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.moduleHelp",{name:"t",hash:{},data:i}))+'</p>\n\n<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n        <li class="active"><a href="#chains" role="tab"  data-toggle="tab" aria-expanded="true"> '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.editChain",{name:"t",hash:{},data:i}))+'</a></li>\n        <li><a href="#settings" role="tab" data-toggle="tab" aria-expanded="true"> '+r((a.t||e&&e.t||s).call(o,"common.form.settings",{name:"t",hash:{},data:i}))+'</a></li>\n    </ul>\n</div>\n\n<div class="panel panel-default fr-panel-tab">\n\n    <div class="tab-content" id="editChainView">\n\n        <div role="tabpanel" class="tab-pane active" id="chains">\n\n            <div class="panel-body">\n                <div class="btn-toolbar hidden">\n                    <button type="button" class="btn btn-primary" data-add-new-module>\n                        <i class="fa fa-plus"></i> '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.addModule",{name:"t",hash:{},data:i}))+'\n                    </button>\n                    <div class="pull-right text-valign-middle auth-chains-legend">\n                        '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.0",{name:"t",hash:{},data:i}))+'\n                        <span class="badge badge-success"><i class="fa fa-flag"></i></span>\n                        '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.1",{name:"t",hash:{},data:i}))+'\n                        <span class="badge badge-danger"><i class="fa fa-flag"></i> </span>\n                        '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.2",{name:"t",hash:{},data:i}))+'\n                    </div>\n                </div>\n\n                <div id="sortableContainer">\n                    <ol id="sortableAuthChain" class="list-unstyled hidden"></ol>\n                </div>\n                <div class="call-to-action-block hidden">\n                    <h3>'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.callToAction",{name:"t",hash:{},data:i}))+'</h3>\n                    <button type="button" class="btn btn-primary" data-add-new-module>\n                        <i class="fa fa-plus"></i> '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.addModule",{name:"t",hash:{},data:i}))+'\n                    </button>\n                </div>\n\n                <div id="lowerAuthChainsLegend" class="hidden">\n                    <div class="panel panel-default">\n                        <div class="panel-body">\n                            <div class="text-center auth-chains-legend">\n                                '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.0",{name:"t",hash:{},data:i}))+'\n                                <span class="badge badge-success"><i class="fa fa-flag"></i></span>\n                                '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.1",{name:"t",hash:{},data:i}))+'\n                                <span class="badge badge-danger"><i class="fa fa-flag"></i> </span>\n                                '+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.legend.2",{name:"t",hash:{},data:i}))+'\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div id="alertContainer"></div>\n            </div>\n\n            <div class="panel-footer clearfix">\n                <div class="pull-right">\n                    <button data-save-chain class="btn btn-primary" type="button" disabled>\n                        <span>'+r((a.t||e&&e.t||s).call(o,"common.form.saveChanges",{name:"t",hash:{},data:i}))+'</span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="settings">\n\n            <div class="panel-body">\n\n                <div class="block clearfix">\n                    <h3 class="block-header">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.redirectUrls",{name:"t",hash:{},data:i}))+'</h3>\n                    <p class="panel-description">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.redirectUrlsHelp",{name:"t",hash:{},data:i}))+'</p>\n                    <div class="form-horizontal">\n                        <div class="form-group">\n                            <label for="loginSuccessUrl" class="control-label col-sm-4">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.successUrl",{name:"t",hash:{},data:i}))+'</label>\n                            <div class="col-sm-6">\n                                <input id="loginSuccessUrl" type="text" class="form-control input-btn" placeholder="'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.addUrl",{name:"t",hash:{},data:i}))+'"  value="'+r(c(null!=(l=null!=(l=null!=(l=null!=e?e.form:e)?l.chainData:l)?l.loginSuccessUrl:l)?l["0"]:l,e))+'">\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="loginFailureUrl" class="control-label col-sm-4">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.failUrl",{name:"t",hash:{},data:i}))+'</label>\n                            <div class="col-sm-6">\n                                <input id="loginFailureUrl" type="text" class="form-control input-btn" placeholder="'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.addUrl",{name:"t",hash:{},data:i}))+'" value="'+r(c(null!=(l=null!=(l=null!=(l=null!=e?e.form:e)?l.chainData:l)?l.loginFailureUrl:l)?l["0"]:l,e))+'">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="block clearfix">\n                    <h3 class="block-header">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.processingClass.title",{name:"t",hash:{},data:i}))+'</h3>\n                    <p class="panel-description">'+r((a.t||e&&e.t||s).call(o,"console.authentication.editChains.processingClass.help",{name:"t",hash:{},data:i}))+'</p>\n                    <table class="table" id="postProcessView"></table>\n                </div>\n\n                <div class="panel-footer clearfix">\n                    <div class="pull-right">\n                        <button data-save-settings class="btn btn-primary" type="button">\n                            <span>'+r((a.t||e&&e.t||s).call(o,"common.form.saveChanges",{name:"t",hash:{},data:i}))+"</span>\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n\n</div>\n"},usePartial:true,useData:true})},1261:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r="function",c=t.escapeExpression;return"<div><div>"+c((l=null!=(l=a._id||(null!=e?e._id:e))?l:s,typeof l===r?l.call(o,{name:"_id",hash:{},data:i}):l))+"</div><div class='small text-muted'><em>"+c((l=null!=(l=a.typeDescription||(null!=e?e.typeDescription:e))?l:s,typeof l===r?l.call(o,{name:"typeDescription",hash:{},data:i}):l))+"</em></div></div>\n"},useData:true})},1262:function(t,e,a){var n=a(62);t.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,i){var l,o=null!=e?e:t.nullContext||{},s=a.helperMissing,r="function",c=t.escapeExpression;return"<div>"+c((l=null!=(l=a._id||(null!=e?e._id:e))?l:s,typeof l===r?l.call(o,{name:"_id",hash:{},data:i}):l))+" - <span class='text-muted'><em>"+c((l=null!=(l=a.typeDescription||(null!=e?e.typeDescription:e))?l:s,typeof l===r?l.call(o,{name:"typeDescription",hash:{},data:i}):l))+"</em></span></div>\n"},useData:true})},1400:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});a(1673);var n=a(6);var i=S(n);var l=a(19);var o=S(l);var s=a(114);var r=S(s);var c=a(1168);var d=S(c);var u=a(1558);var h=S(u);var f=a(27);var p=S(f);var v=a(1251);var m=S(v);var g=a(1258);var b=S(g);var C=a(2024);var y=S(C);var x=a(59);var D=S(x);var w=a(1533);var P=S(w);var _=a(2022);var k=S(_);var A=a(560);var T=S(A);var M=a(2021);var E=S(M);var I=a(73);var O=S(I);function S(t){return t&&t.__esModule?t:{default:t}}var $=function t(e,a){var n=new k.default;n.el=(0,o.default)("<li class='chain-link' />");n.element=n.el;n.parent=a;n.data={typeDescription:"",allModules:a.data.allModules,linkConfig:a.data.form.chainData.authChainConfiguration[e],allCriteria:{REQUIRED:o.default.t("console.authentication.editChains.criteria.0.title"),OPTIONAL:o.default.t("console.authentication.editChains.criteria.1.title"),REQUISITE:o.default.t("console.authentication.editChains.criteria.2.title"),SUFFICIENT:o.default.t("console.authentication.editChains.criteria.3.title")}};return n},F=function t(e){e.$el.find("ol#sortableAuthChain").sortable({exclude:"li:not(.chain-link)",delay:100,vertical:true,placeholder:"<li class='placeholder'><div class='placeholder-inner'></div></i>",onDrag:function t(a,n){a.css({left:n.left-e.adjustment.left,top:n.top-e.adjustment.top})},onDragStart:function t(a,n){var i=a.offset(),l=n.rootGroup.pointer;e.adjustment={left:l.left-i.left+5,top:l.top-i.top};e.originalIndex=a.index();a.addClass("dragged");a.width(a.width());(0,o.default)("body").addClass("dragging")},onDrop:function t(a,n,i){e.sortChainData(e.originalIndex,a.index());e.validateChain();i(a,n)}})};e.default=r.default.extend({template:b.default,events:{"click [data-save-chain]":"saveChain","click [data-save-settings]":"saveSettings","click [data-add-new-module]":"addNewModule","click [data-delete]":"onDeleteClick"},partials:{"alerts/_Alert":d.default},addItemToList:function t(e){this.$el.find("ol#sortableAuthChain").append(e)},addNewModule:function t(){var e=this.data.form.chainData.authChainConfiguration.length,a=$(e,this);this.editItem(a)},editItem:function t(e){y.default.show(e)},onDeleteClick:function t(e){e.preventDefault();if((0,o.default)(e.currentTarget).hasClass("disabled"))return false;P.default.showConfirmationBeforeDeleting({type:o.default.t("console.authentication.modules.chain")},i.default.bind(this.deleteChain,this))},deleteChain:function t(){var e=this;h.default.authentication.chains.remove(e.data.realmPath,e.data.form.chainData._id).then(function(){T.default.addMessage({type:T.default.TYPE_INFO,message:o.default.t("console.authentication.editChains.deletedChain")});O.default.routeTo(O.default.configuration.routes.realmsAuthenticationChains,{args:[encodeURIComponent(e.data.realmPath)],trigger:true})},function(t){T.default.addMessage({type:T.default.TYPE_DANGER,response:t})})},render:function t(e){var a=this;h.default.authentication.chains.get(e[0],e[1]).then(function(t){a.data={realmPath:e[0],allModules:t.modulesData,form:{chainData:t.chainData},headerActions:[{actionPartial:"form/_Button",data:"delete",title:"common.form.delete",icon:"fa-times"}]};a.parentRender(function(){if(a.data.form.chainData.adminAuthModule||a.data.form.chainData.orgConfig){var t={trigger:"hover",container:"body",placement:"top"};a.data.form.chainData.adminAuthModule&&a.data.form.chainData.orgConfig?t.content=o.default.t("console.authentication.editChains.deleteBtnTooltip.defaultAdminOrgAuthChain"):a.data.form.chainData.adminAuthModule?t.content=o.default.t("console.authentication.editChains.deleteBtnTooltip.defaultAdminAuthChain"):t.content=o.default.t("console.authentication.editChains.deleteBtnTooltip.defaultOrgAuthChain");a.$el.find("[data-delete]").addClass("disabled").popover(t)}a.data.form.chainData.authChainConfiguration.length>0?i.default.each(a.data.form.chainData.authChainConfiguration,function(t,e){var n=$(e,a);a.addItemToList(n.element);n.render()}):a.validateChain();F(a);E.default.render(a.data.form.chainData)})},function(t){T.default.addMessage({type:T.default.TYPE_DANGER,response:t})})},saveSettings:function t(){var e=this,a=this.data.form.chainData;a.loginSuccessUrl[0]=this.$el.find("#loginSuccessUrl").val();a.loginFailureUrl[0]=this.$el.find("#loginFailureUrl").val();E.default.addClassNameDialog().then(function(){var t={loginFailureUrl:a.loginFailureUrl,loginPostProcessClass:a.loginPostProcessClass,loginSuccessUrl:a.loginSuccessUrl};h.default.authentication.chains.update(e.data.realmPath,a._id,t).then(function(){D.default.sendEvent(p.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")},function(t){T.default.addMessage({type:T.default.TYPE_DANGER,response:t})})})},saveChain:function t(){var e=this.data.form.chainData,a={authChainConfiguration:e.authChainConfiguration};h.default.authentication.chains.update(this.data.realmPath,e._id,a).then(function(){D.default.sendEvent(p.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")},function(t){T.default.addMessage({type:T.default.TYPE_DANGER,response:t})})},sortChainData:function t(e,a){var n=this.data.form.chainData.authChainConfiguration.splice(e,1)[0];this.data.form.chainData.authChainConfiguration.splice(a,0,n)},validateChain:function t(){var e=false,a="",n,l,o=this.data.form.chainData.authChainConfiguration;if(0===o.length){e=true;this.$el.find("#sortableAuthChain").addClass("hidden");this.$el.find("#lowerAuthChainsLegend").addClass("hidden");this.$el.find(".btn-toolbar").addClass("hidden");this.$el.find(".call-to-action-block").removeClass("hidden")}else{this.$el.find(".call-to-action-block").addClass("hidden");n=i.default.findIndex(o,{criteria:"REQUIRED"});l=i.default.findIndex(i.default.drop(o,n),{criteria:"SUFFICIENT"});n>-1&&l>-1&&n<l&&o.length-1>l&&(a=(0,m.default)());this.$el.find("#sortableAuthChain").removeClass("hidden");this.$el.find("#lowerAuthChainsLegend").removeClass("hidden");this.$el.find(".btn-toolbar").removeClass("hidden")}this.$el.find("#alertContainer").html(a);this.$el.find("[data-save-chain]").prop("disabled",e)}})},1526:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=s;var n=a(61);var i=a(655);var l=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,n.t)("common.form.delete");l.default.confirm({type:l.default.TYPE_DANGER,title:(0,n.t)("common.form.confirm")+" "+a,message:t.message?t.message:(0,n.t)("console.common.confirmDeleteText",{type:t.type}),btnOKLabel:a,btnOKClass:"btn-danger",callback:function t(a){a&&e&&e()}})}},1533:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=a(1537);var i=c(n);var l=a(1536);var o=c(l);var s=a(1526);var r=c(s);function c(t){return t&&t.__esModule?t:{default:t}}var d={};d.showConfirmationBeforeDeleting=function(t,e){(0,i.default)("FormHelper.showConfirmationBeforeDeleting","org/forgerock/openam/ui/admin/utils/form/showConfirmationBeforeAction");return(0,r.default)(t,e)};d.setActiveTab=function(t,e){(0,i.default)("FormHelper.setActiveTab","org/forgerock/openam/ui/admin/utils/form/setActiveTab");return(0,o.default)(t,e)};e.default=d},1536:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=function(t){t&&t.activeTabId&&t.$el.find('.nav-tabs a[href="'+t.activeTabId+'"]').tab("show")}},1537:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=n;function n(t,e){console.warn(t+" is marked as deprecated. \nPlease use "+e)}},1558:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){var a=[];var n=true;var i=false;var l=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){a.push(s.value);if(e&&a.length===e)break}}catch(t){i=true;l=t}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var i=a(6);var l=a(19);var o=C(l);var s=a(169);var r=C(s);var c=a(27);var d=C(c);var u=a(168);var h=C(u);var f=a(866);var p=C(f);var v=a(865);var m=C(v);var g=a(867);var b=C(g);function C(t){return t&&t.__esModule?t:{default:t}}var y=new r.default(""+d.default.host+d.default.context+"/json");y.authentication={get:function t(e){return b.default.schemaWithValues(y,(0,h.default)("/realm-config/authentication",{realm:e}))},update:function t(e,a){return y.serviceCall({url:(0,h.default)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})},chains:{all:function t(e){return Promise.all([y.serviceCall({url:(0,h.default)("/realm-config/authentication/chains?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,h.default)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(t){var e=n(t,2),a=e[0],l=e[1];(0,i.each)(a.result,function(t){if(t._id===l.adminAuthModule){t.defaultConfig=t.defaultConfig||{};t.defaultConfig.adminAuthModule=true}if(t._id===l.orgConfig){t.defaultConfig=t.defaultConfig||{};t.defaultConfig.orgConfig=true}});return{values:a}})},create:function t(e,a){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/chains?_action=create",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function t(e,a){var l;return Promise.all([y.serviceCall({url:(0,h.default)("/realm-config/authentication",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,h.default)("/realm-config/authentication/chains/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(t){var e=n(t,3),a=e[0],o=e[1],s=e[2];o._id===a.adminAuthModule&&(o.adminAuthModule=true);o._id===a.orgConfig&&(o.orgConfig=true);o.authChainConfiguration=o.authChainConfiguration||[];(0,i.each)(o.authChainConfiguration,function(t){l=(0,i.find)(s.result,{_id:t.module});l&&(t.type=l.type)});return{chainData:o,modulesData:(0,i.sortBy)(s.result,"_id")}})},remove:function t(e,a){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/chains/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function t(e,a,n){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/chains/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(n)})}},modules:{all:function t(e){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(t){var e=t.result;return(0,i.sortBy)(e,"_id")})},create:function t(e,a,n){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules/"+n+"?_action=create",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function t(e,a,i){function l(){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules/"+i+"/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([this.schema(e,i),l(),this.types.get(e,i)]).then(function(t){var e=n(t,3),a=e[0],i=e[1],l=e[2];return{name:l.name,schema:a,values:new m.default(i)}})},exists:function t(e,a){var n=o.default.Deferred(),i="_queryFilter="+encodeURIComponent('_id eq "'+a+'"')+"&_fields=_id",l=y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules?"+i,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}});l.then(function(t){n.resolve(t.result.length>0)});return n},remove:function t(e,a,n){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function t(e,a,n,i){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:i}).then(function(t){return new m.default(t)})},types:{all:function t(e){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules?_action=getAllTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(t){var e=t.result;return(0,i.sortBy)(e,"name")})},get:function t(e,a){return y.authentication.modules.types.all(e).then(function(t){return(0,i.find)(t,{_id:a})})}},schema:function t(e,a){return y.serviceCall({url:(0,h.default)("/realm-config/authentication/modules/"+a+"?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(t){return new p.default(t)})}}};e.default=y},1672:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}return function(e,a,n){a&&t(e.prototype,a);n&&t(e,n);return e}}();a(1531);var i=a(19);var l=u(i);var o=a(159);var s=a(6);var r=u(s);var c=a(1180);var d=u(c);function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v="__selectize_key";function m(t,e){if(null==t)throw new Error("Field "+e+" is required")}function g(t){return t?function(e){t.setData(e);return t.render().$el.html()}:void 0}var b=function(t){p(e,t);function e(){h(this,e);return f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}n(e,[{key:"initialize",value:function t(e){var a=e.options,n=e.searchFields,i=e.labelField,o=e.selectedOption,s=e.onChange,c=e.itemComponent,d=e.optionComponent,u=e.placeholderText,h=void 0===u?l.default.t("common.form.select"):u;m(a,"options");m(a,"searchFields");null!=c&&null!=d||m(a,"labelField");r.default.assign(this,{options:a,searchFields:n,labelField:i,selectedOption:o,onChange:s,itemComponent:c,optionComponent:d,placeholderText:h})}},{key:"render",value:function t(){var e=this;var a=(0,d.default)({placeholder:this.placeholderText});var n=r.default.map(this.options,function(t,e){var a=r.default.clone(t);a[v]=e;return a});this.$el.html(a).find("select").selectize({options:n,items:[r.default.indexOf(this.options,this.selectedOption)],valueField:v,searchField:this.searchFields,labelField:this.labelField,render:{item:g(this.itemComponent),option:g(this.optionComponent)},onChange:function t(a){e.onChange(e.options[a])}});return this}}]);return e}(o.View);e.default=b},1673:function(t,e,a){(function(t){!function(t,e,a,n){var i={drag:true,drop:true,exclude:"",nested:true,vertical:true},l={afterMove:function(t,e,a){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,e){return true},onCancel:function(t,e,a,n){},onDrag:function(t,e,a,n){t.css(e)},onDragStart:function(e,a,n,i){e.css({height:e.outerHeight(),width:e.outerWidth()});e.addClass(a.group.options.draggedClass);t("body").addClass(a.group.options.bodyClass)},onDrop:function(e,a,n,i){e.removeClass(a.group.options.draggedClass).removeAttr("style");t("body").removeClass(a.group.options.bodyClass)},onMousedown:function(t,e,a){if(!a.target.nodeName.match(/^(input|select|textarea)$/i)){a.preventDefault();return true}},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:true,serialize:function(e,a,n){var i=t.extend({},e.data());if(n)return[a];a[0]&&(i.children=a);delete i.subContainers;delete i.sortable;return i},tolerance:0},o={},s=0,r={left:0,top:0,bottom:0,right:0},c={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},d="subContainers";function u(t,e){var a=Math.max(0,t[0]-e[0],e[0]-t[1]),n=Math.max(0,t[2]-e[1],e[1]-t[3]);return a+n}function h(e,a,n,i){var l=e.length,o=i?"offset":"position";n=n||0;while(l--){var s=e[l].el?e[l].el:t(e[l]),r=s[o]();r.left+=parseInt(s.css("margin-left"),10);r.top+=parseInt(s.css("margin-top"),10);a[l]=[r.left-n,r.left+s.outerWidth()+n,r.top-n,r.top+s.outerHeight()+n]}}function f(t,e){var a=e.offset();return{left:t.left-a.left,top:t.top-a.top}}function p(t,e,a){e=[e.left,e.top];a=a&&[a.left,a.top];var n,i=t.length,l=[];while(i--){n=t[i];l[i]=[i,u(n,e),a&&u(n,a)]}l=l.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]});return l}function v(e){this.options=t.extend({},l,e);this.containers=[];if(!this.options.rootGroup){this.scrollProxy=t.proxy(this.scroll,this);this.dragProxy=t.proxy(this.drag,this);this.dropProxy=t.proxy(this.drop,this);this.placeholder=t(this.options.placeholder);e.isValidTarget||(this.options.isValidTarget=n)}}v.get=function(t){if(!o[t.group]){t.group===n&&(t.group=s++);o[t.group]=new v(t)}return o[t.group]};v.prototype={dragInit:function(e,a){this.$document=t(a.el[0].ownerDocument);var n=t(e.target).closest(this.options.itemSelector);if(n.length){this.item=n;this.itemContainer=a;if(this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,l.onMousedown,e))return;this.setPointer(e);this.toggleListeners("on");this.setupDelayTimer();this.dragInitDone=true}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,l.onDragStart,t);this.item.before(this.placeholder);this.dragging=true}this.setPointer(t);this.options.onDrag(this.item,f(this.pointer,this.item.offsetParent()),l.onDrag,t);var e=this.getPointer(t),a=this.sameResultBox,i=this.options.tolerance;if((!a||a.top-i>e.top||a.bottom+i<e.top||a.left-i>e.left||a.right+i<e.left)&&!this.searchValidTarget()){this.placeholder.detach();this.lastAppendedItem=n}},drop:function(t){this.toggleListeners("off");this.dragInitDone=false;if(this.dragging){this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,l.onCancel,t);this.options.onDrop(this.item,this.getContainer(this.item),l.onDrop,t);this.clearDimensions();this.clearOffsetParent();this.lastAppendedItem=this.sameResultBox=n;this.dragging=false}},searchValidTarget:function(t,e){if(!t){t=this.relativePointer||this.pointer;e=this.lastRelativePointer||this.lastPointer}var a=p(this.getContainerDimensions(),t,e),i=a.length;while(i--){var l=a[i][0],o=a[i][1];if(!o||this.options.pullPlaceholder){var s=this.containers[l];if(!s.disabled){if(!this.$getOffsetParent()){var r=s.getItemOffsetParent();t=f(t,r);e=f(e,r)}if(s.searchValidTarget(t,e))return true}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(t,e,a,n){var i=this.lastAppendedItem;if(!n&&i&&i[0]===e[0])return;e[a](this.placeholder);this.lastAppendedItem=e;this.sameResultBox=n;this.options.afterMove(this.placeholder,t,e)},getContainerDimensions:function(){this.containerDimensions||h(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent());return this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(a)},$getOffsetParent:function(){if(this.offsetParent===n){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)while(t--)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=false;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var a=f(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer;this.relativePointer=a}this.lastPointer=this.pointer;this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay;if(!this.delayMet){clearTimeout(this._mouseDelayTimer);this._mouseDelayTimer=setTimeout(function(){t.delayMet=true},this.options.delay)}},scroll:function(t){this.clearDimensions();this.clearOffsetParent()},toggleListeners:function(e){var a=this,n=["drag","drop","scroll"];t.each(n,function(t,n){a.$document[e](c[n],a[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);var e=this.containers.length;while(e--)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=n},_destroy:function(){o[this.options.group]=n}};function m(e,a){this.el=e;this.options=t.extend({},i,a);this.group=v.get(this.options);this.rootGroup=this.options.rootGroup||this.group;this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var n=this.rootGroup.options.itemPath;this.target=n?this.el.find(n):this.el;this.target.on(c.start,this.handle,t.proxy(this.dragInit,this));this.options.drop&&this.group.containers.push(this)}m.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var a=p(this.getItemDimensions(),t,e),n=a.length,i=this.rootGroup,l=!i.options.isValidTarget||i.options.isValidTarget(i.item,this);if(!n&&l){i.movePlaceholder(this,this.target,"append");return true}while(n--){var o=a[n][0],s=a[n][1];if(!s&&this.hasChildGroup(o)){var r=this.getContainerGroup(o).searchValidTarget(t,e);if(r)return true}else if(l){this.movePlaceholder(o,t);return true}}},movePlaceholder:function(e,a){var n=t(this.items[e]),i=this.itemDimensions[e],l="after",o=n.outerWidth(),s=n.outerHeight(),c=n.offset(),d={left:c.left,right:c.left+o,top:c.top,bottom:c.top+s};if(this.options.vertical){var u=(i[2]+i[3])/2,h=a.top<=u;if(h){l="before";d.bottom-=s/2}else d.top+=s/2}else{var f=(i[0]+i[1])/2,p=a.left<=f;if(p){l="before";d.right-=o/2}else d.left+=o/2}this.hasChildGroup(e)&&(d=r);this.rootGroup.movePlaceholder(this,n,l,d)},getItemDimensions:function(){if(!this.itemDimensions){this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get();h(this.items,this.itemDimensions=[],this.options.tolerance)}return this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent();return t},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var i=t.data(this.items[e],d);if(i===n){var l=this.$getChildren(this.items[e],"container");i=false;if(l[0]){var o=t.extend({},this.options,{rootGroup:this.rootGroup,group:s++});i=l[a](o).data(a).group}t.data(this.items[e],d,i)}return i},$getChildren:function(e,a){var n=this.rootGroup.options,i=n[a+"Path"],l=n[a+"Selector"];e=t(e);i&&(e=e.find(i));return e.children(l)},_serialize:function(e,a){var n=this,i=a?"item":"container",l=this.$getChildren(e,i).not(this.options.exclude).map(function(){return n._serialize(t(this),!a)}).get();return this.rootGroup.options.serialize(e,l,a)},traverse:function(e){t.each(this.items||[],function(a){var n=t.data(this,d);n&&n.traverse(e)});e(this)},_clearDimensions:function(){this.itemDimensions=n},_destroy:function(){var e=this;this.target.off(c.start,this.handle);this.el.removeData(a);this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e}));t.each(this.items||[],function(){t.removeData(this,d)})}};var g={enable:function(){this.traverse(function(t){t.disabled=false})},disable:function(){this.traverse(function(t){t.disabled=true})},serialize:function(){return this._serialize(this.el,true)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(m.prototype,g);t.fn[a]=function(e){var i=Array.prototype.slice.call(arguments,1);return this.map(function(){var l=t(this),o=l.data(a);if(o&&g[e])return g[e].apply(o,i)||this;o||e!==n&&"object"!==typeof e||l.data(a,new m(l,e));return this})}}(t,window,"sortable")}).call(this,a(19))},2021:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=a(6);var i=g(n);var l=a(19);var o=g(l);var s=a(114);var r=g(s);var c=a(1168);var d=g(c);var u=a(655);var h=g(u);var f=a(1250);var p=g(f);var v=a(1253);var m=g(v);function g(t){return t&&t.__esModule?t:{default:t}}var b=r.default.extend({template:m.default,events:{"click [data-delete-process-class]":"remove","click [data-add-process-class]":"add","change [data-new-process-class]":"change","keyup  [data-new-process-class]":"change"},element:"#postProcessView",partials:{"alerts/_Alert":d.default},add:function t(){var e=this.$el.find("[data-new-process-class]").val().trim(),a=i.default.find(this.data.chainData.loginPostProcessClass,function(t){return t===e});if(a)this.$el.find("#alertContainer").html((0,p.default)());else{this.data.chainData.loginPostProcessClass.push(e);this.render(this.data.chainData)}},remove:function t(e){var a=(0,o.default)(e.currentTarget).closest("tr").index();this.data.chainData.loginPostProcessClass[a]="";this.render(this.data.chainData)},change:function t(e){this.$el.find("[data-add-process-class]").prop("disabled",0===e.currentTarget.value.length)},addClassNameDialog:function t(){var e=this,a=o.default.Deferred(),n=this.$el.find("[data-new-process-class]").val().trim();if(""===n){e.$el.find("[data-new-process-class]").val("");a.resolve()}else h.default.show({title:o.default.t("console.authentication.editChains.processingClass.addClassNameDialog.title"),message:o.default.t("console.authentication.editChains.processingClass.addClassNameDialog.message",{newClassName:n}),closable:false,buttons:[{label:o.default.t("common.form.cancel"),action:function t(n){e.$el.find("[data-new-process-class]").val("");n.close();a.resolve()}},{id:"btnOk",label:o.default.t("common.form.ok"),cssClass:"btn-primary",action:function t(n){e.add();n.close();a.resolve()}}]});return a},render:function t(e){this.data.chainData=e;this.parentRender()}});e.default=new b},2022:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=a(6);var i=v(n);var l=a(19);var o=v(l);var s=a(114);var r=v(s);var c=a(1252);var d=v(c);var u=a(1255);var h=v(u);var f=a(1254);var p=v(f);function v(t){return t&&t.__esModule?t:{default:t}}var m=r.default.extend({template:h.default,popoverTemplate:p.default,mode:"replace",partials:{"templates/admin/views/realms/authentication/chains/_CriteriaFooter":d.default},events:{"click [data-edit]":"editItem","click [data-delete]":"deleteItem","change [data-select-criteria]":"selectCriteria","mouseenter [data-auth-criteria-info]":"showPopover","focusin    [data-auth-criteria-info]":"showPopover","mouseleave [data-auth-criteria-info]":"hidePopover","focusout   [data-auth-criteria-info]":"hidePopover"},deleteItem:function t(){this.parent.data.form.chainData.authChainConfiguration.splice(this.$el.index(),1);this.parent.validateChain();this.remove()},editItem:function t(){this.parent.editItem(this)},showPopover:function t(){var e=this,a=this.$el.find("[data-auth-criteria-info]").data("bs.popover"),n=this.$el.find("[data-select-criteria] option:selected"),i=n.index(),l={criteria:n.val().toLowerCase(),passText:o.default.t("console.authentication.editChains.criteria."+i+".passText"),failText:o.default.t("console.authentication.editChains.criteria."+i+".failText")};var s=e.popoverTemplate(l);a.options.content=s;a.options.title=n.text();e.$el.find("[data-auth-criteria-info]").popover("show")},hidePopover:function t(){this.$el.find("[data-auth-criteria-info]").popover("hide")},renderArrows:function t(){var e=(0,d.default)({type:this.data.linkConfig.criteria});this.$el.find(".criteria-view").html(e)},selectCriteria:function t(){this.data.linkConfig.criteria=this.$el.find("[data-select-criteria] option:selected").val();this.parent.validateChain();this.renderArrows()},render:function t(){var e=this;this.data.optionsLength=i.default.keys(this.data.linkConfig.options).length;this.data.typeDescription=this.getModuleDesciption();this.parent.validateChain();this.parentRender(function(){e.renderArrows();e.$el.find("[data-auth-criteria-info]").popover({trigger:"manual",container:"body",html:"true",placement:"right",template:'<div class="popover am-link-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})})},getModuleDesciption:function t(){var e=i.default.find(this.data.allModules,{_id:this.data.linkConfig.module});if(this.data.linkConfig.module&&e)return e.typeDescription;return}});e.default=m},2023:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}return function(e,a,n){a&&t(e.prototype,a);n&&t(e,n);return e}}();var i=a(159);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(t){s(e,t);function e(){l(this,e);return o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}n(e,[{key:"initialize",value:function t(e){var a=e.template;this.template=a}},{key:"render",value:function t(){var e=this.template(this.data);this.$el.html(e);return this}},{key:"setData",value:function t(e){this.data=e}}]);return e}(i.View);e.default=r},2024:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=a(6);var i=w(n);var l=a(19);var o=w(l);var s=a(114);var r=w(s);var c=a(655);var d=w(c);var u=a(1257);var h=w(u);var f=a(1256);var p=w(f);var v=a(1672);var m=w(v);var g=a(1262);var b=w(g);var C=a(1261);var y=w(C);var x=a(2023);var D=w(x);function w(t){return t&&t.__esModule?t:{default:t}}var P=r.default.extend({editLinkTemplate:p.default,editLinkTableTemplate:h.default,show:function t(e){this.data=e.data;var a=this,n=!a.data.linkConfig,l=a.data.linkConfig||{module:"",options:{},criteria:""},s=a.data,r=l.module?o.default.t("console.authentication.editChains.editModule"):o.default.t("console.authentication.editChains.newModule");var c=a.editLinkTemplate({});var u=a.editLinkTableTemplate({linkConfig:l});d.default.show({message:function t(){var e=(0,o.default)("<div></div>").append(c);e.find("#editLinkOptions").append(u);return e},title:r,closable:false,buttons:[{label:o.default.t("common.form.cancel"),action:function t(a){e.parent.validateChain();a.close()}},{label:o.default.t("common.form.ok"),cssClass:"btn-primary",id:"saveBtn",action:function t(a){if(n){e.data.linkConfig=l;e.parent.data.form.chainData.authChainConfiguration.push(l);e.parent.addItemToList(e.element)}e.render();a.close()}}],onshow:function t(e){e.getButton("saveBtn").disable();var n=new D.default({template:b.default});var r=new D.default({template:y.default});a.moduleSelect=new m.default({options:s.allModules,selectedOption:i.default.find(s.allModules,{_id:l.module}),onChange:function t(a){l.module=a._id;l.type=a.type;e.options.validateDialog(e)},itemComponent:n,optionComponent:r,searchFields:["_id","typeDescription"]});e.getModalBody().find("[data-module-select]").append(a.moduleSelect.render().el);var c=i.default.map(s.allCriteria,function(t,e){return{key:e,value:t}});a.criteriaSelect=new m.default({options:c,selectedOption:i.default.find(c,{key:l.criteria}),onChange:function t(a){l.criteria=a.key;e.options.validateDialog(e)},labelField:"value",searchFields:["value"]});e.getModalBody().find("[data-criteria-select]").append(a.criteriaSelect.render().el);e.getModalBody().on("click","[data-add-option]",function(t){var a=(0,o.default)(t.target).closest("tr"),n=a.find("#optionsKey").val().trim(),s=a.find("#optionsValue").val().trim(),r={};r[n]=s;if(n&&s&&!i.default.has(l.options,n)){i.default.extend(l.options,r);e.options.refreshOptionsTab(e);e.options.validateDialog(e)}});e.getModalBody().on("click","[data-delete-option]",function(t){var a=(0,o.default)(t.target).closest("tr").find(".optionsKey").html();i.default.has(l.options,a)&&delete l.options[a];e.options.refreshOptionsTab(e);e.options.validateDialog(e)})},validateDialog:function t(e){0===l.module.length||0===l.criteria.length?e.getButton("saveBtn").disable():e.getButton("saveBtn").enable()},refreshOptionsTab:function t(e){var n=a.editLinkTableTemplate({linkConfig:l});e.getModalBody().find("#editLinkOptions").html(n)}})}});e.default=new P}}]);
//# sourceMappingURL=134.28f4bd5b79.js.map