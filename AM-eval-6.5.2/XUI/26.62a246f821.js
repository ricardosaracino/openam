(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26,224,225,226,227,271,272,273,275,276,277,278,279,280,281,282,283,284,285,286,288,289,290,293,294,295],{1174:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return"<td>"+e.escapeExpression(e.lambda(null!=t?t.data:t,t))+"</td>"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return(null!=(l=a.each.call(r,null!=t?t.columns:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'\n<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-edit-row title="'+s((a.t||t&&t.t||o).call(r,"common.form.edit",{name:"t",hash:{},data:i}))+'"><i class="fa fa-pencil"></i></button>\n        <button class="btn btn-link" data-delete-row title="'+s((a.t||t&&t.t||o).call(r,"common.form.delete",{name:"t",hash:{},data:i}))+'"><i class="fa fa-close"></i></button>\n    </div>\n</td>\n'},useData:true})},1175:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l;return null!=(l=a["if"].call(null!=t?t:e.nullContext||{},null!=t?t.selectOptions:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(6,i,0),data:i}))?l:""},2:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{};return'    <td class="form-group">\n        <select class="form-control" data-row-'+e.escapeExpression((r=null!=(r=a.index||i&&i.index)?r:a.helperMissing,"function"===typeof r?r.call(o,{name:"index",hash:{},data:i}):r))+">\n"+(null!=(l=a.each.call(o,null!=t?t.selectOptions:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"        </select>\n    </td>\n"},3:function(e,t,a,n,i){var l,r=e.lambda,o=e.escapeExpression;return'            <option value="'+o(r(null!=t?t.value:t,t))+'" '+(null!=(l=a["if"].call(null!=t?t:e.nullContext||{},null!=t?t.isSelected:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+">"+o(r(null!=t?t.value:t,t))+"</option>\n"},4:function(e,t,a,n,i){return"selected"},6:function(e,t,a,n,i){var l,r=e.lambda,o=e.escapeExpression,s=null!=t?t:e.nullContext||{},u=a.helperMissing;return'    <td class="form-group">\n        <input class="form-control" type="text" value="'+o(r(null!=t?t.data:t,t))+'" data-add-row placeholder="'+o((a.t||t&&t.t||u).call(s,"common.form.addValue",{name:"t",hash:{},data:i}))+'" data-row-'+o((l=null!=(l=a.index||i&&i.index)?l:u,"function"===typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+' data-validator="'+o(r(null!=t?t.required:t,t))+'">\n    </td>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{};return(null!=(l=a.each.call(r,null!=t?t.columns:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-add-row title="'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(r,"common.form.add",{name:"t",hash:{},data:i}))+'"><i class="fa fa-plus"></i></button>\n    </div>\n</td>\n'},useData:true})},1176:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return"<th>"+e.escapeExpression(e.lambda(t,t))+"</th>"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l;return'<div class="table-container am-inline-edit-table">\n    <table class="table">\n        <thead>\n            <tr>\n                '+(null!=(l=a.each.call(null!=t?t:e.nullContext||{},null!=t?t.headers:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'\n                <th class="fr-col-btn-2"></th>\n            </tr>\n        </thead>\n        <tbody></tbody>\n    </table>\n</div>\n'},useData:true})},1177:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l;return null!=(l=a["if"].call(null!=t?t:e.nullContext||{},null!=t?t.selectOptions:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(6,i,0),data:i}))?l:""},2:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{};return'<td class="form-group">\n    <select class="form-control" data-save-row data-row-'+e.escapeExpression((r=null!=(r=a.index||i&&i.index)?r:a.helperMissing,"function"===typeof r?r.call(o,{name:"index",hash:{},data:i}):r))+">\n"+(null!=(l=a.each.call(o,null!=t?t.selectOptions:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"    </select>\n</td>\n"},3:function(e,t,a,n,i){var l,r=e.lambda,o=e.escapeExpression;return'        <option value="'+o(r(null!=t?t.value:t,t))+'" '+(null!=(l=a["if"].call(null!=t?t:e.nullContext||{},null!=t?t.isSelected:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+">"+o(r(null!=t?t.value:t,t))+"</option>\n"},4:function(e,t,a,n,i){return"selected"},6:function(e,t,a,n,i){var l,r=e.lambda,o=e.escapeExpression,s=null!=t?t:e.nullContext||{},u=a.helperMissing;return'<td class="form-group">\n    <input class="form-control" data-save-row type="text" value="'+o(r(null!=t?t.data:t,t))+'" placeholder="'+o((a.t||t&&t.t||u).call(s,"common.form.addValue",{name:"t",hash:{},data:i}))+'" data-row-'+o((l=null!=(l=a.index||i&&i.index)?l:u,"function"===typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+' data-validator="'+o(r(null!=t?t.required:t,t))+'">\n</td>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return(null!=(l=a.each.call(r,null!=t?t.columns:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'<td class="fr-col-btn-2">\n    <div class="btn-group">\n        <button class="btn btn-link" data-save-row title="'+s((a.t||t&&t.t||o).call(r,"common.form.update",{name:"t",hash:{},data:i}))+'"><i class="fa fa-check"></i></button>\n        <button class="btn btn-link" data-undo-edit-row title="'+s((a.t||t&&t.t||o).call(r,"common.form.cancel",{name:"t",hash:{},data:i}))+'"><i class="fa fa-undo"></i></button>\n    </div>\n</td>\n'},useData:true})},1186:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l;return null!=(l=a["if"].call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.program(8,i,0),data:i}))?l:""},2:function(e,t,a,n,i){var l;return null!=(l=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:""},3:function(e,t,a,n,i){var l;return null!=(l=(a.ifObject||t&&t.ifObject||a.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"ifObject",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:""},4:function(e,t,a,n,i){var l=null!=t?t:e.nullContext||{},r=a.helperMissing,o=e.escapeExpression;return"                <div>\n                    <h3>"+o((a.t||t&&t.t||r).call(l,i&&i.key,{name:"t",hash:{},data:i}))+"</h3>\n                    <span>"+o((a.stringify||t&&t.stringify||r).call(l,t,{name:"stringify",hash:{},data:i}))+"</span>\n                </div>\n\n"},6:function(e,t,a,n,i){var l=e.escapeExpression;return"                <div>\n                    <h3>"+l((a.t||t&&t.t||a.helperMissing).call(null!=t?t:e.nullContext||{},i&&i.key,{name:"t",hash:{},data:i}))+"</h3>\n                    <span>"+l(e.lambda(t,t))+"</span>\n                </div>\n"},8:function(e,t,a,n,i){var l=null!=t?t:e.nullContext||{},r=a.helperMissing,o=e.escapeExpression;return"\t\t<div>\n\t\t\t<h3>"+o((a.t||t&&t.t||r).call(l,"console.common.type",{name:"t",hash:{},data:i}))+"</h3>\n\t\t\t<span>"+o((a.t||t&&t.t||r).call(l,"console.authorization.policies.edit.conditionTypes.nothingSelected",{name:"t",hash:{},data:i}))+"</span>\n\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l;return null!=(l=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:""},useData:true})},1226:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return'tabindex="0"'},3:function(e,t,a,n,i){return'    <span class="item-button-panel">\n        <span tabindex="0" class="fa fa-times" data-toggle="popover" data-placement="top" data-trigger="hover"\n            data-content="'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(null!=t?t:e.nullContext||{},"console.authorization.policies.edit.deleteLogical",{name:"t",hash:{},data:i}))+'" data-delete-operator></span>\n    </span>\n'},5:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return'        <option value="'+s((l=null!=(l=a.title||(null!=t?t.title:t))?l:o,"function"===typeof l?l.call(r,{name:"title",hash:{},data:i}):l))+'">'+s((a.t||t&&t.t||o).call(r,null!=t?t.i18nKey:t,{name:"t",hash:{},data:i}))+"</option>\n"},7:function(e,t,a,n,i){return'id="dropbox"'},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o,s=null!=t?t:e.nullContext||{},u=a.helperMissing,d="function",c='<li class="operator clearfix" id="operator'+e.escapeExpression((r=null!=(r=a.itemID||(null!=t?t.itemID:t))?r:u,typeof r===d?r.call(s,{name:"itemID",hash:{},data:i}):r))+'" '+(null!=(l=a.unless.call(s,null!=t?t.firstChild:t,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+">\n"+(null!=(l=a.unless.call(s,null!=t?t.firstChild:t,{name:"unless",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+'\n    <select class="form-control">\n';l=(r=null!=(r=a.operators||(null!=t?t.operators:t))?r:u,o={name:"operators",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i},typeof r===d?r.call(s,o):r);a.operators||(l=a.blockHelperMissing.call(t,l,o));null!=l&&(c+=l);return c+'    </select>\n\n    <ol class="dropbox" '+(null!=(l=a["if"].call(s,null!=t?t.firstChild:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"> </ol>\n</li>\n"},useData:true})},1227:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return'<div id="condition-management">\n    <ol id="dropOffArea" class="condition-management-group environment-area"></ol>\n\n    <a class="btn btn-default" role="button" id="addCondition" tabindex="0" data-add-condition>\n        <span class="fa fa-plus"></span> '+s((l=null!=(l=a.conditionName||(null!=t?t.conditionName:t))?l:o,"function"===typeof l?l.call(r,{name:"conditionName",hash:{},data:i}):l))+'\n    </a>\n    <a class="btn btn-default" role="button" id="addOperator" tabindex="0" data-add-operator>\n        <span class="fa fa-plus"></span> '+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.addLogical",{name:"t",hash:{},data:i}))+'\n    </a>\n\n    <div class="alert alert-info one-child-only">\n        <div class="media">\n            <div class="media-left">\n                <i class="fa fa-info-circle"></i>\n            </div>\n            <div class="media-body">\n                '+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.canAcceptOneChild",{name:"t",hash:{},data:i}))+"\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:true})},1228:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'                <option value="'+d((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,typeof r===u?r.call(o,{name:"title",hash:{},data:i}):r))+'" '+(null!=(l=(a.equals||t&&t.equals||s).call(o,null!=t?t.title:t,"Policy",{name:"equals",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+">"+d((r=null!=(r=a.i18nKey||(null!=t?t.i18nKey:t))?r:s,typeof r===u?r.call(o,{name:"i18nKey",hash:{},data:i}):r))+"</option>\n"},2:function(e,t,a,n,i){return"hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o,s=null!=t?t:e.nullContext||{},u=a.helperMissing,d="function",c=e.escapeExpression,f='<li class="rule clearfix invalid-rule" id="subject_'+c((r=null!=(r=a.itemID||(null!=t?t.itemID:t))?r:u,typeof r===d?r.call(s,{name:"itemID",hash:{},data:i}):r))+'" tabindex="0">\n    <span class="item-button-panel edit-state">\n\t\t<span tabindex="0" class="fa fa-check"></span>\n        <span tabindex="0" class="fa fa-times"></span>\n\t</span>\n\n\t<div class="item-data">\n\t\t<div class="field-float-select data-obj type-selector-panel">\n\t\t\t<label for="subjSelection" >'+c((a.t||t&&t.t||u).call(s,"console.common.type",{name:"t",hash:{},data:i}))+'</label>\n\t\t\t<select id="subjSelection" class="form-control type-selection" data-type-selection>\n\t\t\t\t<option value="" selected disabled >'+c((a.t||t&&t.t||u).call(s,"common.form.select",{name:"t",hash:{},data:i}))+"</option>\n";l=(r=null!=(r=a.subjects||(null!=t?t.subjects:t))?r:u,o={name:"subjects",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof r===d?r.call(s,o):r);a.subjects||(l=a.blockHelperMissing.call(t,l,o));null!=l&&(f+=l);return f+'\t\t\t</select>\n\t\t</div>\n\t</div>\n\n    <span class="item-button-panel">\n\t\t<span tabindex="0" class="fa fa-pencil"></span>\n\t\t<span tabindex="0" class="fa fa-times"></span>\n\t</span>\n</li>\n'},useData:true})},1229:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'                <option value="'+d((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,typeof r===u?r.call(o,{name:"title",hash:{},data:i}):r))+'" '+(null!=(l=(a.equals||t&&t.equals||s).call(o,null!=t?t.title:t,"Policy",{name:"equals",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+">"+d((r=null!=(r=a.i18nKey||(null!=t?t.i18nKey:t))?r:s,typeof r===u?r.call(o,{name:"i18nKey",hash:{},data:i}):r))+"</option>\n"},2:function(e,t,a,n,i){return"hidden"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o,s=null!=t?t:e.nullContext||{},u=a.helperMissing,d="function",c=e.escapeExpression,f='<li class="rule clearfix invalid-rule" id="environment_'+c((r=null!=(r=a.itemID||(null!=t?t.itemID:t))?r:u,typeof r===d?r.call(s,{name:"itemID",hash:{},data:i}):r))+'" tabindex="0">\n    <span class="item-button-panel edit-state">\n\t\t<span tabindex="0" class="fa fa-check"></span>\n        <span tabindex="0" class="fa fa-times"></span>\n\t</span>\n\n    <div class="item-data">\n        <div class="field-float-select data-obj type-selector-panel">\n            <div>\n                <label for="envSelection">'+c((a.t||t&&t.t||u).call(s,"console.common.type",{name:"t",hash:{},data:i}))+'</label>\n\n                <a class="btn info-button" tabindex="0" data-toggle="popover" data-placement="top">\n                    <i class="fa fa-info-circle"></i>\n                </a>\n            </div>\n\n            <select id="envSelection" class="form-control type-selection" data-type-selection>\n                <option value="" selected disabled>'+c((a.t||t&&t.t||u).call(s,"common.form.select",{name:"t",hash:{},data:i}))+"</option>\n";l=(r=null!=(r=a.conditions||(null!=t?t.conditions:t))?r:u,o={name:"conditions",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof r===d?r.call(s,o):r);a.conditions||(l=a.blockHelperMissing.call(t,l,o));null!=l&&(f+=l);return f+'            </select>\n        </div>\n    </div>\n\n    <span class="item-button-panel">\n\t\t<span tabindex="0" class="fa fa-pencil"></span>\n\t\t<span tabindex="0" class="fa fa-times"></span>\n\t</span>\n</li>\n'},useData:true})},1230:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression,u=e.lambda;return'<div class="field-float-pattern data-obj time-field">\n    <label for="startTime" data-title="startTime">\n        '+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startTime",{name:"t",hash:{},data:i}))+'\n    </label>\n    <input type="text" id="startTime" name="startTime" placeholder="HH:MM" value="'+s(u(null!=(l=null!=t?t.itemData:t)?l.startTime:l,t))+'"\n           readonly=true class="placeholderText clockpicker form-control" pattern="(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])" />\n    <span class="fa fa-clock-o" data-clock></span>\n</div>\n\n<div class="field-float-pattern data-obj time-field">\n    <label for="endTime" data-title="endTime">\n        '+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endTime",{name:"t",hash:{},data:i}))+'\n    </label>\n    <input type="text" id="endTime" name="endTime" placeholder="HH:MM" value="'+s(u(null!=(l=null!=t?t.itemData:t)?l.endTime:l,t))+'"\n           readonly=true class="placeholderText clockpicker form-control" pattern="(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9])" />\n    <span class="fa fa-clock-o" data-clock></span>\n</div>\n'},useData:true})},1231:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l;return'pattern="'+e.escapeExpression((l=null!=(l=a.pattern||(null!=t?t.pattern:t))?l:a.helperMissing,"function"===typeof l?l.call(null!=t?t:e.nullContext||{},{name:"pattern",hash:{},data:i}):l))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'<label for="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" data-title="'+d((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,typeof r===u?r.call(o,{name:"title",hash:{},data:i}):r))+'">'+d((a.t||t&&t.t||s).call(o,null!=t?t.i18nKey:t,{name:"t",hash:{},data:i}))+'</label>\n<input required type="text" id="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" name="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" value="'+d((r=null!=(r=a.data||(null!=t?t.data:t))?r:s,typeof r===u?r.call(o,{name:"data",hash:{},data:i}):r))+'" readonly=true\n       class="placeholderText form-control" '+(null!=(l=a["if"].call(o,null!=t?t.pattern:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+"/>\n"},useData:true})},1232:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l;return'data-source="'+e.escapeExpression((l=null!=(l=a.dataSource||(null!=t?t.dataSource:t))?l:a.helperMissing,"function"===typeof l?l.call(null!=t?t:e.nullContext||{},{name:"dataSource",hash:{},data:i}):l))+'"'},3:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s="function",u=e.escapeExpression,d=e.lambda;return'        <option selected value="'+u((l=null!=(l=a.key||i&&i.key)?l:o,typeof l===s?l.call(r,{name:"key",hash:{},data:i}):l))+":"+u(d(t,t))+'">'+u((l=null!=(l=a.key||i&&i.key)?l:o,typeof l===s?l.call(r,{name:"key",hash:{},data:i}):l))+":"+u(d(t,t))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'<label for="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" data-title="'+d((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,typeof r===u?r.call(o,{name:"title",hash:{},data:i}):r))+'">'+d((a.t||t&&t.t||s).call(o,null!=t?t.i18nKey:t,{name:"t",hash:{},data:i}))+'</label>\n<select placeholder="'+d((a.t||t&&t.t||s).call(o,"console.authorization.policies.edit.conditionTypes.attributes.object",{name:"t",hash:{},data:i}))+'"\n        multiple id="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" class="selectize object-prop" '+(null!=(l=a["if"].call(o,null!=t?t.dataSource:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+">\n"+(null!=(l=a.each.call(o,null!=t?t.data:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n"},useData:true})},1233:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i,l,r){var o,s=e.lambda,u=e.escapeExpression;return"        <option "+(null!=(o=(a.equals||t&&t.equals||a.helperMissing).call(null!=t?t:e.nullContext||{},null!=(o=null!=r[1]?r[1].itemData:r[1])?o.startDay:o,null!=t?t.value:t,{name:"equals",hash:{},fn:e.program(2,i,0,l,r),inverse:e.noop,data:i}))?o:"")+' value="'+u(s(null!=t?t.value:t,t))+'">'+u(s(null!=t?t.title:t,t))+"</option>\n"},2:function(e,t,a,n,i){return"selected"},4:function(e,t,a,n,i,l,r){var o,s=e.lambda,u=e.escapeExpression;return"        <option "+(null!=(o=(a.equals||t&&t.equals||a.helperMissing).call(null!=t?t:e.nullContext||{},null!=(o=null!=r[1]?r[1].itemData:r[1])?o.endDay:o,null!=t?t.value:t,{name:"equals",hash:{},fn:e.program(2,i,0,l,r),inverse:e.noop,data:i}))?o:"")+' value="'+u(s(null!=t?t.value:t,t))+'">'+u(s(null!=t?t.title:t,t))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i,l,r){var o,s=null!=t?t:e.nullContext||{},u=a.helperMissing,d=e.escapeExpression;return'<div class="field-float-select data-obj day-field">\n    <label for="startDay" data-title="startDay">'+d((a.t||t&&t.t||u).call(s,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startDay",{name:"t",hash:{},data:i}))+'</label>\n    <select id="startDay" class="form-control">\n        <option value="">'+d((a.t||t&&t.t||u).call(s,"common.form.notApplicable",{name:"t",hash:{},data:i}))+"</option>\n"+(null!=(o=a.each.call(s,null!=t?t.weekdays:t,{name:"each",hash:{},fn:e.program(1,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'    </select>\n</div>\n\n<div class="field-float-select data-obj day-field">\n    <label for="endDay" data-title="endDay">'+d((a.t||t&&t.t||u).call(s,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endDay",{name:"t",hash:{},data:i}))+'</label>\n    <select id="endDay" class="form-control">\n        <option value="">'+d((a.t||t&&t.t||u).call(s,"common.form.notApplicable",{name:"t",hash:{},data:i}))+"</option>\n"+(null!=(o=a.each.call(s,null!=t?t.weekdays:t,{name:"each",hash:{},fn:e.program(4,i,0,l,r),inverse:e.noop,data:i}))?o:"")+"    </select>\n</div>\n"},useData:true,useDepths:true})},1234:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression,u=e.lambda;return'<div class="field-float-pattern data-obj date-field">\n    <label for="startDate" data-title="startDate">'+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.startDate",{name:"t",hash:{},data:i}))+'</label>\n    <input type="text" id="startDate" name="startDate" value="'+s(u(null!=(l=null!=t?t.itemData:t)?l.startDate:l,t))+'" readonly=true class="placeholderText form-control"\n           placeholder="YYYY:MM:DD"/>\n</div>\n\n<div class="field-float-pattern data-obj date-field">\n    <label for="endDate" data-title="endDate">'+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.conditionTypes.SimpleTime.props.endDate",{name:"t",hash:{},data:i}))+'</label>\n    <input type="text" id="endDate" name="endDate" value="'+s(u(null!=(l=null!=t?t.itemData:t)?l.endDate:l,t))+'" readonly=true class="placeholderText form-control"\n           placeholder="YYYY:MM:DD"/>\n</div>\n'},useData:true})},1235:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return" active "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u=e.escapeExpression;return'<label data-title="'+u((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,"function"===typeof r?r.call(o,{name:"title",hash:{},data:i}):r))+'">'+u((a.t||t&&t.t||s).call(o,null!=t?t.i18nKey:t,{name:"t",hash:{},data:i}))+'</label>\n\n<ul class="btn-group boolean-condition clearfix" role="group">\n    <li class="btn-group '+(null!=(l=(a.equals||t&&t.equals||s).call(o,null!=t?t.selected:t,true,{name:"equals",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'">\n        <a data-val="true" class="btn fr-btn-secondary" data-btn>'+u((a.t||t&&t.t||s).call(o,"common.form.true",{name:"t",hash:{},data:i}))+'</a>\n    </li>\n    <li class="btn-group '+(null!=(l=(a.equals||t&&t.equals||s).call(o,null!=t?t.selected:t,false,{name:"equals",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'">\n        <a data-val="false" class="btn fr-btn-secondary" data-btn>'+u((a.t||t&&t.t||s).call(o,"common.form.false",{name:"t",hash:{},data:i}))+"</a>\n    </li>\n</ul>\n"},useData:true})},1236:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return"multiple"},3:function(e,t,a,n,i){var l;return'data-source="'+e.escapeExpression((l=null!=(l=a.dataSource||(null!=t?t.dataSource:t))?l:a.helperMissing,"function"===typeof l?l.call(null!=t?t:e.nullContext||{},{name:"dataSource",hash:{},data:i}):l))+'"'},5:function(e,t,a,n,i){var l=e.lambda,r=e.escapeExpression;return'    <option selected value="'+r(l(t,t))+'">'+r(l(t,t))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'<label for="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" data-title="'+d((r=null!=(r=a.title||(null!=t?t.title:t))?r:s,typeof r===u?r.call(o,{name:"title",hash:{},data:i}):r))+'">'+d((a.t||t&&t.t||s).call(o,null!=t?t.i18nKey:t,{name:"t",hash:{},data:i}))+"</label>\n<select "+(null!=(l=a["if"].call(o,null!=t?t.multiple:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+' id="selection_'+d((r=null!=(r=a.id||(null!=t?t.id:t))?r:s,typeof r===u?r.call(o,{name:"id",hash:{},data:i}):r))+'" class="selectize" '+(null!=(l=a["if"].call(o,null!=t?t.dataSource:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+">\n"+(null!=(l=a.each.call(o,null!=t?t.data:t,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n"},useData:true})},1237:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{};return'<select multiple id="avaliableUserAttributes" class="selectize">\n    <option disabled selected value="">'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(r,"console.authorization.policies.edit.subjectAttributesPlaceholder",{name:"t",hash:{},data:i}))+"</option>\n"+(null!=(l=a.each.call(r,null!=t?t.allUserAttributes:t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n"},2:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return"    <option "+(null!=(l=a["if"].call(o,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((r=null!=(r=a.propertyName||(null!=t?t.propertyName:t))?r:s,typeof r===u?r.call(o,{name:"propertyName",hash:{},data:i}):r))+'">'+d((r=null!=(r=a.propertyName||(null!=t?t.propertyName:t))?r:s,typeof r===u?r.call(o,{name:"propertyName",hash:{},data:i}):r))+"</option>\n"},3:function(e,t,a,n,i){return"selected"},5:function(e,t,a,n,i){return"    "+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(null!=t?t:e.nullContext||{},"console.authorization.common.noSubjectAttributes",{name:"t",hash:{},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{};return'<h3 class="block-header">'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(r,"console.authorization.common.subjectAttributes",{name:"t",hash:{},data:i}))+"</h3>\n\n"+(null!=(l=a["if"].call(r,null!=t?t.allUserAttributes:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(5,i,0),data:i}))?l:"")},useData:true})},1238:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{};return'<h3 class="block-header">'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(r,"console.authorization.common.customAttributes",{name:"t",hash:{},data:i}))+'</h3>\n<div class="list-table created-items">\n\n    <ul class="list-group">\n'+(null!=(l=a.each.call(r,null!=t?t.customAttributes:t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n</div>\n"},2:function(e,t,a,n,i){var l,r,o=null!=t?t:e.nullContext||{},s=a.helperMissing,u="function",d=e.escapeExpression;return'        <li data-attr-key="'+d((r=null!=(r=a.propertyName||(null!=t?t.propertyName:t))?r:s,typeof r===u?r.call(o,{name:"propertyName",hash:{},data:i}):r))+'" data-attr-val="'+d((r=null!=(r=a.propertyValues||(null!=t?t.propertyValues:t))?r:s,typeof r===u?r.call(o,{name:"propertyValues",hash:{},data:i}):r))+'" class="list-group-item">\n            <span class="key">'+d((r=null!=(r=a.propertyName||(null!=t?t.propertyName:t))?r:s,typeof r===u?r.call(o,{name:"propertyName",hash:{},data:i}):r))+":</span> "+(null!=(l=a.each.call(o,null!=t?t.propertyValues:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </li>\n"},3:function(e,t,a,n,i){var l;return e.escapeExpression(e.lambda(t,t))+(null!=(l=a.unless.call(null!=t?t:e.nullContext||{},i&&i.last,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,t,a,n,i){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l;return null!=(l=a["if"].call(null!=t?t:e.nullContext||{},null!=t?t.customAttributes:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:""},useData:true})},1239:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l=null!=t?t:e.nullContext||{},r=a.helperMissing,o=e.escapeExpression;return'<div class="btn-group">\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        <i class="fa fa-ellipsis-v" />\n    </button>\n\n    <ul class="dropdown-menu dropdown-menu-right">\n        <li><a data-properties href="#"><i class="fa fa-fw fa-pencil" /> '+o((a.t||t&&t.t||r).call(l,"common.form.properties",{name:"t",hash:{},data:i}))+'</a></li>\n        <li class="divider"></li>\n        <li><a data-delete href="#"><i class="fa fa-fw fa-times" /> '+o((a.t||t&&t.t||r).call(l,"common.form.delete",{name:"t",hash:{},data:i}))+"</a></li>\n    </ul>\n</div>\n"},useData:true})},1240:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r,o=e.escapeExpression,s=null!=t?t:e.nullContext||{},u=a.helperMissing;return'<div id="resourceBuilder" data-resource="'+o(e.lambda(null!=(l=null!=t?t.options:t)?l.newPattern:l,t))+'">'+o((r=null!=(r=a.policyEditorResourceHelper||(null!=t?t.policyEditorResourceHelper:t))?r:u,"function"===typeof r?r.call(s,{name:"policyEditorResourceHelper",hash:{},data:i}):r))+'</div>\n\n<div class="pull-right">\n    <input type="button" value="'+o((a.t||t&&t.t||u).call(s,"common.form.cancel",{name:"t",hash:{},data:i}))+'" class="btn btn-default" data-remove-pending>\n    <input type="button" value="'+o((a.t||t&&t.t||u).call(s,"common.form.add",{name:"t",hash:{},data:i}))+'" class="btn btn-default" data-add-resource>\n</div>\n'},useData:true})},1241:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i){return"disabled"},3:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s="function",u=e.escapeExpression;return'            <li><a data-action-name="'+u((l=null!=(l=a.action||(null!=t?t.action:t))?l:o,typeof l===s?l.call(r,{name:"action",hash:{},data:i}):l))+'" href="#">'+u((l=null!=(l=a.action||(null!=t?t.action:t))?l:o,typeof l===s?l.call(r,{name:"action",hash:{},data:i}):l))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{};return'<div class="btn-group">\n    <button type="button" class="btn btn-default dropdown-toggle" '+(null!=(l=a.unless.call(r,null!=t?t.items:t,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+'\n        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        '+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(r,"console.authorization.policies.edit.addAction",{name:"t",hash:{},data:i}))+' <span class="caret"></span>\n    </button>\n\n    <ul class="dropdown-menu">\n'+(null!=(l=a.each.call(r,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n</div>\n"},useData:true})},1242:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){return'<div id="selectedActions"></div>\n<div class="form-group" id="availableActions"></div>\n'},useData:true})},1245:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i){var l,r=null!=t?t:e.nullContext||{},o=a.helperMissing,s=e.escapeExpression;return(null!=(l=e.invokePartial(n["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.authorization.policies.edit.createNew"},data:i,helpers:a,partials:n,decorators:e.decorators}))?l:"")+'\n<div class="panel panel-default fr-panel-with-border">\n\n    <div class="panel-body">\n        <div class="block clearfix form-horizontal">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="policyName">'+s((a.t||t&&t.t||o).call(r,"console.common.name",{name:"t",hash:{},data:i}))+'</label>\n\n                <div class="col-sm-9">\n                    <input class="form-control" id="policyName" name="entityName" type="text"\n                           value="'+s(e.lambda(null!=(l=null!=t?t.entity:t)?l.name:l,t))+'" data-field="name" autofocus required\n                           placeholder="'+s((a.t||t&&t.t||o).call(r,"common.form.validation.required",{name:"t",hash:{},data:i}))+'"/>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="resTypesSelection">\n                    '+s((a.t||t&&t.t||o).call(r,"console.authorization.common.resourceType",{name:"t",hash:{},data:i}))+'\n                </label>\n\n                <div class="col-sm-9">\n                    <select class="selectize" id="resTypesSelection">\n                        <option disabled selected value="">'+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.selectResourceType",{name:"t",hash:{},data:i}))+'</option>\n                    </select>\n\n                    <span class="input-helper-text">\n                        '+s((a.t||t&&t.t||o).call(r,"console.authorization.policies.edit.selectResourceTypeHelper",{name:"t",hash:{},data:i}))+'\n                    </span>\n                </div>\n            </div>\n\n            <div id="editResources" class="clearfix"></div>\n        </div>\n    </div>\n\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+s((a.routeTo||t&&t.routeTo||o).call(r,"realmsPolicySetEdit",null!=t?t.realmPath:t,null!=t?t.policySetName:t,{name:"routeTo",hash:{},data:i}))+'">\n                '+s((a.t||t&&t.t||o).call(r,"common.form.cancel",{name:"t",hash:{},data:i}))+'\n            </a>\n            <input data-save type="button" name="submitForm" value="'+s((a.t||t&&t.t||o).call(r,"common.form.create",{name:"t",hash:{},data:i}))+'" class="btn btn-primary">\n        </div>\n    </div>\n</div>\n'},usePartial:true,useData:true})},1246:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i,l,r){var o,s,u=null!=t?t:e.nullContext||{},d=a.helperMissing,c="function",f=e.escapeExpression;return"                                <option "+(null!=(o=(a.equals||t&&t.equals||d).call(u,null!=t?t.uuid:t,null!=(o=null!=r[1]?r[1].entity:r[1])?o.resourceTypeUuid:o,{name:"equals",hash:{},fn:e.program(2,i,0,l,r),inverse:e.noop,data:i}))?o:"")+' value="'+f((s=null!=(s=a.uuid||(null!=t?t.uuid:t))?s:d,typeof s===c?s.call(u,{name:"uuid",hash:{},data:i}):s))+'">'+f((s=null!=(s=a.name||(null!=t?t.name:t))?s:d,typeof s===c?s.call(u,{name:"name",hash:{},data:i}):s))+"</option>\n"},2:function(e,t,a,n,i){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i,l,r){var o,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},d=a.helperMissing;return(null!=(o=e.invokePartial(n["headers/_TitleWithSubAndIcon"],t,{name:"headers/_TitleWithSubAndIcon",hash:{detail:null!=t?t.status:t,icon:"gavel",type:"console.authorization.common.policy",title:null!=(o=null!=t?t.entity:t)?o.name:o},data:i,helpers:a,partials:n,decorators:e.decorators}))?o:"")+'\n<p class="panel-description">'+s(e.lambda(null!=(o=null!=t?t.entity:t)?o.description:o,t))+'</p>\n\n<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n        <li class="active">\n            <a href="#summaryTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.summary",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#resourcesTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.resources",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#actionsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.actions",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#subjectsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.subjects",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#environmentsTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.environments",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n        <li>\n            <a href="#responseAttributesTab" role="tab" data-toggle="tab" aria-expanded="false">\n                '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.responseAttributes",{name:"t",hash:{},data:i}))+'\n            </a>\n        </li>\n    </ul>\n</div>\n\n<div class="panel panel-default fr-panel-tab">\n\n    <div class="panel-body tab-content">\n        <div role="tabpanel" class="tab-pane active" id="summaryTab"></div>\n\n        <div role="tabpanel" class="tab-pane" id="resourcesTab">\n            <p class="panel-description">'+s((a.t||t&&t.t||d).call(u,"console.authorization.policies.edit.resourcesDescription",{name:"t",hash:{},data:i}))+'</p>\n            <div class="form-horizontal">\n                <div class="form-group clearfix">\n                    <label class="col-sm-2 control-label" for="resTypesSelection">\n                        '+s((a.t||t&&t.t||d).call(u,"console.authorization.common.resourceType",{name:"t",hash:{},data:i}))+'\n                    </label>\n\n                    <div class="col-sm-9">\n                        <select class="selectize" id="resTypesSelection">\n'+(null!=(o=a.each.call(u,null!=(o=null!=t?t.options:t)?o.availableResourceTypes:o,{name:"each",hash:{},fn:e.program(1,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'                        </select>\n\n                        <span class="input-helper-text">\n                            '+s((a.t||t&&t.t||d).call(u,"console.authorization.policies.edit.selectResourceTypeHelper",{name:"t",hash:{},data:i}))+'\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div id="editResources" class="form-horizontal clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="actionsTab">\n            <div class="form-inline">\n                <p class="panel-description">'+s((a.t||t&&t.t||d).call(u,"console.authorization.policies.edit.actionsDescription",{name:"t",hash:{},data:i}))+'</p>\n                <div id="actions" class="clearfix"></div>\n            </div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="subjectsTab">\n            <p class="panel-description">'+s((a.t||t&&t.t||d).call(u,"console.authorization.policies.edit.subjectConditionsDescription",{name:"t",hash:{},data:i}))+'</p>\n            <div id="subjectContainer" class="clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="environmentsTab">\n            <p class="panel-description">'+s((a.t||t&&t.t||d).call(u,"console.authorization.policies.edit.environmentConditionsDescription",{name:"t",hash:{},data:i}))+'</p>\n            <div id="environmentContainer" class="clearfix"></div>\n        </div>\n\n        <div role="tabpanel" class="tab-pane" id="responseAttributesTab">\n            <div id="userAttrs" class="block"></div>\n\n            <div class="block">\n                <h3 class="block-header">'+s((a.t||t&&t.t||d).call(u,"console.authorization.common.staticAttributes",{name:"t",hash:{},data:i}))+'</h3>\n                <div data-static-attributes></div>\n            </div>\n\n            <div id="customAttrs" class="block"></div>\n        </div>\n    </div>\n\n    <div id="policyFooter"></div>\n    <div id="settingsModal"></div>\n</div>\n'},usePartial:true,useData:true,useDepths:true})},1247:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,i,l,r){var o;return null!=(o=a.each.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.entity:t)?o.resources:o,{name:"each",hash:{},fn:e.program(2,i,0,l,r),inverse:e.noop,data:i}))?o:""},2:function(e,t,a,n,i,l,r){var o,s=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{},c=a.helperMissing;return'                <li data-resource="'+u(s(t,t))+'" class="'+(null!=(o=(a.equals||t&&t.equals||c).call(d,t,null!=(o=null!=r[2]?r[2].options:r[2])?o.invalidResource:o,{name:"equals",hash:{},fn:e.program(3,i,0,l,r),inverse:e.noop,data:i}))?o:"")+"\n                        "+(null!=(o=(a.equals||t&&t.equals||c).call(d,t,null!=(o=null!=r[2]?r[2].options:r[2])?o.justAdded:o,{name:"equals",hash:{},fn:e.program(5,i,0,l,r),inverse:e.noop,data:i}))?o:"")+' list-group-item">'+u(s(t,t))+'\n                    <span tabindex="0" data-delete class="fa fa-close pull-right"></span>\n                </li>\n'},3:function(e,t,a,n,i){return" text-danger "},5:function(e,t,a,n,i){return" text-success "},7:function(e,t,a,n,i){return" hidden "},9:function(e,t,a,n,i){var l=e.lambda,r=e.escapeExpression;return'                        <option value="'+r(l(t,t))+'">'+r(l(t,t))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,i,l,r){var o,s=null!=t?t:e.nullContext||{},u=a.helperMissing,d=e.escapeExpression;return'<div class="form-group">\n    <label class="col-sm-2 control-label">\n        '+d((a.t||t&&t.t||u).call(s,"console.authorization.common.resources",{name:"t",hash:{},data:i}))+'\n    </label>\n\n    <div class="col-sm-9 ">\n        <div class="list-table created-items" id="createdResources">\n            <ul class="list-group">\n'+(null!=(o=a["if"].call(s,null!=(o=null!=t?t.entity:t)?o.resources:o,{name:"if",hash:{},fn:e.program(1,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'\n                <li class="list-group-item editing form-inline '+(null!=(o=a["if"].call(s,null!=(o=null!=t?t.entity:t)?o.resources:o,{name:"if",hash:{},fn:e.program(7,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'">\n                    <select class="selectize">\n                        <option disabled selected value="">'+d((a.t||t&&t.t||u).call(s,"console.authorization.policies.edit.selectResourcePattern",{name:"t",hash:{},data:i}))+"</option>\n"+(null!=(o=a.each.call(s,null!=(o=null!=t?t.options:t)?o.availablePatterns:o,{name:"each",hash:{},fn:e.program(9,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'                    </select>\n\n                    <div id="populateResource" class="clearfix"></div>\n                </li>\n            </ul>\n        </div>\n        <div class="add-item-inline '+(null!=(o=a.unless.call(s,null!=(o=null!=t?t.entity:t)?o.resources:o,{name:"unless",hash:{},fn:e.program(7,i,0,l,r),inverse:e.noop,data:i}))?o:"")+'">\n            <button type="button" class="btn btn-default" data-show-editing>\n                <i class="fa fa-plus"></i> Add Resource\n            </button>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},1595:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=u(n);var l=a(19);var r=u(l);var o=a(114);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({noBaseTemplate:true,data:{},events:{"change select:not(.type-selection):not(.selectize)":"changeInput","change input":"changeInput","keyup  input":"changeInput","dp.change input":"changeInput"},initBasic:function e(t,a,n){var i=(0,r.default)('<div class="condition-attr form-inline '+n+'"></div>');a.append(i);this.data=t;this.element=a.find(i)},changeInput:function e(t){t.stopPropagation();var a=(0,r.default)(t.currentTarget);if(!a.parent().children("label").length)return;var n=a.parent().children("label").data().title;this.data.itemData[n]=t.currentTarget.value;this.populateInputGroup(a);this.populateAutoFillGroup(a);this.attrSpecificChangeInput&&this.attrSpecificChangeInput(t)},populateInputGroup:function e(t){var a=t.closest(".attr-group");var n=a.find(":input");var l=i.default.find(n,function(e){return""!==e.value});n.each(function(){(0,r.default)(this).prop("required",!!l)})},populateAutoFillGroup:function e(t){var a=t.closest("li").find("div.auto-fill-group");var n=a.eq(0);var i=a.eq(1);var l=void 0;var r=void 0;var o=void 0;var s=void 0;var u=void 0;if(n.length&&i.length){l=n.find("input").val();r=n.find("label").data().title;o=i.find("input").val();s=i.find("label").data().title;u=this.data.itemData}if(""!==l&&""===o)u[s]=u[r];else if(""===l&&""!==o)u[r]=u[s];else if(""===l&&""===o){delete u[r];delete u[s]}}})},1596:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(169);var i=p(n);var l=a(1578);var r=p(l);var o=a(27);var s=p(o);var u=a(168);var d=p(u);var c=a(1550);var f=p(c);function p(e){return e&&e.__esModule?e:{default:e}}var h=new i.default(""+s.default.host+s.default.context+"/json"),m=function e(){var t=r.default.getCurrentRealm();return"/"===t?"":f.default.encodeRealm(t)};h.getApplicationType=function(e){return h.serviceCall({url:(0,d.default)("/applicationtypes/"+e,{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getDecisionCombiners=function(){return h.serviceCall({url:(0,d.default)("/decisioncombiners/?_queryId=&_fields=title",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getEnvironmentConditions=function(){return h.serviceCall({url:(0,d.default)("/conditiontypes?_queryId=&_fields=title,logical,config",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getSubjectConditions=function(){return h.serviceCall({url:(0,d.default)("/subjecttypes?_queryId=&_fields=title,logical,config",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getAllUserAttributes=function(){return h.serviceCall({url:(0,d.default)("/subjectattributes?_queryFilter=true",{realm:m()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.queryIdentities=function(e,t){return h.serviceCall({url:(0,d.default)("/"+e+"?_queryId="+t+"*",{realm:m()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getUniversalId=function(e,t){return h.serviceCall({url:(0,d.default)("/"+t+"/"+e+"?_fields=universalid",{realm:m()}),headers:{"Cache-Control":"no-cache","Accept-API-Version":"protocol=1.0,resource=2.0"}})};h.getDataByType=function(e){return h.serviceCall({url:(0,d.default)("/"+e+"?_queryFilter=true",{realm:m()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getScriptById=function(e){return h.serviceCall({url:(0,d.default)("/scripts/"+e,{realm:m()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.getAllRealms=function(){return h.serviceCall({url:(0,d.default)("/realms?_queryFilter=true",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};h.importPolicies=function(e){return h.serviceCall({serviceUrl:""+s.default.host+s.default.context,url:(0,d.default)("/xacml"+m()+"/policies",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:e})};h.listResourceTypes=function(){return h.serviceCall({url:(0,d.default)("/resourcetypes?_queryFilter=name+eq+"+encodeURIComponent('"^(?!Delegation Service$).*"'),{realm:m()}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})};t.default=h},1608:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(159);var r=c(l);var o=a(1570);var s=c(o);var u=a(1555);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.Model.extend({idAttribute:"name",urlRoot:d.default.substitute("__api__/applications"),defaults:function e(){return{name:null,displayName:null,description:"",resourceTypeUuids:[],realm:""}},parse:function e(t){i.default.isEmpty(t.displayName)?this.displayName=t.name:this.displayName=t.displayName;return t},validate:function e(t){if(""===t.name.trim())return"errorNoId";if(0===t.name.indexOf("#"))return"errorCantStartWithHash";if(i.default.isEmpty(t.resourceTypeUuids))return"applicationErrorNoResourceTypes"},sync:function e(t,a,n){n=n||{};n.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")};n.error=s.default.errorHandler;if(null===a.id){t="create";n.url=this.urlRoot()+"/?_action=create"}return r.default.Model.prototype.sync.call(this,t,a,n)}})},1655:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();var i=a(570);var l=a(61);var r=a(0);var o=d(r);var s=a(1);var u=d(s);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,e);function t(e){c(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleCallToActionClick=a.handleCallToActionClick.bind(a);return a}n(t,[{key:"handleCallToActionClick",value:function e(){this.props.onClick(this.props.sectionName)}},{key:"render",value:function e(){return u.default.createElement("div",{className:"am-empty-section"},u.default.createElement(i.Button,{bsStyle:"link",onClick:this.handleCallToActionClick},u.default.createElement("i",{className:"fa fa-plus"})," ",(0,l.t)("common.form.addItem",{item:this.props.sectionName})))}}]);return t}(s.Component);h.propTypes={onClick:o.default.func.isRequired,sectionName:o.default.string.isRequired};t.default=h},1656:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(159);var i=u(n);var l=a(1570);var r=u(l);var o=a(1555);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.Model.extend({idAttribute:"name",urlRoot:s.default.substitute("__api__/policies"),defaults:function e(){return{name:null,description:"",resources:[],actionValues:{}}},validate:function e(t){if(""===t.name.trim())return"errorNoName";if(0===t.name.indexOf("#"))return"errorCantStartWithHash";if(0===t.resources.length)return"policyErrorNoResources"},sync:function e(t,a,n){n=n||{};n.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=2.0")};n.error=r.default.errorHandler;if(null===a.id){t="create";n.url=this.urlRoot()+"/?_action=create"}return i.default.Model.prototype.sync.call(this,t,a,n)}})},1677:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=m(n);var l=a(159);var r=m(l);var o=a(1177);var s=m(o);var u=a(1175);var d=m(u);var c=a(1174);var f=m(c);var p=a(586);var h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}var v=function e(t,a){return i.default.map(t,function(e){return{value:e,isSelected:e===a}})};var y=function e(t,a){var n=[];i.default.each(a.properties,function(e,l){n[e.propertyOrder]={data:t[l],required:!!i.default.includes(a.required,l)&&"required"};e.enum&&(n[e.propertyOrder].selectOptions=v(e.enum,t[l]))});return n};var b=function e(t,a){return{columns:y(t,a)}};var g=function e(t,a){var n={};i.default.each(t.properties,function(e,t){var i="input";e.enum&&(i="select");var l=a.find(i+"[data-row-"+e.propertyOrder+"]").val();n[t]=l?l.trim():l});return n};t.default=r.default.View.extend({events:{"click button[data-add-row]":"addRow","keyup [data-add-row]":"addRow","click button[data-save-row]":"saveRow","blur [data-save-row]":"stopEvent","keyup [data-save-row]":"saveRow","dblclick td":"editRow","keyup [data-edit-row]":"editRow","mouseup [data-edit-row]":"editRow","click [data-delete-row]":"deleteRow","click [data-undo-edit-row]":"exitEditMode"},tagName:"tr",initialize:function e(t,a){this.rowData=t;this.rowSchema=a},renderTemplate:function e(t){var a=t(b(this.rowData,this.rowSchema));this.$el.html(a);h.default.bindValidators(this.$el)},renderInReadOnlyMode:function e(){this.$el.removeClass("am-inline-edit-table-row");this.renderTemplate(f.default);return this},renderInEditMode:function e(){this.$el.addClass("am-inline-edit-table-row");this.renderTemplate(s.default);return this},renderInNewMode:function e(){this.$el.addClass("am-inline-edit-table-row");this.renderTemplate(d.default);return this},editRow:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;this.trigger("edit",this)},deleteRow:function e(){this.trigger("delete",this)},exitEditMode:function e(){this.trigger("exitEditMode",this)},focus:function e(){this.$el.find("input:first").focus()},addRow:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;h.default.validateAllFields(this.$el);var a=g(this.rowSchema,this.$el);if(this.isDataValid(a,this.rowSchema)){this.rowData=a;this.trigger("add",this)}},saveRow:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;h.default.validateAllFields(this.$el);var a=g(this.rowSchema,this.$el);if(this.isDataValid(a,this.rowSchema)){this.rowData=a;this.trigger("exitEditMode",this)}},isDataValid:function e(t,a){return i.default.every(t,function(e,t){return void 0!==e&&e.length>0||!i.default.includes(a.required,t)})},getData:function e(){return this.rowData}})},1678:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=p(n);var l=a(19);var r=p(l);var o=a(159);var s=p(o);var u=a(1677);var d=p(u);var c=a(1176);var f=p(c);function p(e){return e&&e.__esModule?e:{default:e}}var h={required:["key"],properties:{key:{title:r.default.t("common.form.propertyName"),propertyOrder:0},value:{title:r.default.t("common.form.propertyValue"),propertyOrder:1}}};t.default=s.default.View.extend({template:f.default,initialize:function e(t){var a=t.values,n=void 0===a?[]:a,i=t.rowSchema,l=void 0===i?h:i;this.values=n;this.rowSchema=l;this.rows=[]},getHeaders:function e(){var t=[];i.default.each(this.rowSchema.properties,function(e){t[e.propertyOrder]=e.title});return t},getRenderData:function e(){return{headers:this.getHeaders()}},render:function e(){var t=this;this.$el.empty();var a=this.template(this.getRenderData());this.$el.html(a);this.tBody=this.$el.find("tbody");i.default.each(this.values,function(e){var a=t.initRow(e);t.tBody.append(a.renderInReadOnlyMode().$el);t.rows.push(a)});this.appendEmptyNewRowToTheBottom();return this},initRow:function e(){var t=this;var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=new d.default(a,this.rowSchema);var l=function e(a){if(a===t.currentlyEditedRow||a===t.newRow)return;t.currentlyEditedRow&&t.currentlyEditedRow.renderInReadOnlyMode();a.renderInEditMode().focus();t.currentlyEditedRow=a;t.newRow.$el.hide()};var r=function e(){if(t.currentlyEditedRow){t.currentlyEditedRow.renderInReadOnlyMode();t.currentlyEditedRow=void 0}t.newRow.$el.show()};var o=function e(a){t.rows.push(a);a.renderInReadOnlyMode();t.appendEmptyNewRowToTheBottom()};var s=function e(a){t.rows=i.default.without(t.rows,a);a.remove()};n.on("edit",l);n.on("exitEditMode",r);n.on("delete",s);n.on("add",o);return n},appendEmptyNewRowToTheBottom:function e(){var t=this.initRow();this.tBody.append(t.renderInNewMode().$el);this.newRow=t},getData:function e(){return i.default.map(this.rows,function(e){return e.getData()})},isValid:function e(){return true},setData:function e(t){this.values=t;this.rows=[];this.render()}})},1690:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(1595);var i=u(n);var l=a(1231);var r=u(l);var o=a(660);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.extend({template:r.default,render:function e(t,a,n){var i="";if("startIp"===t.title||"endIp"===t.title){"IPv4"===t.schema.title?t.pattern=s.default.IPV4_PATTERN:"IPv6"===t.schema.title&&(t.pattern=s.default.IPV6_PATTERN);i="auto-fill-group"}else t.value&&"number"===t.value.type?t.pattern=s.default.NUMBER_PATTERN:t.value&&"integer"===t.value.type?t.pattern=s.default.INTEGER_PATTERN:t.pattern=null;this.initBasic(t,a,"field-float-pattern data-obj "+i);this.parentRender(function(){n&&n()})},attrSpecificChangeInput:function e(){if("authenticateToRealm"===this.data.title){var t=this.data.itemData;0!==t.authenticateToRealm.indexOf("/")&&(t.authenticateToRealm="/"+t.authenticateToRealm)}}})},1691:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1531);var n=a(6);var i=p(n);var l=a(19);var r=p(l);var o=a(1236);var s=p(o);var u=a(1595);var d=p(u);var c=a(1596);var f=p(c);function p(e){return e&&e.__esModule?e:{default:e}}var h="GMT";var m="console.authorization.policies.edit.subjectTypes.Identity.placeholder";var v=["users","groups"];var y=1;var b="console.authorization.policies.edit.conditionTypes.Script.placeholder";var g="scriptId";var x=["AuthenticateToServiceConditionAdvice","AuthenticateToRealmConditionAdvice","AuthenticateToTreeConditionAdvice","AuthSchemeConditionAdvice","AuthLevelConditionAdvice"];var C="authenticationStrategy";var E="console.authorization.policies.edit.conditionTypes.Transaction.props.";var _="console.authorization.policies.edit.conditionTypes.SimpleTime.props.enterTimeZone";var k="enforcementTimeZone";t.default=d.default.extend({template:s.default,render:function e(t,a,n){t.title===C&&(t.multiple=false);void 0===t.multiple&&(t.multiple=true);this.initBasic(t,a,"field-float-selectize data-obj");this.parentRender(function(){var e=this,t="",a="",l,o,s,u,d;this.$el.find("select.selectize").each(function(){s=this;u=(0,r.default)(this);d=u.parent().find("label").data().title;o={};if(u.data().source)d===g?i.default.extend(o,{placeholder:r.default.t(b),preload:true,sortField:"value",load:function t(a,n){e.loadFromDataSource.call(this,s,n)},onChange:function n(i){t=this.$input.parent().find("label").data().title;a=this.$input.find(":selected").text();e.data.itemData[t]=i||"";e.data.hiddenData[e.data.itemData.type]=a||""}}):d===k?i.default.extend(o,{placeholder:r.default.t(_),preload:true,sortField:"value",render:{item:function e(t){return"<span class='time-zone-selected'>"+t.text+"</span>"}},load:function e(){var t=this;r.default.ajax({url:"timezones.json",dataType:"json",cache:true}).then(function(e){i.default.each(e.timezones,function(e){t.addOption({value:e,text:e})})})},onChange:function t(a){e.data.itemData.enforcementTimeZone=a||h}}):i.default.includes(v,d)&&i.default.extend(o,{placeholder:r.default.t(m),sortField:"value",load:function t(a,n){if(a.length<y)return n();e.queryIdentities.call(this,s,a,n)},onItemAdd:function t(a){e.getUniversalId(a,d)},onItemRemove:function t(a){var n=i.default.findKey(e.data.hiddenData[d],function(e){return e===a});e.data.itemData.subjectValues=i.default.without(e.data.itemData.subjectValues,n);delete e.data.hiddenData[d][n]}});else if(d===C)i.default.extend(o,{placeholder:r.default.t("common.form.select"),valueField:"value",labelField:"label",options:i.default.map(x,function(e){return{value:e,label:r.default.t(""+E+e)}}),items:[e.data.itemData.authenticationStrategy],create:false,onChange:function a(n){t=this.$input.parent().find("label").data().title;l=e.data.itemData;l[t]=n||""}});else{i.default.extend(o,{delimiter:false,persist:false,create:function e(t){return{value:t,text:t}},onChange:function a(n){t=this.$input.parent().find("label").data().title;l=e.data.itemData;l[t]=n||[]}});"dnsName"===u.prev("label").data("title")&&(o.createFilter=function(e){return-1===e.indexOf("*")||0===e.lastIndexOf("*")})}i.default.extend(o,{plugins:["restore_on_backspace"]});u.selectize(o)});n&&n()})},queryIdentities:function e(t,a,n){var l=this;f.default.queryIdentities((0,r.default)(t).data().source,a).then(function(e){i.default.each(e.result,function(e){l.addOption({value:e,text:e})});n(e.result)},function(e){console.error("error",e);n()})},getUniversalId:function e(t,a){var n=this;f.default.getUniversalId(t,a).then(function(e){n.data.itemData.subjectValues=i.default.union(n.data.itemData.subjectValues,e.universalid);n.data.hiddenData[a][e.universalid[0]]=t})},loadFromDataSource:function e(t,a){var n=this;f.default.getDataByType((0,r.default)(t).data().source).then(function(e){i.default.each(e.result,function(e){n.addOption({value:e._id,text:e.name})});a(e.result)},function(e){console.error("error",e);a()})}})},1692:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1673);var n=a(6);var i=C(n);var l=a(19);var r=C(l);var o=a(114);var s=C(o);var u=a(27);var d=C(u);var c=a(1859);var f=C(c);var p=a(1851);var h=C(p);var m=a(1850);var v=C(m);var y=a(1227);var b=C(y);var g=a(1849);var x=C(g);function C(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:b.default,noBaseTemplate:true,events:{"click  [data-add-condition]:not(.disabled)":"addCondition","keyup  [data-add-condition]:not(.disabled)":"addCondition","click  [data-add-operator]:not(.disabled)":"addOperator","keyup  [data-add-operator]:not(.disabled)":"addOperator","click  [data-delete-operator]":"onDelete","keyup  [data-delete-operator]":"onDelete"},types:{ENVIRONMENT:"environmentType",SUBJECT:"subjectType",LEGACY:"Policy"},localEntity:{},groupCounter:0,idPrefix:"",property:"",properties:"",init:function e(t,a){i.default.extend(this.events,a);i.default.extend(d.default,this.types);this.localEntity=null;this.sortingInitialised=false;this.data.entity[this.property]&&(this.localEntity=this.data.entity[this.property])},buildList:function e(){var t=this,a=null,n=i.default.map(this.data.operators,"title"),l=null;function r(e,o){false===i.default.isArray(e)&&(e=[e]);i.default.each(e,function(e){if(e&&i.default.includes(n,e.type)){a=new x.default;a.render(t.data,o,t.idPrefix+t.idCount,0===t.idCount);a.setValue(e.type);t.idCount++}else if(!i.default.isEmpty(e)){if(e.type===d.default.LEGACY){a=new v.default;a.render(e,o,t.idCount)}else{a=t.getNewRule();l=t.getProperties();a.render(l,o,t.idCount,e);a.createListItem(l,a.$el)}t.idCount++}e&&e[t.properties]?r(e[t.properties],a.dropbox,e):e&&e[t.property]&&r(e[t.property],a.dropbox,e)})}if(!this.localEntity||false===i.default.includes(n,this.localEntity.type)){l=i.default.clone(this.localEntity);this.localEntity={type:"AND"};this.localEntity[this.properties]=[l]}r(this.localEntity,this.$el.find("ol#dropOffArea"),null);this.delegateEvents()},initSorting:function e(){var t=this;this.groupCounter++;this.$el.find("ol#dropbox").sortable({group:t.element+"rule-creation-group"+t.groupCounter,exclude:".item-button-panel, li.editing",delay:100,onMousedown:function e(t,a,n){n.stopPropagation();if(!n.target.nodeName.match(/^(input|select|textarea)$/i)){n.preventDefault();return true}},onDragStart:function e(a,n){var i=a.offset(),l=n.rootGroup.pointer,o=null;t.adjustment={left:l.left-i.left+5,top:l.top-i.top};t.setInactive(t.buttons.addCondition,false);t.setInactive(t.buttons.addOperator,false);a.focus();a.css({width:a.width()}).addClass("dragged");(0,r.default)("body").addClass("dragging");if(!n.options.drop&&a.hasClass("rule")){o=r.default.extend(false,a,t.getNewRule());o.createListItem(t.getProperties(),a)}},onDrag:function e(a,n){a.css({left:n.left-t.adjustment.left,top:n.top-t.adjustment.top})},onDrop:function e(a,n,i){var l=null,o,s,u;o=(0,r.default)("<li/>").css({height:0,backgroundColor:"transparent",borderColor:"transparent"});a.before(o);s=a.height();u=o.position();u.width=o.outerWidth()-10;a.addClass("dropped");o.animate({height:s},300,"linear");a.animate(u,300,function(){o.detach();a.removeClass("dropped");if(true===a.data().logical){l=r.default.extend(false,a,new x.default);l.rebindElement()}a.focus();i(a,n);t.save()});(0,r.default)("body").removeClass("dragging");t.delegateEvents()},isValidTarget:function e(a,n){var i=n.items.length>0&&n.target.parent().data().itemData&&n.target.parent().data().itemData[t.property]||a.hasClass("editing-disabled");return!i},serialize:function e(a,n,i){var l=r.default.extend({},a.data().itemData);if(i)return n;n[0]&&(l[t.properties]?l[t.properties]=n:l[t.property]&&(l[t.property]=n[0]));delete l.subContainers;delete l.sortable;return l}});this.sortingInitialised=true},editStart:function e(t){(0,r.default)("body").addClass("editing");var a=this,n=a.getNewRule(),i=a.getProperties(),l;n.render(i,t.parent(),a.idCount,t.data().itemData);a.idCount++;n.$el.addClass("editing");t.before(n.$el);this.setInactive(this.buttons.addCondition,true);this.setInactive(this.buttons.addOperator,true);l=this.$el.find(".rule, .operator").not(".editing");l.addClass("editing-disabled");l.find("> select").prop("disabled",true);n.$el.find("select.type-selection:first").focus()},editStop:function e(t){(0,r.default)("body").removeClass("editing");var a=r.default.extend(false,t,this.getNewRule()),n=this.getProperties(),i;a.createListItem(n,t);t.next().remove();this.save();i=this.$el.find(".rule, .operator").not(".editing");i.removeClass("editing-disabled");i.find("> select").prop("disabled",false)},setInactive:function e(t,a){t.toggleClass("disabled",a)},addOperator:function e(t){t.preventDefault();if("keyup"===t.type&&13!==t.keyCode)return;var a=new x.default;a.render(this.data,this.droppableParent,this.idPrefix+this.idCount);this.idCount++},addCondition:function e(t){t.preventDefault();if("keyup"===t.type&&13!==t.keyCode)return;var a=this.getNewRule(),n=this;a.render(this.getProperties(),this.droppableParent,this.idCount,null,function(){n.editStart(a.$el);n.$el.find("ol#dropbox").sortable("refresh")});this.idCount++},onSelect:function e(t){t.stopPropagation();this.save()},onDelete:function e(t){t.stopPropagation();if("keyup"===t.type&&13!==t.keyCode)return;var a=this,n=(0,r.default)(t.currentTarget).closest("li"),i;n.animate({height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0,opacity:0},function(){if((0,r.default)("body").hasClass("editing")){(0,r.default)("body").removeClass("editing");n.next().remove();i=a.$el.find(".rule, .operator").not(".editing");i.removeClass("editing-disabled");i.find("> select").prop("disabled",false)}n.remove();a.save()})},toggleEditing:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;var a=(0,r.default)(t.currentTarget).closest("li");if(a.hasClass("editing-disabled"))return;if(a.hasClass("editing")){a.removeClass("editing");this.editStop(a)}else this.editStart(a)},setFocus:function e(t){t.stopPropagation();var a=(0,r.default)(t.target).is("select")||(0,r.default)(t.target).is("input")?t.target:t.currentTarget;(0,r.default)(a).focus()},getNewRule:function e(){return this.conditionType===d.default.ENVIRONMENT?new f.default:new h.default},getProperties:function e(){var t={};t[this.properties]=this.data[this.properties];return t},save:function e(){if(true!==this.sortingInitialised)return;var t=this.$el.find("ol#dropbox").sortable("serialize").get(),a=this.$el.find("#operator"+this.idPrefix+"0").data().itemData;if(a[this.properties])if(t.length<=1)this.data.entity[this.property]=i.default.isEmpty(t[0])?null:t[0];else{a[this.properties]=t;this.data.entity[this.property]=a}else if(a[this.property])if(t[0]&&!i.default.isEmpty(t[0])){this.data.entity[this.property]=a;this.data.entity[this.property][this.property]=t[0]}else this.data.entity[this.property]=null;else null===a[this.property]?this.data.entity[this.property]=null:console.error("This should never be triggered",this.property,a);console.log("\n"+this.property+":",JSON.stringify(this.data.entity[this.property],null,2));this.identifyDroppableLogical()},identifyDroppableLogical:function e(){var t=this.$el.find("#operator"+this.idPrefix+"0"),a,n,i,l,o,s,u,d=0;this.droppableParent=null;if(t.hasClass("not")){a=t.find("li");n=a.filter(".operator").get();i=n.length;l=a.filter(".rule").get();if(i)for(;d<i;d++){o=(0,r.default)(n[d]);s=o.hasClass("and")||o.hasClass("or");u=o.hasClass("not")&&0===o.children(".dropbox").children("li").length;if(s||u){this.droppableParent=o.children(".dropbox");break}}else 0===l.length&&(this.droppableParent=t.children(".dropbox"))}else this.droppableParent=t.children(".dropbox");if(this.droppableParent){this.setInactive(this.buttons.addCondition,false);this.setInactive(this.buttons.addOperator,false);this.$el.find(".one-child-only:first").hide()}else{this.setInactive(this.buttons.addCondition,true);this.setInactive(this.buttons.addOperator,true);this.$el.find(".one-child-only:first").show()}}})},1833:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(35);var i=l(n);function l(e){return e&&e.__esModule?e:{default:e}}var r=function e(t){t&&i.default.unmountComponentAtNode(t)};t.default=r},1834:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();var i=a(570);var l=a(0);var r=u(l);var o=a(1);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){f(t,e);function t(e){d(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleHeaderClick=a.handleHeaderClick.bind(a);return a}n(t,[{key:"handleHeaderClick",value:function e(){this.props.onClick(this.props.title)}},{key:"render",value:function e(){var t=this.props,a=t.icon,n=t.title;return s.default.createElement(i.Media,{onClick:this.handleHeaderClick,role:"link"},s.default.createElement(i.Media.Left,null,s.default.createElement("div",{className:"bg-primary"},s.default.createElement("i",{className:"fa fa-"+a}))),s.default.createElement(i.Media.Body,null,s.default.createElement(i.Media.Heading,null,n)),s.default.createElement(i.Media.Right,{align:"middle"},s.default.createElement("i",{className:"fa fa-pencil"})))}}]);return t}(o.Component);p.propTypes={icon:r.default.string.isRequired,onClick:r.default.func.isRequired,title:r.default.string.isRequired};t.default=p},1835:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(570);var i=a(0);var l=d(i);var r=a(1);var o=d(r);var s=a(1834);var u=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var a=t.children,i=t.icon,l=t.onClick,r=t.title;return o.default.createElement(n.Panel,{className:"am-masonry-item am-summary-section"},o.default.createElement(n.Panel.Heading,null,o.default.createElement(u.default,{icon:i,onClick:l,title:r})),o.default.createElement(n.Panel.Body,null,a))};c.propTypes={children:l.default.node.isRequired,icon:l.default.string.isRequired,onClick:l.default.func.isRequired,title:l.default.string.isRequired};t.default=c},1836:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=d(n);var l=a(570);var r=a(0);var o=d(r);var s=a(1);var u=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var a=t.attributes,n=t.title;var r=function e(t){return i.default.isEmpty(t.propertyValues)?"":": "+t.propertyValues.join(", ")};return i.default.isEmpty(a)?null:u.default.createElement("div",{className:"am-summary-sub-section row"},u.default.createElement("h5",null,n),u.default.createElement("span",{className:"am-badge-group"},a.map(function(e){return u.default.createElement(l.Badge,{key:e.propertyName},e.propertyName,r(e))})))};c.propTypes={attributes:o.default.arrayOf({propertyName:o.default.string,propertyValues:o.default.arrayOf(o.default.string)}).isRequired,title:o.default.string.isRequired};t.default=c},1837:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=h(n);var l=a(61);var r=a(0);var o=h(r);var s=a(1);var u=h(s);var d=a(1836);var c=h(d);var f=a(1655);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var v=function e(t){var a=t.customAttributes,n=t.onClick,r=t.staticAttributes,o=t.userAttributes;if(i.default.isEmpty([].concat(m(o),m(r),m(a))))return u.default.createElement(p.default,{onClick:n,sectionName:(0,l.t)("console.authorization.common.responseAttributes")});return u.default.createElement("div",null,u.default.createElement(c.default,{attributes:o,title:(0,l.t)("console.authorization.common.subjectAttributes")}),u.default.createElement(c.default,{attributes:r,title:(0,l.t)("console.authorization.common.staticAttributes")}),u.default.createElement(c.default,{attributes:a,title:(0,l.t)("console.authorization.common.customAttributes")}))};v.propTypes={customAttributes:o.default.array.isRequired,onClick:o.default.func.isRequired,staticAttributes:o.default.array.isRequired,userAttributes:o.default.array.isRequired};t.default=v},1838:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(570);var i=a(0);var l=s(i);var r=a(1);var o=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){var a=t.resources;return o.default.createElement("span",{className:"am-badge-group"},a.map(function(e){return o.default.createElement(n.Badge,{key:e},e)}))};u.propTypes={resources:l.default.arrayOf(l.default.string).isRequired};t.default=u},1839:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(0);var r=c(l);var o=a(1);var s=c(o);var u=a(1655);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=function e(t){var a=t.condition,n=t.conditionName,l=t.onClick;return i.default.isEmpty(a)?s.default.createElement(d.default,{onClick:l,sectionName:n}):s.default.createElement("pre",{className:"am-text-preformatted"},JSON.stringify(a,null,2))};f.propTypes={condition:r.default.objectOf(r.default.any),conditionName:r.default.string.isRequired,onClick:r.default.func.isRequired};t.default=f},1840:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=p(n);var l=a(570);var r=a(61);var o=a(0);var s=p(o);var u=a(1);var d=p(u);var c=a(1655);var f=p(c);function p(e){return e&&e.__esModule?e:{default:e}}var h=function e(t){var a=t.actionValues,n=t.onClick;if(i.default.isEmpty(a))return d.default.createElement(f.default,{onClick:n,sectionName:(0,r.t)("console.authorization.common.actions")});var o=(0,i.default)(a).mapValues(function(e,t){return d.default.createElement(l.Badge,{key:t},t.toUpperCase(),": ",e?(0,r.t)("console.authorization.common.allowed"):(0,r.t)("console.authorization.common.denied"))}).values().value();return d.default.createElement("span",{className:"am-badge-group"},o)};h.propTypes={actionValues:s.default.objectOf(s.default.oneOfType([s.default.string,s.default.bool])),onClick:s.default.func.isRequired};t.default=h},1841:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(570);var i=a(61);var l=a(0);var r=g(l);var o=a(1840);var s=g(o);var u=a(1839);var d=g(u);var c=a(1);var f=g(c);var p=a(1838);var h=g(p);var m=a(1837);var v=g(m);var y=a(1835);var b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}var x=function e(t){var a=t.actionValues,l=t.condition,r=t.customAttributes,o=t.onClick,u=t.resources,c=t.staticAttributes,p=t.subject,m=t.userAttributes;return f.default.createElement(n.Grid,{bsClass:"",className:"am-masonry-grid-2"},f.default.createElement(b.default,{icon:"file-o",onClick:o,title:(0,i.t)("console.authorization.common.resources")},f.default.createElement(h.default,{resources:u})),f.default.createElement(b.default,{icon:"gavel",onClick:o,title:(0,i.t)("console.authorization.common.actions")},f.default.createElement(s.default,{actionValues:a,onClick:o})),f.default.createElement(b.default,{icon:"mail-reply",onClick:o,title:(0,i.t)("console.authorization.common.responseAttributes")},f.default.createElement(v.default,{customAttributes:r,onClick:o,staticAttributes:c,userAttributes:m})),f.default.createElement(b.default,{icon:"users",onClick:o,title:(0,i.t)("console.authorization.common.subjects")},f.default.createElement(d.default,{condition:p,conditionName:(0,i.t)("console.authorization.common.subjects"),onClick:o})),f.default.createElement(b.default,{icon:"check-square-o",onClick:o,title:(0,i.t)("console.authorization.common.environments")},f.default.createElement(d.default,{condition:l,conditionName:(0,i.t)("console.authorization.common.environments"),onClick:o})))};x.propTypes={actionValues:r.default.object.isRequired,condition:r.default.shape(r.default.object),customAttributes:r.default.array.isRequired,onClick:r.default.func.isRequired,resources:r.default.array.isRequired,staticAttributes:r.default.array.isRequired,subject:r.default.object.isRequired,userAttributes:r.default.array.isRequired};t.default=x},1842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1531);var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(114);var s=c(o);var u=a(1237);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=s.default.extend({element:"#userAttrs",template:d.default,noBaseTemplate:true,attrType:"User",render:function e(t,a){var n=this,l;this.data.selectedUserAttributes=t[0];this.data.allUserAttributes=[];i.default.each(t[1],function(e){l={};l.propertyName=e;l.selected=i.default.find(n.data.selectedUserAttributes,function(t){return t.propertyName===e});n.data.allUserAttributes.push(l)});this.parentRender(function(){n.initSelectize();a&&a()})},getAttrs:function e(){var t=[],a,n=this;i.default.each(this.data.selectedUserAttributes,function(e){a={};a.type=n.attrType;a.propertyName=e.propertyName||e;t.push(a)});t=i.default.sortBy(t,"propertyName");return t},initSelectize:function e(){var t=this;this.$el.find(".selectize").each(function(){(0,r.default)(this).selectize({plugins:["restore_on_backspace"],delimiter:false,persist:false,create:false,hideSelected:true,onChange:function e(a){t.data.selectedUserAttributes=a}})})}});t.default=new f},1843:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=u(n);var l=a(159);var r=u(l);var o=a(1678);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var d=r.default.View.extend({initialize:function e(t){var a=t.staticAttributes;this.staticAttributes=a},render:function e(){var t=this;var a=function e(){return i.default.flatten(i.default.map(t.staticAttributes,function(e){return i.default.map(e.propertyValues,function(t){return{key:e.propertyName,value:t}})}))};this.inlineEditList=new s.default({values:a()});this.$el.append(this.inlineEditList.render().$el);return this},getGroupedData:function e(){return(0,i.default)(this.inlineEditList.getData()).groupBy("key").map(function(e,t){return{type:"Static",propertyName:t,propertyValues:i.default.map(e,"value")}}).value()}});t.default=d},1844:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=u(n);var l=a(1);var r=u(l);var o=a(35);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var d=function e(t,a){return s.default.render(t,a[0])};t.default=d},1845:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,a,n){a&&e(t.prototype,a);n&&e(t,n);return t}}();var l=a(6);var r=m(l);var o=a(570);var s=a(61);var u=a(0);var d=m(u);var c=a(1);var f=m(c);var p=a(889);var h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:true,configurable:true,writable:true}):e[t]=a;return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e){g(t,e);function t(e){y(this,t);var a=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleCheckBoxChange=a.handleCheckBoxChange.bind(a);a.handleClose=a.handleClose.bind(a);a.handleSubmit=a.handleSubmit.bind(a);a.handleTextFieldChange=a.handleTextFieldChange.bind(a);a.state=n({showModal:true},e.data);return a}i(t,[{key:"componentWillReceiveProps",value:function e(t){this.setState(n({showModal:true},t.data))}},{key:"handleCheckBoxChange",value:function e(t){this.setState({active:t.target.checked})}},{key:"handleClose",value:function e(){this.setState({showModal:false})}},{key:"handleSubmit",value:function e(){this.setState({showModal:false});this.props.handleSubmit(r.default.pick(this.state,["active","name","description"]))}},{key:"handleTextFieldChange",value:function e(t){this.setState(v({},t.target.getAttribute("data-entity-prop"),t.target.value))}},{key:"render",value:function e(){return f.default.createElement(o.Modal,{onExit:this.handleOnExit,onHide:this.handleClose,show:this.state.showModal},f.default.createElement(o.Modal.Header,{closeButton:true},f.default.createElement(o.Modal.Title,null,(0,s.t)("common.form.editDetails"))),f.default.createElement(o.Modal.Body,null,f.default.createElement("form",{className:"form-horizontal"},f.default.createElement(o.Grid,{bsClass:""},f.default.createElement(o.FormGroup,{className:"clearfix",controlId:"policyName"},f.default.createElement(o.Col,{sm:2},f.default.createElement(o.ControlLabel,null,(0,s.t)("console.common.name"))),f.default.createElement(o.Col,{sm:9},f.default.createElement(o.FormControl,{"data-entity-prop":"name",onChange:this.handleTextFieldChange,placeholder:(0,s.t)("common.form.validation.required"),type:"text",value:this.state.name}))),f.default.createElement(o.FormGroup,{className:"clearfix",controlId:"policyDescription"},f.default.createElement(o.Col,{sm:2},f.default.createElement(o.ControlLabel,null,(0,s.t)("console.common.description"))),f.default.createElement(o.Col,{sm:9},f.default.createElement(o.FormControl,{componentClass:"textarea","data-entity-prop":"description",onChange:this.handleTextFieldChange,value:this.state.description}))),f.default.createElement(o.FormGroup,{className:"clearfix"},f.default.createElement(o.Col,{sm:2},f.default.createElement(o.ControlLabel,{htmlFor:"policyActive"},(0,s.t)("common.user.active"))),f.default.createElement(o.Col,{sm:9},f.default.createElement(h.default,{checked:this.state.active,id:"policyActive",onChange:this.handleCheckBoxChange})))))),f.default.createElement(o.Modal.Footer,null,f.default.createElement(o.Button,{onClick:this.handleClose},(0,s.t)("common.form.close")),f.default.createElement(o.Button,{bsStyle:"primary",onClick:this.handleSubmit},(0,s.t)("common.form.saveChanges"))))}}]);return t}(c.Component);x.propTypes={data:d.default.objectOf({active:d.default.bool.isRequired,description:d.default.string.isRequired,name:d.default.string.isRequired}),handleSubmit:d.default.func.isRequired};t.default=x},1846:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=m(n);var l=a(19);var r=m(l);var o=a(114);var s=m(o);var u=a(1187);var d=m(u);var c=a(1242);var f=m(c);var p=a(1241);var h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}var v=s.default.extend({element:"#actions",template:f.default,noBaseTemplate:true,events:{"click [data-toggle-item]":"changePermission","click [data-action-name]":"selectAction","click button[data-delete]":"deleteItem","keyup button[data-delete]":"deleteItem"},render:function e(t,a){i.default.extend(this.data,t);var n=i.default.cloneDeep(t.options.availableActions);var l=[];i.default.each(t.entity.actionValues,function(e,t){n=i.default.without(n,i.default.find(n,{action:t}));l.push({action:t,value:e})});this.data.availableActions=n;this.data.selectedActions=l;this.parentRender(function(){var e=r.default.Deferred();var t=r.default.Deferred();this.renderAvailableActions(function(){return e.resolve()});this.renderSelectedActions(function(){return t.resolve()});Promise.all([e,t]).then(function(){a&&a()})})},renderAvailableActions:function e(t){var a=(0,h.default)({items:i.default.sortBy(this.data.availableActions,"action")});this.$el.find("#availableActions").html(a);t&&t()},renderSelectedActions:function e(t){var a=(0,d.default)({items:i.default.sortBy(this.data.selectedActions,"action")});this.$el.find("#selectedActions").html(a);this.$el.find("button[data-add-item]").prop("disabled",true);t&&t()},selectAction:function e(t){t.preventDefault();var a=(0,r.default)(t.target).data("actionName");var n=i.default.find(this.data.options.availableActions,{action:a});var l=i.default.clone(n);this.data.availableActions=i.default.without(this.data.availableActions,i.default.find(this.data.availableActions,{action:a}));this.renderAvailableActions();this.data.selectedActions.push(l);this.renderSelectedActions();this.data.entity.actionValues[n.action]=n.value},changePermission:function e(t){var a=(0,r.default)(t.target);var n="true"===(a.val()||a.find("input").val());var l=a.closest("tr").find(".action-name").text().trim();i.default.find(this.data.selectedActions,{action:l}).value=n;this.data.entity.actionValues[l]=n},deleteItem:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;var a=(0,r.default)(t.target);var n=a.closest("tr").find(".action-name").text().trim();var l=i.default.find(this.data.selectedActions,{action:n});this.data.selectedActions=i.default.without(this.data.selectedActions,l);this.renderSelectedActions();delete this.data.entity.actionValues[n];this.data.availableActions.push(l);this.renderAvailableActions()}});t.default=new v},1847:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(61);var i=a(1);var l=r(i);function r(e){return e&&e.__esModule?e:{default:e}}var o=function e(){return l.default.createElement("div",{className:"panel-footer clearfix"},l.default.createElement("input",{className:"btn btn-primary pull-right","data-save":true,name:"submitForm",type:"button",value:(0,n.t)("common.form.saveChanges")}))};t.default=o},1848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(27);var s=c(o);var u=a(1692);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.default.extend({element:"#subjectContainer",subEvents:{"change .subject-area .operator > select":"onSelect","mousedown #operatorSub_0 li.rule:not(.editing)":"setFocus","mousedown #operatorSub_0 li.operator:not(.editing)":"setFocus","click    #operatorSub_0 .rule > .item-button-panel > .fa-times":"onDelete","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-times":"onDelete","click    #operatorSub_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","click    #operatorSub_0 .rule > .item-button-panel > .fa-check":"toggleEditing","keyup    #operatorSub_0 .rule > .item-button-panel > .fa-check":"toggleEditing","dblclick #operatorSub_0 li.rule:not(.legacy-condition)":"toggleEditing"},data:{},buttons:{},idCount:0,typeAND:{title:"AND",logical:true,config:{properties:{subjects:{type:"array",items:{type:"any"}}}}},render:function e(t,a){this.idPrefix="Sub_";this.property="subject";this.properties="subjects";this.data.conditionName=r.default.t("console.authorization.policies.edit.addSubjectCondition");this.data.entity=t.entity;this.data.options=t.options;this.data.subjects=[];this.data.operators=[];var n=this;i.default.each(this.data.options.availableSubjects,function(e){true===e.logical?n.data.operators.push(e):n.data.subjects.push(e);delete e.config.type});i.default.find(this.data.operators,{title:"AND"})||this.data.operators.push(this.typeAND);this.init(t,this.subEvents);this.conditionType=s.default.SUBJECT;this.setElement(this.element);this.idCount=0;this.parentRender(function(){this.buttons.addCondition=this.$el.find("a#addCondition");this.buttons.addOperator=this.$el.find("a#addOperator");0===n.data.operators.length&&this.buttons.addOperator.hide();this.buildList();this.initSorting();this.identifyDroppableLogical();a&&a()})}});t.default=new f},1849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(114);var s=c(o);var u=a(1226);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:d.default,noBaseTemplate:true,events:{"change    > select":"onSelect","onfocus   select":"checkOptions","mousedown select":"checkOptions"},data:{},mode:"append",select:null,dropbox:null,operatorI18nKey:"console.authorization.policies.edit.operators.",render:function e(t,a,n,l,o){var s=this;this.data=r.default.extend(true,{},t);this.data.itemID=n;this.data.firstChild=l;i.default.each(this.data.operators,function(e){e.i18nKey=s.operatorI18nKey+e.title});this.setElement(a);var u=this.template(this.data);s.$el.append(u);s.setElement("#operator"+n);s.select=s.$el.find("select");s.delegateEvents();s.select.focus().trigger("change");s.$el.data("logical",true);s.dropbox=s.$el.find(".dropbox");s.$el.find('.fa[data-toggle="popover"]').popover();o&&o()},setValue:function e(t){this.select.focus().val(t).trigger("change")},rebindElement:function e(){this.delegateEvents()},onSelect:function e(t){var a=(0,r.default)(t.currentTarget).parent(),n=t.currentTarget.value,l={},o=i.default.find(this.data.operators,function(e){return e.title===n});l.type=o.title;i.default.map(o.config.properties,function(e,t){l[t]=e});a.data("itemData",l);i.default.each(this.data.operators,function(e){a.removeClass(e.title.toLowerCase())});a.addClass(n.toLowerCase())},checkOptions:function e(t){var a=(0,r.default)(t.target).parent(),n=a.children("ol.dropbox"),l=n.parent().children("select"),o=null;n.children(":not(.dragged)").length>1?i.default.each(this.data.operators,function(e){o=l.find('option[value="'+e.title+'"]');var t=!!(e.config.properties.condition||e.config.properties.subject);o.prop("disabled",t)}):l.children().prop("disabled",false)}})},1850:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(114);var i=l(n);function l(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.extend({data:{},mode:"append",render:function e(t,a,n,i){this.setElement(n);this.data.itemID=i;this.data.itemData=t;this.setElement("#legacy_"+i);this.delegateEvents();this.$el.data("itemData",t);a&&a()}})},1851:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=y(n);var l=a(19);var r=y(l);var o=a(114);var s=y(o);var u=a(1691);var d=y(u);var c=a(1228);var f=y(c);var p=a(1186);var h=y(p);var m=a(1690);var v=y(m);function y(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:f.default,events:{"change [data-type-selection]":"changeType"},data:{},subjectI18n:{key:"console.authorization.policies.edit.subjectTypes.",title:".title",props:".props."},IDENTITY_RESOURCE:"Identity",render:function e(t,a,n,l,o){var s=this;this.setElement(a);this.data=r.default.extend(true,[],t);this.data.itemID=n;i.default.each(this.data.subjects,function(e){e.i18nKey=r.default.t(s.subjectI18n.key+e.title+s.subjectI18n.title)});this.data.subjects=i.default.sortBy(this.data.subjects,"i18nKey");var u=this.template(this.data);s.$el.append(u);s.setElement("#subject_"+n);if(l){l.type===s.IDENTITY_RESOURCE&&s.$el.data("hiddenData",s.getUIDsFromUniversalValues(l.subjectValues));s.$el.data("itemData",l);s.$el.find("select.type-selection:first").val(l.type).trigger("change")}s.$el.find("select.type-selection:first").focus();o&&o()},createListItem:function e(t,a){var n=this,l=null,o=a.data().itemData,s=a.data().hiddenData,u,d,c;c=i.default.merge({},o,s);a.focus();this.data.subjects=t;if(c&&c.type){u=c.type;l={};i.default.each(c,function(e,t){if("type"===t)l["console.common.type"]=r.default.t(n.subjectI18n.key+u+n.subjectI18n.title);else if(u===n.IDENTITY_RESOURCE){if("subjectValues"!==t){d="";i.default.forOwn(e,function(e){d+=e+" "});l[n.subjectI18n.key+u+n.subjectI18n.props+t]=d}}else l[n.subjectI18n.key+u+n.subjectI18n.props+t]=e})}var f=(0,h.default)({data:l});a.find(".item-data").html(f);n.setElement("#"+a.attr("id"))},changeType:function e(t){t.stopPropagation();var a=this,n={},l,r=t.target.value,o=i.default.find(this.data.subjects,{title:r})||{},s=a.$el.find(".field-float-pattern").length>0?500:0;if(this.$el.data().itemData&&this.$el.data().itemData.type===r){n=this.$el.data().itemData;l=this.$el.data().hiddenData}else{n=a.setDefaultJsonValues(o);a.$el.data("itemData",n);l=n.type===a.IDENTITY_RESOURCE?{users:{},groups:{}}:{};a.$el.data("hiddenData",l)}if(n){a.animateOut();setTimeout(function(){a.$el.find(".no-float").remove();a.$el.find(".clear-left").remove();a.$el.parents("#dropbox").length&&!a.$el.hasClass("editing")||a.buildHTML(n,l,o).then(function(){a.animateIn()})},s)}},buildHTML:function e(t,a,n){var l=this,o=this.$el.find(".item-data"),s=n.config.properties,u,c=r.default.Deferred();if(n.title===l.IDENTITY_RESOURCE)i.default.each(["users","groups"],function(e){(new d.default).render({itemData:t,hiddenData:a,data:a[e],title:e,i18nKey:l.subjectI18n.key+n.title+l.subjectI18n.props+e,dataSource:e},o,c.resolve)});else{i.default.map(s,function(e,i){u=l.subjectI18n.key+n.title+l.subjectI18n.props+i;switch(e.type){case"string":(new v.default).render({itemData:t,hiddenData:a,data:t[i],title:i,i18nKey:u},o);break;case"array":(new d.default).render({itemData:t,hiddenData:a,data:t[i],title:i,i18nKey:u},o);break;default:break}});c.resolve()}c.then(function(){l.$el.find(".condition-attr").wrapAll("<div class='no-float'></div>")});return c},setDefaultJsonValues:function e(t){var a={type:t.title};i.default.map(t.config.properties,function(e,t){switch(e.type){case"string":a[t]="";break;case"array":a[t]=[];break;default:console.error("Unexpected data type:",t,e);break}});return a},animateOut:function e(){this.$el.find(".no-float").fadeOut(500);this.$el.find(".clear-left").fadeOut(500);this.$el.find(".field-float-pattern, .field-float-selectize").find("label").removeClass("showLabel").next("input, div input").addClass("placeholderText").prop("readonly",true);this.$el.removeClass("invalid-rule")},animateIn:function e(){var t=this;setTimeout(function(){t.$el.find(".field-float-pattern, .field-float-selectize").find("label").addClass("showLabel").next("input, div input").removeClass("placeholderText").prop("readonly",false)},10)},getUIDsFromUniversalValues:function e(t){var a={users:{},groups:{}},n=-1,l=String("id=").length;i.default.each(t,function(e){n=e.indexOf(",ou=");e.indexOf(",ou=user")>-1?a.users[e]=e.substring(l,n):e.indexOf(",ou=group")>-1&&(a.groups[e]=e.substring(l,n))});return a}})},1853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1852);var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(1595);var s=c(o);var u=a(1230);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:d.default,clickClockPicker:function e(t){t.stopPropagation();(0,r.default)(t.currentTarget).prev("input").clockpicker("show")},render:function e(t,a,n){this.initBasic(t,a,"pull-left attr-group");this.events["click [data-clock]"]=i.default.bind(this.clickClockPicker,this);this.parentRender(function(){this.initClockPickers();n&&n()})},initClockPickers:function e(){this.$el.find(".clockpicker").each(function(){var e=(0,r.default)(this);e.clockpicker({placement:"top",autoclose:true,afterDone:function t(){e.trigger("change")}})})}})},1854:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1531);var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(1595);var s=c(o);var u=a(1232);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:d.default,render:function e(t,a,n){this.initBasic(t,a,"field-float-selectize data-obj");this.parentRender(function(){this.initSelectize();n&&n()})},initSelectize:function e(){var t=this,a="",n,l,o,s,u,d;this.$el.find("select.selectize").each(function(){d=(0,r.default)(this);l={persist:false,delimiter:";",onItemRemove:function e(i){a=this.$input.parent().find("label").data().title;n=t.data.itemData;o=i.split(":");delete n[a][o[0]]},onItemAdd:function e(l){a=this.$input.parent().find("label").data().title;n=t.data.itemData;o=l.split(":");s=o[0];u=o[1];n[a][s]||(n[a][s]=[]);n[a][s]=i.default.union(i.default.compact(u.split(",")),n[a][s])},create:function e(t){return{value:t,text:t}},onChange:function e(){a=this.$input.parent().find("label").data().title;n=t.data.itemData},createFilter:function e(t){return/^\w+:(?:\w+,?)+$/.test(t)}};i.default.extend(l,{plugins:["restore_on_backspace"]});d.selectize(l)})}})},1855:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(1595);var s=c(o);var u=a(1233);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:d.default,i18n:{weekdays:{key:"console.authorization.common.weekdays.",full:".full",short:".short"}},days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],render:function e(t,a,n){this.initBasic(t,a,"pull-left attr-group");this.data.weekdays=this.getWeekDays();this.parentRender(function(){n&&n()})},getWeekDays:function e(){var t=[];var a=this;var n=0;i.default.invokeMap(a.days,function(){t[n]={};t[n].title=r.default.t(a.i18n.weekdays.key+this+a.i18n.weekdays.full);t[n].value=r.default.t(a.i18n.weekdays.key+this+a.i18n.weekdays.short);n++});return t}})},1857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1856);var n=a(1595);var i=o(n);var l=a(1234);var r=o(l);function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.extend({template:r.default,render:function e(t,a,n){this.initBasic(t,a,"pull-left attr-group");this.parentRender(function(){this.initDatePickers();n&&n()})},initDatePickers:function e(){var t={format:"YYYY:MM:DD",useCurrent:false,icons:{previous:"fa fa-chevron-left",next:"fa fa-chevron-right"}},a=this.$el.find("#startDate"),n=this.$el.find("#endDate");a.datetimepicker(t);n.datetimepicker(t);a.on("dp.change",function(e){n.data("DateTimePicker").minDate(e.date)});n.on("dp.change",function(e){a.data("DateTimePicker").maxDate(e.date)})}})},1858:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(1595);var s=c(o);var u=a(1235);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=s.default.extend({template:d.default,render:function e(t,a,n){this.initBasic(t,a,"field-float-pattern data-obj button-field");this.events["click [data-btn]"]=i.default.bind(this.buttonControlClick,this);this.events["keyup [data-btn]"]=i.default.bind(this.buttonControlClick,this);this.parentRender(function(){n&&n()})},buttonControlClick:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;var a=(0,r.default)(t.currentTarget);var n=a.parent(".btn-group");if(n.hasClass("active"))return;var i=n.parent(".btn-group");var l=i.prev("label").data().title;var o=i.find(".btn-group.active");this.data.itemData[l]=a.data("val");o.removeClass("active");n.addClass("active")}})},1859:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(19);var i=R(n);var l=a(6);var r=R(l);var o=a(61);var s=R(o);var u=a(114);var d=R(u);var c=a(1691);var f=R(c);var p=a(1858);var h=R(p);var m=a(1857);var v=R(m);var y=a(1855);var b=R(y);var g=a(1229);var x=R(g);var C=a(1186);var E=R(C);var _=a(1854);var k=R(_);var T=a(1596);var w=R(T);var D=a(1690);var A=R(D);var M=a(1853);var S=R(M);function R(e){return e&&e.__esModule?e:{default:e}}t.default=d.default.extend({template:x.default,events:{"change [data-type-selection]":"changeType"},data:{},i18n:{condition:{key:"console.authorization.policies.edit.conditionTypes.",title:".title",props:".props."}},SCRIPT_RESOURCE:"Script",render:function e(t,a,n,l,o){var s=this,u={};this.setElement(a);this.data=i.default.extend(true,[],t);this.data.itemID=n;r.default.each(this.data.conditions,function(e){e.i18nKey=i.default.t(s.i18n.condition.key+e.title+s.i18n.condition.title)});this.data.conditions=r.default.sortBy(this.data.conditions,"i18nKey");var d=this.template(this.data);s.$el.append(d);s.setElement("#environment_"+n);if(l){delete l.name;if(l.type===s.SCRIPT_RESOURCE){u[l.type]=l.scriptId;s.$el.data("hiddenData",u)}s.$el.data("itemData",l);s.$el.find("select.type-selection:first").val(l.type).trigger("change")}s.$el.find("select.type-selection:first").focus();s.$el.find(".info-button").hide();o&&o()},createListItem:function e(t,a){var n=this,l=null,o=a.data().itemData,s=a.data().hiddenData,u=r.default.merge({},o,s),d;a.focus();this.data.conditions=t;if(u&&u.type){d=u.type;l={};if(d===n.SCRIPT_RESOURCE){l["console.common.type"]=i.default.t(n.i18n.condition.key+d+n.i18n.condition.title);w.default.getScriptById(u.scriptId).then(function(e){l[""+n.i18n.condition.key+d+n.i18n.condition.props+"scriptId"]=e.name;n.setListItemHtml(a,l)})}else{r.default.each(u,function(e,t){"type"===t?l["console.common.type"]=i.default.t(""+n.i18n.condition.key+d+n.i18n.condition.title):l[""+n.i18n.condition.key+d+n.i18n.condition.props+t]="authenticationStrategy"===t?i.default.t(""+n.i18n.condition.key+d+n.i18n.condition.props+e):e});this.setListItemHtml(a,l)}}else this.setListItemHtml(a,l)},setListItemHtml:function e(t,a){var n=this;var i=(0,E.default)({data:a});t.find(".item-data").html(i);n.setElement("#"+t.attr("id"))},changeType:function e(t){t.stopPropagation();var a=this,n={},i={},l=t.target.value,o=r.default.find(this.data.conditions,{title:l})||{},s=a.$el.find(".field-float-pattern").length>0?500:0,u;if(this.$el.data().itemData&&this.$el.data().itemData.type===l){n=this.$el.data().itemData;i=this.$el.data().hiddenData}else{n=a.setDefaultJsonValues(o);a.$el.data("itemData",n);a.$el.data("hiddenData",i)}if(n){a.animateOut();u=this.getHelperText(o);setTimeout(function(){a.$el.find(".no-float").remove();a.$el.find(".clear-left").remove();r.default.isEmpty(u)?a.$el.find(".info-button").hide():a.$el.find(".info-button").show().attr("data-title",u.title.toString()).attr("data-content",u.content.toString()).popover();a.$el.parents("#dropbox").length&&!a.$el.hasClass("editing")||a.buildHTML(n,i,o).then(function(){a.animateIn()})},s)}},getHelperText:function e(t){var a={};switch(t.title){case"IPv4":case"IPv6":a.title=s.default.t("console.authorization.policies.edit.conditionTypes.ipHelperTitle");a.content=s.default.t("console.authorization.policies.edit.conditionTypes.ipHelperContent");break;case"SimpleTime":a.title=s.default.t("console.authorization.policies.edit.conditionTypes.SimpleTime.helperTitle");a.content=s.default.t("console.authorization.policies.edit.conditionTypes.SimpleTime.helperContent");break;default:break}return a},buildHTML:function e(t,a,n){var l=this,o=this.$el.find(".item-data"),s=n.config.properties,u,d,c=i.default.Deferred();function p(){(new f.default).render({itemData:t,hiddenData:a,data:[a[t.type]],title:"scriptId",dataSource:"scripts",multiple:false,i18nKey:""+l.i18n.condition.key+n.title+l.i18n.condition.props+"scriptId"},o,c.resolve)}if("SimpleTime"===t.type){d='<div class="clearfix clear-left" id="conditionAttrTimeDate"></div>';(new S.default).render({itemData:t},o);(new b.default).render({itemData:t},o);(new v.default).render({itemData:t},o);t.enforcementTimeZone||(t.enforcementTimeZone="GMT");(new f.default).render({itemData:t,data:[t.enforcementTimeZone],title:"enforcementTimeZone",i18nKey:""+l.i18n.condition.key+n.title+l.i18n.condition.props+"enforcementTimeZone",dataSource:"enforcementTimeZone",multiple:false},o);c.resolve()}else if(n.title===l.SCRIPT_RESOURCE){d='<div class="no-float"></div>';t&&t.scriptId?w.default.getScriptById(t.scriptId).then(function(e){a[t.type]=e.name;p()}):p()}else{d='<div class="no-float"></div>';r.default.has(s,"authenticationStrategy.type")&&(s.authenticationStrategy.type="array");r.default.map(s,function(e,a){u=l.i18n.condition.key+n.title+l.i18n.condition.props+a;switch(e.type){case"string":case"number":case"integer":(new A.default).render({itemData:t,data:t[a],title:a,i18nKey:u,schema:n,value:e},o);break;case"boolean":(new h.default).render({itemData:t,data:e,title:a,i18nKey:u,selected:t[a]},o);break;case"array":(new f.default).render({itemData:t,data:t[a],title:a,i18nKey:u},o);break;case"object":(new k.default).render({itemData:t,data:t[a],title:a,i18nKey:u},o);break;default:break}});c.resolve()}c.then(function(){l.$el.find(".condition-attr").wrapAll(d)});return c},setDefaultJsonValues:function e(t){var a={type:t.title};r.default.map(t.config.properties,function(e,t){switch(e.type){case"string":"authenticateToRealm"===t?a[t]="/":"startIp"!==t&&"endIp"!==t&&(a[t]="");break;case"number":case"integer":a[t]=0;break;case"boolean":a[t]=false;break;case"array":a[t]=[];break;case"object":a[t]={};break;default:console.error("Unexpected data type:",t,e);break}});return a},animateOut:function e(){this.$el.find(".no-float").fadeOut(500);this.$el.find(".clear-left").fadeOut(500);this.$el.find(".field-float-pattern, .field-float-selectize, .timezone-field").find("label").removeClass("showLabel").next("input").addClass("placeholderText");this.$el.find(".field-float-select select:not(.type-selection)").addClass("placeholderText").prev("label").removeClass("showLabel");this.$el.removeClass("invalid-rule")},animateIn:function e(){var t=this;setTimeout(function(){t.$el.find(".field-float-pattern, .field-float-selectize, .timezone-field").find("label").addClass("showLabel").next("input, div input").removeClass("placeholderText").prop("readonly",false);t.$el.find(".field-float-select select:not(.type-selection)").removeClass("placeholderText").prop("readonly",false).prev("label").addClass("showLabel")},10)}})},1860:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var i=c(n);var l=a(19);var r=c(l);var o=a(27);var s=c(o);var u=a(1692);var d=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.default.extend({element:"#environmentContainer",envEvents:{"change .environment-area .operator > select":"onSelect","mousedown #operatorEnv_0 li.rule:not(.editing)":"setFocus","mousedown #operatorEnv_0 li.operator:not(.editing)":"setFocus","click    #operatorEnv_0 .rule > .item-button-panel > .fa-times":"onDelete","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-times":"onDelete","click    #operatorEnv_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-pencil":"toggleEditing","click    #operatorEnv_0 .rule > .item-button-panel > .fa-check":"toggleEditing","keyup    #operatorEnv_0 .rule > .item-button-panel > .fa-check":"toggleEditing","dblclick #operatorEnv_0 li.rule:not(.legacy-condition)":"toggleEditing"},data:{},buttons:{},idCount:0,typeAND:{title:"AND",logical:true,config:{properties:{conditions:{type:"array",items:{type:"any"}}}}},render:function e(t,a){this.idPrefix="Env_";this.property="condition";this.properties="conditions";this.data.conditionName=r.default.t("console.authorization.policies.edit.addEnvironmentCondition");this.data.entity=t.entity;this.data.options=t.options;this.data.conditions=[];this.data.operators=[];var n=this;i.default.each(this.data.options.availableEnvironments,function(e){true===e.logical?n.data.operators.push(e):n.data.conditions.push(e);delete e.config.type});i.default.find(this.data.operators,{title:"AND"})||this.data.operators.push(this.typeAND);this.init(t,this.envEvents);this.conditionType=s.default.ENVIRONMENT;this.setElement(this.element);this.idCount=0;this.parentRender(function(){this.buttons.addCondition=this.$el.find("a#addCondition");this.buttons.addOperator=this.$el.find("a#addOperator");0===n.data.operators.length&&this.buttons.addOperator.hide();this.buildList();this.initSorting();this.identifyDroppableLogical();a&&a()})}});t.default=new f},1861:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(114);var i=o(n);var l=a(1238);var r=o(l);function o(e){return e&&e.__esModule?e:{default:e}}var s=i.default.extend({element:"#customAttrs",template:r.default,noBaseTemplate:true,render:function e(t,a){this.data.customAttributes=t;this.parentRender(function(){a&&a()})},getAttrs:function e(){return this.data.customAttributes}});t.default=new s},1862:function(e,t,a){(function(e,t){var a;(function(a){var n=function(){function e(e){"undefined"===typeof e&&(e=30);this.space=e}return e}();a.AutosizeInputOptions=n;var i=function(){function t(a,n){var i=this;this._input=e(a);this._options=e.extend({},t.getDefaultOptions(),n);this._mirror=e('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>');e.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(e,t){i._mirror[0].style[t]=i._input.css(t)});e("body").append(this._mirror);this._input.on("keydown keyup input propertychange change",function(e){i.update()});(function(){i.update()})()}t.prototype.getOptions=function(){return this._options};t.prototype.update=function(){var e=this._input.val()||"";if(e===this._mirror.text())return;this._mirror.text(e);var t=this._mirror.width()+this._options.space;this._input.width(t)};t.getDefaultOptions=function(){return this._defaultOptions};t.getInstanceKey=function(){return"autosizeInputInstance"};t._defaultOptions=new n;return t}();a.AutosizeInput=i;(function(e){var t="autosize-input";var n=["text","password","search","url","tel","email","number"];e.fn.autosizeInput=function(i){return this.each(function(){if(!("INPUT"==this.tagName&&e.inArray(this.type,n)>-1))return;var l=e(this);if(!l.data(a.AutosizeInput.getInstanceKey())){void 0==i&&(i=l.data(t));l.data(a.AutosizeInput.getInstanceKey(),new a.AutosizeInput(this,i))}})};e(function(){e("input[data-"+t+"]").autosizeInput()})})(t)})(a||(a={}))}).call(this,a(19),a(19))},1863:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1862);a(1693);var n=a(6);var i=y(n);var l=a(19);var r=y(l);var o=a(114);var s=y(o);var u=a(27);var d=y(u);var c=a(1247);var f=y(c);var p=a(59);var h=y(p);var m=a(1240);var v=y(m);function y(e){return e&&e.__esModule?e:{default:e}}var b=s.default.extend({element:"#editResources",template:f.default,noBaseTemplate:true,events:{"click [data-add-resource]":"addResource","keyup [data-add-resource]":"addResource","keyup #resourceBuilder input":"addResource","click span[data-delete]":"deleteResource","keyup span[data-delete]":"deleteResource","click [data-remove-pending]":"removePendingResource","click [data-show-editing]":"showEditingResources"},render:function e(t,a){var n=this;i.default.extend(this.data,t);this.data.entity.resources?this.data.entity.resources=i.default.sortBy(this.data.entity.resources):this.data.entity.resources=[];var l=this;this.parentRender(function(){n.$el.find(".selectize").selectize({sortField:{field:"text",direction:"asc"},onChange:function e(t){l.data.options.newPattern=t;var a=(0,v.default)(l.data);var n=l.$el.find("#populateResource");n.html(a);n.find("input").autosizeInput({space:19});n.find("input:eq(0)").focus().select()}});delete l.data.options.justAdded;l.flashDomItem(l.$el.find(".text-success"),"text-success");a&&a()})},validate:function e(t){var a=true;i.default.find(t,function(e){if(i.default.isFunction(e.checkValidity)&&!e.checkValidity()){a=false;return}});return a},addResource:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;var a=this.$el.find("#resourceBuilder"),n=a.data().resource.replace("-*-",""),l=a.find("input"),r=n.length,o="",s=0,u,c;if(false===this.validate(l)){h.default.sendEvent(d.default.EVENT_DISPLAY_MESSAGE_REQUEST,"invalidItem");this.flashDomItem(this.$el.find(".editing"),"text-danger");return}for(u=0;u<r;u++)if("*"===n[u]){o+=l[s].value;s++}else if(""===n[u]){o+=""===l[s].value?"-*-":l[s].value;s++}else o+=n[u];c=i.default.indexOf(this.data.entity.resources,o);if(c>=0){h.default.sendEvent(d.default.EVENT_DISPLAY_MESSAGE_REQUEST,"duplicateItem");this.flashDomItem(this.$el.find("#createdResources ul li:eq("+c+")"),"text-danger")}else{this.data.entity.resources.push(o);this.data.options.justAdded=o;this.render(this.data)}},removePendingResource:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;this.data.options.newPattern=null;this.render(this.data)},deleteResource:function e(t){if("keyup"===t.type&&13!==t.keyCode)return;var a=(0,r.default)(t.currentTarget).parent().data().resource;this.data.entity.resources=i.default.without(this.data.entity.resources,a);this.render(this.data)},showEditingResources:function e(){this.$el.find("[data-show-editing]").prop("disabled",true);this.$el.find("li.editing").removeClass("hidden")},flashDomItem:function e(t,a){t.addClass(a);r.default.doTimeout(i.default.uniqueId(a),2e3,function(){t.removeClass(a)})}});t.default=new b},882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var i=function(){function e(e,t){var a=[];var n=true;var i=false;var l=void 0;try{for(var r=e[Symbol.iterator](),o;!(n=(o=r.next()).done);n=true){a.push(o.value);if(t&&a.length===t)break}}catch(e){i=true;l=e}finally{try{!n&&r["return"]&&r["return"]()}finally{if(i)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();a(1580);a(1531);var l=a(6);var r=ie(l);var o=a(61);var s=a(1);var u=ie(s);var d=a(114);var c=ie(d);var f=a(27);var p=ie(f);var h=a(1863);var m=ie(h);var v=a(1861);var y=ie(v);var b=a(1246);var g=ie(b);var x=a(59);var C=ie(x);var E=a(1533);var _=ie(E);var k=a(1860);var T=ie(k);var w=a(1848);var D=ie(w);var A=a(560);var M=ie(A);var S=a(1245);var R=ie(S);var I=a(1847);var P=ie(I);var j=a(1596);var O=ie(j);var $=a(1846);var N=ie($);var z=a(1656);var q=ie(z);var V=a(1239);var B=ie(V);var U=a(1608);var F=ie(U);var L=a(1845);var H=ie(L);var K=a(1844);var Y=ie(K);var G=a(73);var J=ie(G);var W=a(1843);var Z=ie(W);var Q=a(1842);var X=ie(Q);var ee=a(1841);var te=ie(ee);var ae=a(1833);var ne=ie(ae);function ie(e){return e&&e.__esModule?e:{default:e}}function le(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(i,l){try{var r=t[i](l);var o=r.value}catch(e){a(e);return}if(!r.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}t.default=c.default.extend({partials:{"templates/admin/views/realms/authorization/policies/_PolicyOperationsDropDown":B.default},validationFields:["name","resources"],events:{"click [data-delete]":"onDeleteClick","click [data-properties]":"openSettingsModal","click [data-save]":"saveTab","shown.bs.tab":"renderFooter"},getAllResponseAttributes:function e(){this.model.attributes.resourceAttributes=r.default.union(this.staticAttrsView.getGroupedData(),X.default.getAttrs(),y.default.getAttrs())},tabs:[{},{name:"resources",attr:["resourceTypeUuid","resources"]},{name:"actions",attr:["actionValues"]},{name:"subjects",attr:["subject"]},{name:"environments",attr:["condition"]},{name:"responseAttributes",action:"getAllResponseAttributes"}],render:function e(t,a){var n=t[2];a&&(this.renderCallback=a);this.data.realmPath=t[0];this.data.policySetName=t[1];this.policySetModelPromise=new F.default({name:this.data.policySetName}).fetch();this.resourceTypesPromise=O.default.listResourceTypes();if(n){this.allSubjectsPromise=O.default.getSubjectConditions();this.allEnvironmentsPromise=O.default.getEnvironmentConditions();this.allUserAttributesPromise=O.default.getAllUserAttributes();this.data.headerActions=[{actionPartial:"templates/admin/views/realms/authorization/policies/_PolicyOperationsDropDown"}];this.template=g.default;this.model=new q.default({name:n});this.listenTo(this.model,"sync",this.renderPolicy);this.model.fetch()}else{this.template=R.default;this.newEntity=true;this.model=new q.default;this.listenTo(this.model,"sync",this.renderPolicy);this.renderPolicy()}},renderPolicy:function(){var e=le(regeneratorRuntime.mark(function e(){var t=this;var a,l,o,s,d,c,f,p,h,v,b,g,x;return regeneratorRuntime.wrap(function e(C){while(1)switch(C.prev=C.next){case 0:a=this;this.data.entity=r.default.cloneDeep(this.model.attributes);this.data.entity.applicationName=a.data.policySetName;this.data.options={};this.data.status={};if(this.data.entity.active){this.data.status.text="common.user.active";this.data.status.icon="fa-check-circle";this.data.status.class="text-success"}else{this.data.status.text="common.user.inactive";this.data.status.icon="fa-ban";this.data.status.class="text-warning"}if(!a.newEntity){C.next=17;break}C.next=9;return Promise.all([this.policySetModelPromise,this.resourceTypesPromise]);case 9:l=C.sent;o=i(l,2);s=o[0];d=o[1];a.data.options.availableResourceTypes=r.default.filter(d.result,function(e){return r.default.includes(s.resourceTypeUuids,e.uuid)});a.parentRender(function(){a.buildResourceTypeSelection()});C.next=39;break;case 17:C.next=19;return Promise.all([this.policySetModelPromise,this.allSubjectsPromise,this.allEnvironmentsPromise,this.allUserAttributesPromise,this.resourceTypesPromise]);case 19:c=C.sent;f=i(c,5);p=f[0];h=f[1];v=f[2];b=f[3];g=f[4];a.data.options.availableResourceTypes=r.default.filter(g.result,function(e){return r.default.includes(p.resourceTypeUuids,e.uuid)});a.staticAttributes=r.default.filter(a.model.attributes.resourceAttributes,{type:"Static"});a.userAttributes=r.default.filter(a.model.attributes.resourceAttributes,{type:"User"});a.customAttributes=r.default.difference(a.model.attributes.resourceAttributes,a.staticAttributes,a.userAttributes);a.allUserAttributes=r.default.sortBy(b.result);a.data.options.availableEnvironments=r.default.findByValues(v.result,"title",p.conditions);a.data.options.availableSubjects=r.default.findByValues(h.result,"title",p.subjects);x=r.default.find(a.data.options.availableResourceTypes,{uuid:a.model.attributes.resourceTypeUuid});a.data.options.availableActions=a.getAvailableActionsForResourceType(x);a.data.options.availablePatterns=x.patterns;(0,ne.default)(this.$el.find("#summaryTab")[0]);(0,ne.default)(this.$el.find("#policyFooter")[0]);a.parentRender(function(){a.$el.find(".tab-menu .nav-tabs").tabdrop();a.buildResourceTypeSelection();var e=u.default.createElement(te.default,n({},a.data.entity,{onClick:function e(a){t.onSummarySectionClick(a)},staticAttributes:a.staticAttributes,customAttributes:a.customAttributes,userAttributes:a.userAttributes}));(0,Y.default)(e,t.$el.find("#summaryTab"));D.default.render(a.data);T.default.render(a.data);N.default.render(a.data);m.default.render(a.data);a.staticAttrsView=new Z.default({staticAttributes:a.staticAttributes,el:"[data-static-attributes]"});a.staticAttrsView.render();X.default.render([a.userAttributes,a.allUserAttributes]);y.default.render(a.customAttributes);_.default.setActiveTab(a);a.renderCallback&&a.renderCallback()});case 39:case"end":return C.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSummarySectionClick:function e(t){this.$el.find('.tab-menu li a:contains("'+t+'")').tab("show")},openSettingsModal:function e(t){t.preventDefault();(0,Y.default)(u.default.createElement(H.default,{data:{active:this.data.entity.active,description:this.data.entity.description,name:this.data.entity.name},handleSubmit:this.updateAndSaveModel.bind(this)}),this.$el.find("#settingsModal"))},buildResourceTypeSelection:function e(){var t=this;this.$el.find("#resTypesSelection").selectize({sortField:"name",valueField:"uuid",labelField:"name",searchField:"name",options:t.data.options.availableResourceTypes,onChange:function e(a){t.changeResourceType(a)}})},getAvailableActionsForResourceType:function e(t){var a=[];t&&r.default.each(t.actions,function(e,t){a.push({action:t,value:e})});return a},changeResourceType:function e(t){this.data.entity.resourceTypeUuid=t;var a=r.default.find(this.data.options.availableResourceTypes,{uuid:t});this.data.options.availableActions=this.getAvailableActionsForResourceType(a);this.data.options.availablePatterns=a?a.patterns:[];this.data.options.newPattern=null;this.data.entity.resources=[];this.data.entity.actionValues={};m.default.render(this.data);this.newEntity||N.default.render(this.data)},updateFields:function e(){var t=this.data.entity,a=this.$el.find("[data-field]"),n;r.default.each(a,function(e){n=e.getAttribute("data-field");"checkbox"===e.type?t[n]=e.checked:t[n]=e.value})},updateModel:function e(){this.updateFields();this.activeTabId=this.$el.find(".tab-menu li.active a").attr("href");if(this.newEntity)r.default.extend(this.model.attributes,this.data.entity);else{var t=this.$el.find(".tab-pane.active").index();var a=this.tabs[t];a.action&&this[a.action]();if(a.attr){var n=r.default.pick(this.data.entity,this.tabs[t].attr);r.default.extend(this.model.attributes,n)}}},saveTab:function e(){this.updateModel();this.saveModel()},updateAndSaveModel:function e(t){r.default.extend(this.model.attributes,t);this.saveModel()},saveModel:function e(){var t=this;var a=this.model.save();a?a.then(function(){t.newEntity?J.default.routeTo(J.default.configuration.routes.realmsPolicyEdit,{args:r.default.map([t.data.realmPath,t.data.policySetName,t.model.id],encodeURIComponent),trigger:true}):C.default.sendEvent(p.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")}):C.default.sendEvent(p.default.EVENT_DISPLAY_MESSAGE_REQUEST,this.model.validationError)},onDeleteClick:function e(t){t.preventDefault();_.default.showConfirmationBeforeDeleting({type:(0,o.t)("console.authorization.common.policy")},r.default.bind(this.deletePolicy,this))},deletePolicy:function e(){var t=this,a=function e(){J.default.routeTo(J.default.configuration.routes.realmsPolicySetEdit,{args:r.default.map([t.data.realmPath,t.data.policySetName],encodeURIComponent),trigger:true});C.default.sendEvent(p.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")},n=function e(t,a){M.default.addMessage({response:a,type:M.default.TYPE_DANGER})};this.model.destroy({success:a,error:n,wait:true})},renderFooter:function e(){var t=0===this.$el.find(".tab-pane.active").index();var a=this.$el.find("#policyFooter");t?(0,ne.default)(a[0]):(0,Y.default)(u.default.createElement(P.default),a)}})}}]);
//# sourceMappingURL=26.62a246f821.js.map