(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[136,309],{1260:function(e,t,a){var r=a(62);e.exports=(r["default"]||r).template({1:function(e,t,a,r,n){var o=e.lambda,i=e.escapeExpression;return'            <li><a href="#'+i(o(null!=t?t._id:t,t))+'" role="tab" data-toggle="tab" aria-expanded="false">'+i(o(null!=t?t.title:t,t))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,r,n){var o,i=null!=t?t:e.nullContext||{};return(null!=(o=e.invokePartial(r["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.authentication.settings.title"},data:n,helpers:a,partials:r,decorators:e.decorators}))?o:"")+'\n\x3c!-- <p class="panel-description">'+e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(i,"console.authentication.settings.description",{name:"t",hash:{},data:n}))+'</p>--\x3e\n\n<div class="tab-menu">\n    <ul class="nav nav-tabs" role="tablist">\n'+(null!=(o=a.each.call(i,null!=(o=null!=(o=null!=t?t.formData:t)?o.schema:o)?o.orderedProperties:o,{name:"each",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?o:"")+'    </ul>\n</div>\n\n<div class="panel panel-default fr-panel-tab">\n    <div class="panel-body tab-content">\n        <div role="tabpanel" class="tab-pane" id="tabpanel"></div>\n    </div>\n    <div class="panel-footer clearfix">\n'+(null!=(o=e.invokePartial(r["form/_JSONSchemaFooter"],t,{name:"form/_JSONSchemaFooter",hash:{revert:true},data:n,indent:"        ",helpers:a,partials:r,decorators:e.decorators}))?o:"")+"    </div>\n</div>\n"},usePartial:true,useData:true})},1402:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1580);var r=a(6);var n=C(r);var o=a(19);var i=C(o);var l=a(114);var u=C(l);var s=a(1558);var c=C(s);var d=a(27);var f=C(d);var h=a(59);var p=C(h);var v=a(2025);var m=C(v);var g=a(560);var b=C(g);var y=a(1260);var A=C(y);var w=a(867);var _=C(w);function C(e){return e&&e.__esModule?e:{default:e}}var P=u.default.extend({template:A.default,events:{"click [data-revert]":"revert","click [data-save]":"save","show.bs.tab ul.nav.nav-tabs a":"renderTab"},render:function e(t,a){var r=this;this.data.realmLocation=t[0];c.default.authentication.get(this.data.realmLocation).then(function(e){r.data.formData=e;r.parentRender(function(){r.$el.find("div.tab-pane").show();r.$el.find("ul.nav a:first").tab("show");r.$el.find(".tab-menu .nav-tabs").tabdrop();a&&a()})},function(e){b.default.addMessage({type:b.default.TYPE_DANGER,response:e})})},renderTab:function e(t){this.$el.find("#tabpanel").empty();var a=(0,i.default)(t.target).attr("href").slice(1),r=_.default.sanitizeSchema(this.data.formData.schema.properties[a]),n=this.$el.find("#tabpanel").get(0);this.data.form=new m.default(n,r,this.data.formData.values[a]);this.$el.find("[data-header]").parent().hide()},revert:function e(){this.data.form.reset()},save:function e(){var t=this.data.form.data(),a=this;c.default.authentication.update(this.data.realmLocation,t).then(function(e){n.default.extend(a.data.formData.values,e);p.default.sendEvent(f.default.EVENT_DISPLAY_MESSAGE_REQUEST,"changesSaved")},function(e){b.default.addMessage({type:b.default.TYPE_DANGER,response:e})})}});t.default=P},1558:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){var a=[];var r=true;var n=false;var o=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done);r=true){a.push(l.value);if(t&&a.length===t)break}}catch(e){n=true;o=e}finally{try{!r&&i["return"]&&i["return"]()}finally{if(n)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=a(6);var o=a(19);var i=y(o);var l=a(169);var u=y(l);var s=a(27);var c=y(s);var d=a(168);var f=y(d);var h=a(866);var p=y(h);var v=a(865);var m=y(v);var g=a(867);var b=y(g);function y(e){return e&&e.__esModule?e:{default:e}}var A=new u.default(""+c.default.host+c.default.context+"/json");A.authentication={get:function e(t){return b.default.schemaWithValues(A,(0,f.default)("/realm-config/authentication",{realm:t}))},update:function e(t,a){return A.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})},chains:{all:function e(t){return Promise.all([A.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),A.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=r(e,2),a=t[0],o=t[1];(0,n.each)(a.result,function(e){if(e._id===o.adminAuthModule){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.adminAuthModule=true}if(e._id===o.orgConfig){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.orgConfig=true}});return{values:a}})},create:function e(t,a){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a){var o;return Promise.all([A.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),A.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=r(e,3),a=t[0],i=t[1],l=t[2];i._id===a.adminAuthModule&&(i.adminAuthModule=true);i._id===a.orgConfig&&(i.orgConfig=true);i.authChainConfiguration=i.authChainConfiguration||[];(0,n.each)(i.authChainConfiguration,function(e){o=(0,n.find)(l.result,{_id:e.module});o&&(e.type=o.type)});return{chainData:i,modulesData:(0,n.sortBy)(l.result,"_id")}})},remove:function e(t,a){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,r){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(r)})}},modules:{all:function e(t){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return(0,n.sortBy)(t,"_id")})},create:function e(t,a,r){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a,n){function o(){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([this.schema(t,n),o(),this.types.get(t,n)]).then(function(e){var t=r(e,3),a=t[0],n=t[1],o=t[2];return{name:o.name,schema:a,values:new m.default(n)}})},exists:function e(t,a){var r=i.default.Deferred(),n="_queryFilter="+encodeURIComponent('_id eq "'+a+'"')+"&_fields=_id",o=A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?"+n,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}});o.then(function(e){r.resolve(e.result.length>0)});return r},remove:function e(t,a,r){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,r,n){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:n}).then(function(e){return new m.default(e)})},types:{all:function e(t){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_action=getAllTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return(0,n.sortBy)(t,"name")})},get:function e(t,a){return A.authentication.modules.types.all(t).then(function(e){return(0,n.find)(e,{_id:a})})}},schema:function e(t,a){return A.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+a+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new p.default(e)})}}};t.default=A},1580:function(e,t,a){(function(e){!function(e){var t=function(){var t=[];var a=false;var r;var n=function(e){clearTimeout(r);r=setTimeout(o,100)};var o=function(){for(var e=0,a=t.length;e<a;e++)t[e].apply()};return{register:function(r){t.push(r);if(false===a){e(window).bind("resize",n);a=true}},unregister:function(e){for(var a=0,r=t.length;a<r;a++)if(t[a]==e){delete t[a];break}}}}();var a=function(a,r){this.element=e(a);this.dropdown=e('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+r.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup");t.register(e.proxy(this.layout,this));this.layout()};a.prototype={constructor:a,layout:function(){var t=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&t.push(this)});if(t.length>0){t=e(t);this.dropdown.find("ul").empty().append(t);1==this.dropdown.find(".active").length?this.dropdown.addClass("active"):this.dropdown.removeClass("active")}else this.dropdown.addClass("hide")}};e.fn.tabdrop=function(t){return this.each(function(){var r=e(this),n=r.data("tabdrop"),o="object"===typeof t&&t;n||r.data("tabdrop",n=new a(this,e.extend({},e.fn.tabdrop.defaults,o)));"string"==typeof t&&n[t]()})};e.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'};e.fn.tabdrop.Constructor=a}(e)}).call(this,a(19))},2025:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});a(1539);a(1531);var r=a(6);var n=d(r);var o=a(19);var i=d(o);var l=a(1538);var u=d(l);var s=a(1541);var c=d(s);function d(e){return e&&e.__esModule?e:{default:e}}var f=function e(t,a,r){console.warn('[Form] "Form" is deprecated. Use a FlatJSONSchemaView or GroupedJSONSchemaView instead.');this.element=t;this.schema=a;this.values=r;var o=n.default.filter(a.properties,{format:"password"});this.passwordAttributes=n.default.map(o,function(e){return n.default.findKey(a.properties,e)});u.default.plugins.selectize.enable=true;u.default.defaults.themes.openam=c.default.getTheme(6,4);this.editor=new u.default(t,{disable_collapse:true,disable_edit_json:true,iconlib:"fontawesome4",schema:a,theme:"openam"});(0,i.default)(t).find("input:password").attr("placeholder",i.default.t("common.form.passwordPlaceholder"));(0,i.default)(t).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(){var e=(0,i.default)(this).parent(),t=(0,i.default)('<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway" ><i class="fa fa-info-circle"></i></a>');(0,i.default)(e).append(t);t.popoverclickaway({container:"#content",html:true,placement:"auto top",content:this.innerHTML});t.click(function(e){e.preventDefault()})});this.reset()};function h(e,t){return n.default.omitBy(e,function(e,a){return!!n.default.includes(t,a)&&n.default.isEmpty(e)})}f.prototype.data=function(){return h(this.editor.getValue(),this.passwordAttributes)};f.prototype.reset=function(){this.editor.setValue(n.default.pick(this.values,n.default.keys(this.schema.properties)))};f.prototype.destroy=function(){this.editor.destroy()};t.default=f}}]);
//# sourceMappingURL=136.89685dd298.js.map