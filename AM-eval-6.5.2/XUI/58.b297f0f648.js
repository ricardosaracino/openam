(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[58,5,220],{1164:function(e,t,r){var a=r(62);e.exports=(a["default"]||a).template({compiler:[7,">= 4.0.0"],main:function(e,t,r,a,n){return'<a class="btn info-button visible-lg-inline-block visible-md-inline-block visible-sm-inline-block" tabindex="0" data-toggle="popoverclickaway">\n    <i class="fa fa-info-circle"></i>\n</a>\n'},useData:true})},1324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){var r=[];var a=true;var n=false;var o=void 0;try{for(var i=e[Symbol.iterator](),l;!(a=(l=i.next()).done);a=true){r.push(l.value);if(t&&r.length===t)break}}catch(e){n=true;o=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var o=r(3);var i=r(6);var l=r(61);var s=r(0);var u=D(s);var c=r(1);var d=D(c);var f=r(204);var p=r(185);var h=r(1600);var v=r(1527);var m=D(v);var y=r(1687);var b=D(y);var g=r(1743);var w=D(g);var _=r(560);var E=D(_);var O=r(73);var S=D(O);var C=r(1741);var P=D(C);var R=r(1526);var j=D(R);var k=r(1522);var T=D(k);var M=r(1521);var A=D(M);function D(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var i=t[n](o);var l=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){N(t,e);function t(e){x(this,t);var r=q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isFetching:true};r.handleDelete=r.handleDelete.bind(r);return r}n(t,[{key:"componentDidMount",value:function(){var e=I(regeneratorRuntime.mark(function e(){var t,r,n,o,i,l,s,u;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:t=a(this.props.router.params,3),r=t[0],n=t[1],o=t[2];c.prev=1;c.next=4;return Promise.all([(0,h.get)(r,n,o),(0,h.getCreatableTypesByType)(r,n)]);case 4:i=c.sent;l=a(i,2);s=l[0];u=l[1];this.props.addOrUpdateCreatables(u.result,n);this.props.addOrUpdateInstance(s);c.next=15;break;case 12:c.prev=12;c.t0=c["catch"](1);E.default.addMessage({response:c.t0,type:E.default.TYPE_DANGER});case 15:c.prev=15;this.setState({isFetching:false});return c.finish(15);case 18:case"end":return c.stop()}},e,this,[[1,12,15,18]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function e(){var t=this;var r=a(this.props.router.params,1),n=r[0];(0,j.default)({message:(0,l.t)("console.common.confirmDeleteItem")},I(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return(0,h.remove)(n,[t.props.instance]);case 3:E.default.messages.displayMessageFromConfig("changesSaved");S.default.routeTo(S.default.configuration.routes.realmsSecretStores,{args:[encodeURIComponent(n)],trigger:true});r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](0);E.default.addMessage({response:r.t0,type:E.default.TYPE_DANGER});case 10:case"end":return r.stop()}},e,t,[[0,7]])})))}},{key:"render",value:function e(){var t=(0,i.get)(this.props.creatables,"[0].name");var r=t?d.default.createElement(w.default,null):null;return d.default.createElement(b.default,{instance:this.props.instance,isFetching:this.state.isFetching,mappingsChild:r,mappingsTitle:t,onDelete:this.handleDelete,settingsChild:d.default.createElement(P.default,null)})}}]);return t}(c.Component);F.propTypes={addOrUpdateCreatables:u.default.func.isRequired,addOrUpdateInstance:u.default.func.isRequired,creatables:u.default.arrayOf(u.default.object),instance:u.default.objectOf(u.default.any),router:A.default};F=(0,m.default)(F,function(e,t){var r=a(t.router.params,3),n=r[1],o=r[2];return{creatables:e.remote.config.realm.secretStores.types.creatables[n],instance:e.remote.config.realm.secretStores.instances.list.filter(function(e){return e._id===o&&e._type._id===n})[0]}},function(e){return{addOrUpdateInstance:(0,o.bindActionCreators)(p.addOrUpdate,e),addOrUpdateCreatables:(0,o.bindActionCreators)(f.addOrUpdate,e)}});t.default=(0,T.default)(F)},1521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=l(a);var o=r(0);var i=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.default.shape({params:i.default.array.isRequired});t.default=s},1522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e){var t=function t(r){var a=s.default.currentRoute;var o=s.default.extractParameters(a,c.default.getCurrentFragment());var l=s.default.applyDefaultParameters(a,o);var u={params:n.default.map(l,function(e){if(!e)return"";return decodeURIComponent(e)})};return i.default.createElement(e,n.default.extend({},r,{router:u}))};t.displayName="withRouter("+f(e)+")";t.WrappedComponent=e;return t};var a=r(6);var n=d(a);var o=r(1);var i=d(o);var l=r(73);var s=d(l);var u=r(63);var c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return e.displayName||e.name||"Component"}},1525:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r(1539);var a=r(6);var n=_(a);var o=r(19);var i=_(o);var l=r(159);var s=_(l);var u=r(1538);var c=_(u);var d=r(1164);var f=_(d);var p=r(1541);var h=_(p);var v=r(866);var m=_(v);var y=r(865);var b=_(y);var g=r(1531);var w=_(g);function _(e){return e&&e.__esModule?e:{default:e}}function E(e){var t=(0,f.default)();(0,i.default)(e).find(".help-block:not(.errormsg)").addClass("hidden-lg hidden-md hidden-sm").each(function(e,r){var a=(0,i.default)(t);a.popoverclickaway({container:"#content",html:true,placement:"auto top",content:r.innerHTML}).click(function(e){e.preventDefault()});(0,i.default)(r).parent().append(a)})}function O(e){(0,i.default)(e).find("input:password").attr("placeholder",i.default.t("common.form.passwordPlaceholder"))}w.default.define("enum_plugin",function(e){var t=this,r=arguments;var a=e.schema;var o=n.default.indexOf(a.enum,"");var i=o>-1;var l=function e(){var a=function e(t){return!t||8!==t.keyCode};t.deleteSelection=function(){var e=t.deleteSelection;return function(n){if(a(n))return e.apply(t,r);return false}}()};var s=function e(){t.plugins.settings["dropdown_header"]={title:a.options.enum_titles[o]};t.require("dropdown_header");t.setup=function(){var e=t.setup;return function(){e.apply(t,r);t.$dropdown.on("mousedown",".selectize-dropdown-header",function(){t.setValue("");t.close();t.blur();return false})}}()};i?s():l()});function S(e,t){var r=t.schema,a=t.values,n=t.hideInheritance,o=void 0!==n&&n;var i=6;var l=4;c.default.plugins.selectize.enable=true;c.default.plugins.selectize.plugins=function(e){return[{name:"enum_plugin",options:{schema:e}}]};c.default.defaults.themes.openam=h.default.getTheme(i,l);var s=r.toFlatWithInheritanceMeta(a);var u=a.removeInheritance();s=s.raw;u=u.raw;var d=new c.default(e[0],{disable_collapse:true,disable_edit_json:true,disable_properties:true,hide_inheritance:o,iconlib:"fontawesome4",schema:s,theme:"openam"});E(e);O(e);d.setValue(u);return d}var C=s.default.View.extend({className:"jsoneditor-block",initialize:function e(t){if(!(t.schema instanceof m.default))throw new TypeError('[JSONEditorView] "schema" argument is not an instance of JSONSchema.');if(!(t.values instanceof b.default))throw new TypeError('[JSONEditorView] "values" argument is not an instance of JSONValues.');this.options=n.default.defaults(t,{displayTitle:true})},toggleInheritance:function e(t,r,a){this.options.values=this.options.values.extend(this.getData());this.options.values=this.options.values.addValueForPath([t,"inherited"],a);this.options.values=this.options.values.addValueForPath([t,"value"],r);this.render()},render:function e(){this.$el.empty();var t=n.default.get(this.jsonEditor,"watchlist");this.jsonEditor=S(this.$el,this.options);this.jsonEditor.watchlist=t;this.options.displayTitle||this.$el.find("[data-header]").parent().hide();return this},isValid:function e(){return 0===this.jsonEditor.validate().length},getData:function e(){var t=new b.default(this.jsonEditor.getValue());this.options.schema.hasDefaultProperties()&&(t=t.pick(this.options.schema.raw.defaultProperties));t=t.nullifyEmptyPasswords(this.options.schema.getPasswordKeys());t=t.addInheritance(this.options.values.raw);return t.raw},setData:function e(t){this.options.values=this.options.values.extend(t)},watch:function e(t,r){this.jsonEditor.watch(t,r)},destroy:function e(){var t=this;var r=n.default.keys(this.jsonEditor.watchlist);n.default.forEach(r,function(e){t.jsonEditor.unwatch(e)});this.jsonEditor.destroy();this.jsonEditor=null}});t.default=C},1526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;var a=r(61);var n=r(655);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.t)("common.form.delete");o.default.confirm({type:o.default.TYPE_DANGER,title:(0,a.t)("common.form.confirm")+" "+r,message:e.message?e.message:(0,a.t)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:r,btnOKClass:"btn-danger",callback:function e(r){r&&t&&t()}})}},1527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};var n=r(1548);var o=r(1);var i=u(o);var l=r(81);var s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){return t.displayName||t.name||"Component"};var d=function e(t){for(var r=arguments.length,o=Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];var u=n.connect.apply(void 0,o)(t);var d=function e(t){return i.default.createElement(u,a({},t,{store:s.default}))};d.displayName="connectWithStore("+c(t)+")";d.WrappedComponent=t;return d};t.default=d},1528:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(6);var n=p(a);var o=r(159);var i=p(o);var l=r(1525);var s=p(l);var u=r(866);var c=p(u);var d=r(865);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){e&&setTimeout(e,0)}var v=i.default.View.extend({initialize:function e(t){if(!(t.schema instanceof c.default))throw new TypeError('[FlatJSONSchemaView] "schema" argument is not an instance of JSONSchema.');if(!(t.values instanceof f.default))throw new TypeError('[FlatJSONSchemaView] "values" argument is not an instance of JSONValues.');this.options=n.default.defaults(t,{showOnlyRequiredAndEmpty:false})},render:function e(){var t=this.options.schema;var r=true;if(this.options.showOnlyRequiredAndEmpty){var a=this.options.schema.getRequiredPropertyKeys();var o=this.options.values.getEmptyValueKeys(t);var i=n.default.intersection(a,o);t=t.removeUnrequiredNonDefaultProperties().addDefaultProperties(i);r=!n.default.isEmpty(i)}this.subview=new s.default({displayForm:r,hideInheritance:this.options.hideInheritance,displayTitle:false,el:this.$el,schema:t,values:this.options.values}).render();h(this.options.onRendered);return this},isValid:function e(){return!this.subview||this.subview.isValid()},getData:function e(){if(this.subview){var t;return(t=this.subview).getData.apply(t,arguments)}},setData:function e(t){if(this.subview){this.options.values=this.options.values.extend(t);return this.subview.setData(t)}},watch:function e(t,r){this.subview&&this.subview.watch(t,r)},destroy:function e(){if(this.subview){this.subview.destroy();this.subview=null}}});t.default=v},1529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(0);var n=l(a);var o=r(1);var i=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.children,a=t.icon,n=t.title,o=t.type;var l=o?"deep":"shallow";var s=a?i.default.createElement("span",{className:"header-icon pull-left bg-primary"},i.default.createElement("i",{className:"fa fa-"+a})):null;var u=o?i.default.createElement("h4",{className:"page-type"},o):null;return i.default.createElement("header",{className:"page-header page-header-no-border clearfix"},s,i.default.createElement("div",{className:"button-group pull-right "+l+"-page-header-button-group"},r),i.default.createElement("div",{className:"pull-left"},u,i.default.createElement("h1",{className:"wordwrap"},n)))};s.propTypes={children:n.default.node,icon:n.default.string,title:n.default.string.isRequired,type:n.default.string};t.default=s},1532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=i(a);var o=r(61);function i(e){return e&&e.__esModule?e:{default:e}}var l=function e(){return n.default.createElement("p",{className:"loading text-muted"},n.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),n.default.createElement("span",null,(0,o.t)("console.common.loading")))};t.default=l},1547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var o=r(6);var i=r(656);var l=r(0);var s=g(l);var u=r(1);var c=g(u);var d=r(1623);var f=g(d);var p=r(1622);var h=g(p);var v=r(1532);var m=g(v);var y=r(872);var b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){E(t,e);function t(){w(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={selectedItems:[]};e.handleDelete=e.handleDelete.bind(e);e.handleSelectedChange=e.handleSelectedChange.bind(e);return e}n(t,[{key:"componentWillReceiveProps",value:function e(t){var r=!(0,o.isEqual)((0,o.map)(this.props.items,this.props.keyField).sort(),(0,o.map)(t.items,this.props.keyField).sort());r&&this.setState({selectedItems:[]})}},{key:"handleDelete",value:function e(){this.props.onDelete(this.state.selectedItems)}},{key:"handleSelectedChange",value:function e(t){this.setState({selectedItems:t})}},{key:"render",value:function e(){var t=void 0;var r=(0,o.omit)(this.props,"children");if(this.props.isFetching)t=c.default.createElement(m.default,null);else if((0,o.isEmpty)(this.props.items))t=c.default.createElement(h.default,r);else{var n=a({},r,{data:this.props.items,onSelectedChange:this.handleSelectedChange,selectedItems:this.state.selectedItems});var i=c.default.createElement(f.default,a({},r,{isDeleteDisabled:!this.state.selectedItems.length,numberSelected:this.state.selectedItems.length,onDelete:this.handleDelete}));t=c.default.createElement("div",null,i,c.default.createElement(b.default,n,this.props.children))}return t}}]);return t}(u.Component);O.defaultProps={keyField:"_id"};O.propTypes={children:s.default.arrayOf(s.default.shape({type:s.default.oneOf([i.TableHeaderColumn]).isRequired})),isFetching:s.default.bool.isRequired,items:s.default.arrayOf(s.default.object).isRequired,keyField:s.default.string,onDelete:s.default.func.isRequired};t.default=O},1559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(570);var n=r(61);var o=r(0);var i=u(o);var l=r(1);var s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var r=t.disabled,o=t.onSaveClick;return s.default.createElement(a.Clearfix,null,s.default.createElement("div",{className:"pull-right"},s.default.createElement(a.Button,{bsStyle:"primary",disabled:r,onClick:o},(0,n.t)("common.form.saveChanges"))))};c.defaultProps={disabled:false};c.propTypes={disabled:i.default.bool,onSaveClick:i.default.func.isRequired};t.default=c},1589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(570);var n=r(6);var o=r(0);var i=u(o);var l=r(1);var s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var r=t.children,o=t.href,i=t.title,l=t.onClick;if(r){var u=(0,n.map)(r,function(e){return s.default.createElement(a.MenuItem,{href:e.href},e.title)});return s.default.createElement(a.ButtonGroup,null,s.default.createElement(a.DropdownButton,{bsStyle:"primary",disabled:(0,n.isEmpty)(u),title:i},u))}return s.default.createElement(a.ButtonGroup,null,s.default.createElement(a.Button,{bsStyle:"primary",href:o,onClick:l},s.default.createElement("i",{className:"fa fa-plus"})," ",i))};c.propTypes={children:i.default.arrayOf({href:i.default.string.isRequired,title:i.default.string.isRequired}),href:i.default.string,onClick:i.default.func,title:i.default.string.isRequired};t.default=c},1599:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(0);var n=l(a);var o=r(1);var i=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var r=t.children;return i.default.createElement("div",{className:"call-to-action-block"},r)};s.propTypes={children:n.default.node};t.default=s},1600:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=p;t.get=h;t.getAllByType=v;t.getCreatableTypes=m;t.getCreatableTypesByType=y;t.getSchema=b;t.getInitialState=g;t.remove=w;t.update=_;var a=r(6);var n=r(169);var o=c(n);var i=r(27);var l=c(i);var s=r(168);var u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var d=new o.default(""+l.default.host+l.default.context+"/json");var f="/realm-config/secrets/stores";function p(e,t,r,a){return d.serviceCall({url:(0,u.default)(f+"/"+t+"/"+encodeURIComponent(a),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(r)})}function h(e,t,r){return d.serviceCall({url:(0,u.default)(f+"/"+t+"/"+encodeURIComponent(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true})}function v(e,t){return d.serviceCall({url:(0,u.default)(f+"/"+t+"?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true})}function m(e){return d.serviceCall({url:(0,u.default)(f+"?_action=getCreatableTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}function y(e,t){return d.serviceCall({url:(0,u.default)(f+"/"+t+"?_action=getCreatableTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}function b(e,t){return d.serviceCall({url:(0,u.default)(f+"/"+t+"?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}function g(e,t){function r(){return d.serviceCall({url:(0,u.default)(f+"/"+t+"?_action=template",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}return Promise.all([b(e,t),r()]).then(function(e){return{schema:e[0],values:e[1]}})}function w(e,t){var r=(0,a.map)(t,function(t){return d.serviceCall({url:(0,u.default)(f+"/"+t._type._id+"/"+encodeURIComponent(t._id),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})});return Promise.all(r)}function _(e,t,r,n){return d.serviceCall({url:(0,u.default)(f+"/"+t+"/"+encodeURIComponent(r),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify((0,a.omit)(n,"_rev"))})}},1620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(6);var i=r(61);var l=r(0);var s=O(l);var u=r(1);var c=O(u);var d=r(1559);var f=O(d);var p=r(1528);var h=O(p);var v=r(866);var m=O(v);var y=r(865);var b=O(y);var g=r(1532);var w=O(g);var _=r(560);var E=O(_);function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){P(t,e);function t(e){S(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setRef=r.setRef.bind(r);r.handleSave=r.handleSave.bind(r);return r}a(t,[{key:"componentWillReceiveProps",value:function e(t){if(this.jsonSchemaView&&!(0,o.isEqual)(this.props.schema,t.schema)){this.jsonSchemaView.destroy();this.jsonSchemaView=null}if(this.jsonSchemaView){this.jsonSchemaView.setData(t.values);this.jsonSchemaView.render()}}},{key:"componentDidUpdate",value:function e(){if(!this.jsonSchemaView&&this.form&&this.props.values&&this.props.schema){this.jsonSchemaView=new h.default({schema:new m.default(this.props.schema),values:new b.default(this.props.values)});this.form.appendChild(this.jsonSchemaView.render().el)}}},{key:"handleSave",value:function e(){if(!this.jsonSchemaView.subview.isValid()){E.default.addMessage({message:(0,i.t)("common.form.validation.errorsNotSaved"),type:E.default.TYPE_DANGER});return}var t=new b.default(this.jsonSchemaView.subview.getData());var r=t.removeNullPasswords(new m.default(this.props.schema));this.props.onSave(r.raw)}},{key:"setRef",value:function e(t){this.form=t}},{key:"render",value:function e(){var t=void 0;t=this.props.isFetching?c.default.createElement(w.default,null):c.default.createElement(u.Fragment,null,c.default.createElement(n.Panel.Body,null,c.default.createElement("div",{ref:this.setRef})),c.default.createElement(n.Panel.Footer,null,c.default.createElement(f.default,{onSaveClick:this.handleSave})));return t}}]);return t}(u.Component);R.propTypes={isFetching:s.default.bool.isRequired,onSave:s.default.func.isRequired,schema:s.default.objectOf(s.default.any),values:s.default.objectOf(s.default.any)};t.default=R},1621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(1644);var o=r(6);var i=r(570);var l=r(0);var s=v(l);var u=r(1);var c=v(u);var d=r(1684);var f=v(d);var p=r(1683);var h=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(0,n.SortableElement)(function(e){return c.default.createElement(h.default,e)});var _=(0,n.SortableContainer)(function(e){var t=e.isSorting,r=e.items,a=e.onDelete;var n=r.length>1;var o=r.map(function(e,r){return c.default.createElement(w,{disabled:!n,index:r,isActiveAlias:0===r,isCursorActive:n,isListGroupSorting:t,key:e,onDelete:a,value:e})});return c.default.createElement(i.ListGroup,{className:"custom-aliases-field-list-group"},o)});var E=function(e){g(t,e);function t(e){y(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isSorting:false};r.handleAdd=r.handleAdd.bind(r);r.handleDelete=r.handleDelete.bind(r);r.handleSortEnd=r.handleSortEnd.bind(r);r.handleSortStart=r.handleSortStart.bind(r);return r}a(t,[{key:"handleAdd",value:function e(t){if(t.length<this.props.schema.items.minLength)return false;if(this.props.schema.uniqueItems&&this.props.formData.includes(t))return false;this.props.onChange([].concat(m(this.props.formData),[t]));return true}},{key:"handleDelete",value:function e(t){var r=(0,o.without)(this.props.formData,t);this.props.onChange(r)}},{key:"handleSortEnd",value:function e(t){var r=t.oldIndex,a=t.newIndex;var o=(0,n.arrayMove)(this.props.formData,r,a);this.props.onChange(o);this.setState({isSorting:false})}},{key:"handleSortStart",value:function e(){this.setState({isSorting:true})}},{key:"render",value:function e(){var t=(0,o.isEmpty)(this.props.formData)?null:c.default.createElement(i.Well,{bsSize:"small"},c.default.createElement(_,{helperClass:"dragged",isSorting:this.state.isSorting,items:this.props.formData,lockAxis:"y",lockToContainerEdges:true,onDelete:this.handleDelete,onSortEnd:this.handleSortEnd,onSortStart:this.handleSortStart,useDragHandle:true}));return c.default.createElement("div",{className:"custom-aliases-field"},t,c.default.createElement(f.default,{id:this.props.idSchema&&this.props.idSchema.$id,onAdd:this.handleAdd}))}}]);return t}(u.Component);E.defaultProps={formData:[]};E.propTypes={formData:s.default.arrayOf(s.default.any),idSchema:s.default.objectOf(s.default.any),onChange:s.default.func.isRequired,schema:s.default.shape({items:s.default.shape({minLength:s.default.number.isRequired}).isRequired,minItems:s.default.number.isRequired,uniqueItems:s.default.bool.isRequired}).isRequired};t.default=E},1622:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(0);var n=d(a);var o=r(1);var i=d(o);var l=r(1589);var s=d(l);var u=r(1599);var c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}var f=function e(t){var r=t.addButton,a=t.description,n=t.title;return i.default.createElement(c.default,null,i.default.createElement("p",{className:"text-primary"},i.default.createElement("i",{className:"fa fa-list-alt fa-4x"})),i.default.createElement("h2",null,n),i.default.createElement("p",{className:"panel-description text-muted"},a),i.default.createElement(s.default,{href:r.href,onClick:r.handleOnClick,title:r.title},r.menuItems))};f.propTypes={addButton:n.default.shape({handleOnClick:n.default.func,href:n.default.string,menuItems:n.default.arrayOf(n.default.shape({href:n.default.string.isRequired,title:n.default.string.isRequired})),title:n.default.string.isRequired}).isRequired,description:n.default.string.isRequired,title:n.default.string.isRequired};t.default=f},1623:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(570);var n=r(61);var o=r(0);var i=d(o);var l=r(1);var s=d(l);var u=r(1589);var c=d(u);function d(e){return e&&e.__esModule?e:{default:e}}var f=function e(t){var r=t.additionalButtons,o=t.addButton,i=t.isDeleteDisabled,l=t.onDelete,u=t.numberSelected;var d=u?"("+u+")":"";return s.default.createElement(a.ButtonToolbar,{className:"page-toolbar"},s.default.createElement(c.default,{href:o.href,onClick:o.handleOnClick,title:o.title},o.menuItems),s.default.createElement(a.Button,{disabled:i,onClick:l},s.default.createElement("i",{className:"fa fa-close"})," ",(0,n.t)("common.form.delete")," ",d),r)};f.propTypes={addButton:i.default.shape({handleOnClick:i.default.func,href:i.default.string,menuItems:i.default.arrayOf(i.default.shape({href:i.default.string.isRequired,title:i.default.string.isRequired})),title:i.default.string.isRequired}).isRequired,additionalButtons:i.default.node,isDeleteDisabled:i.default.bool.isRequired,numberSelected:i.default.number.isRequired,onDelete:i.default.func.isRequired};t.default=f},1681:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(570);var n=r(0);var o=s(n);var i=r(1);var l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){var r=t.popover,n=t.title;if(r){var o=l.default.createElement(a.Popover,{id:"helpText"},l.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}}));return l.default.createElement(i.Fragment,null,n," ",l.default.createElement(a.OverlayTrigger,{overlay:o,placement:"top"},l.default.createElement("i",{className:"fa fa-info-circle text-primary"})))}return n};u.propTypes={popover:o.default.string,title:o.default.string.isRequired};t.default=u},1682:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(61);var i=r(0);var l=h(i);var s=r(1);var u=h(s);var c=r(1621);var d=h(c);var f=r(870);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){y(t,e);function t(e){v(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={formData:e.instance};r.handleOnChange=r.handleOnChange.bind(r);r.handleOnSave=r.handleOnSave.bind(r);r.handleOnSubmit=r.handleOnSubmit.bind(r);r.setFormRef=r.setFormRef.bind(r);return r}a(t,[{key:"handleOnChange",value:function e(t){var r=t.formData;this.setState({formData:r})}},{key:"handleOnSave",value:function e(){this.form.submit()}},{key:"handleOnSubmit",value:function e(t){var r=t.formData;this.props.onSave(r,r._id)}},{key:"setFormRef",value:function e(t){this.form=t}},{key:"render",value:function e(){return u.default.createElement(n.Modal,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},u.default.createElement(n.Modal.Header,{closeButton:true},u.default.createElement(n.Modal.Title,null,(0,o.t)("console.secretStores.edit.mappings.edit.title"))),u.default.createElement(n.Modal.Body,null,u.default.createElement(p.default,{formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":d.default}},validationMode:"edit"})),u.default.createElement(n.Modal.Footer,null,u.default.createElement(n.Clearfix,null,u.default.createElement("div",{className:"pull-right"},u.default.createElement("div",{className:"am-btn-action-group"},u.default.createElement(n.Button,{onClick:this.props.onClose},(0,o.t)("common.form.cancel")),u.default.createElement(n.Button,{bsStyle:"primary",onClick:this.handleOnSave},(0,o.t)("common.form.save")))))))}}]);return t}(s.Component);b.propTypes={instance:l.default.objectOf(l.default.any).isRequired,onClose:l.default.func.isRequired,onSave:l.default.func.isRequired,schema:l.default.objectOf(l.default.any).isRequired,show:l.default.bool.isRequired};t.default=b},1683:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(1644);var i=r(61);var l=r(7);var s=p(l);var u=r(0);var c=p(u);var d=r(1);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(0,o.SortableHandle)(function(e){var t=e.isActiveAlias,r=e.isCursorActive,a=e.value;var o=t?f.default.createElement(n.Badge,{pullRight:true},(0,i.t)("console.secretStores.edit.mappings.form.aliasField.active")):null;return f.default.createElement("div",{className:(0,s.default)({"custom-aliases-field-handle-cursor":r,"custom-aliases-field-handle":true})},o,f.default.createElement("div",{className:"custom-aliases-field-value"},a))});var b=function(e){m(t,e);function t(e){h(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleDelete=r.handleDelete.bind(r);return r}a(t,[{key:"handleDelete",value:function e(){this.props.onDelete(this.props.value)}},{key:"render",value:function e(){return f.default.createElement(n.ListGroupItem,{bsStyle:this.props.isActiveAlias?"success":null,className:(0,s.default)({"custom-aliases-field-list-group-item":true,"custom-aliases-field-list-group-item-sorting":this.props.isListGroupSorting})},f.default.createElement(n.Button,{bsStyle:"link",className:"pull-right",onClick:this.handleDelete,style:{margin:"-5px -15px 0 0"},title:(0,i.t)("common.form.delete")},f.default.createElement("i",{className:"fa fa-close"})),f.default.createElement(y,{isActiveAlias:this.props.isActiveAlias,isCursorActive:this.props.isCursorActive,value:this.props.value}))}}]);return t}(d.Component);b.defaultPropTypes={isCursorActive:true};b.propTypes={isActiveAlias:c.default.bool,isCursorActive:c.default.bool,isListGroupSorting:c.default.bool,onDelete:c.default.func.isRequired,value:c.default.string};t.default=b},1684:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(61);var i=r(0);var l=c(i);var s=r(1);var u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,e);function t(e){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={value:""};r.handleAdd=r.handleAdd.bind(r);r.handleKeyPress=r.handleKeyPress.bind(r);r.handleOnChange=r.handleOnChange.bind(r);return r}a(t,[{key:"handleAdd",value:function e(){var t=this.props.onAdd(this.state.value.trim());t&&this.setState({value:""})}},{key:"handleKeyPress",value:function e(t){if("Enter"===t.key){t.preventDefault();this.handleAdd()}}},{key:"handleOnChange",value:function e(t){this.setState({value:t.currentTarget.value})}},{key:"render",value:function e(){return u.default.createElement(s.Fragment,null,u.default.createElement(n.ControlLabel,{srOnly:true},(0,o.t)("console.secretStores.edit.mappings.form.aliasField.label")),u.default.createElement(n.InputGroup,null,u.default.createElement(n.FormControl,{id:this.props.id,onChange:this.handleOnChange,onKeyPress:this.handleKeyPress,placeholder:(0,o.t)("console.secretStores.edit.mappings.form.aliasField.placeholder"),value:this.state.value}),u.default.createElement(n.InputGroup.Button,null,u.default.createElement(n.Button,{className:"fr-btn-secondary",onClick:this.handleAdd,title:(0,o.t)("console.secretStores.edit.mappings.form.aliasField.label")},u.default.createElement("i",{className:"fa fa-plus"})))))}}]);return t}(s.Component);h.propTypes={id:l.default.string,onAdd:l.default.func.isRequired};t.default=h},1685:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(61);var i=r(0);var l=h(i);var s=r(1);var u=h(s);var c=r(870);var d=h(c);var f=r(1621);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){y(t,e);function t(e){v(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={formData:r.props.template};r.handleOnChange=r.handleOnChange.bind(r);r.handleOnCreate=r.handleOnCreate.bind(r);r.handleOnSubmit=r.handleOnSubmit.bind(r);r.setFormRef=r.setFormRef.bind(r);return r}a(t,[{key:"handleOnCreate",value:function e(){this.form.submit()}},{key:"handleOnChange",value:function e(t){var r=t.formData;this.setState({formData:r})}},{key:"handleOnSubmit",value:function e(t){var r=t.formData;this.props.onCreate(r)}},{key:"setFormRef",value:function e(t){this.form=t}},{key:"render",value:function e(){return u.default.createElement(n.Modal,{backdrop:"static",onHide:this.props.onClose,show:this.props.show},u.default.createElement(n.Modal.Header,{closeButton:true},u.default.createElement(n.Modal.Title,null,(0,o.t)("console.secretStores.edit.mappings.new.title"))),u.default.createElement(n.Modal.Body,null,u.default.createElement(d.default,{formData:this.state.formData,onChange:this.handleOnChange,onSubmit:this.handleOnSubmit,ref:this.setFormRef,schema:this.props.schema,uiSchema:{aliases:{"ui:field":p.default}},validationMode:"create"})),u.default.createElement(n.Modal.Footer,null,u.default.createElement(n.Clearfix,null,u.default.createElement("div",{className:"pull-right"},u.default.createElement("div",{className:"am-btn-action-group"},u.default.createElement(n.Button,{onClick:this.props.onClose},(0,o.t)("common.form.cancel")),u.default.createElement(n.Button,{bsStyle:"primary",onClick:this.handleOnCreate},(0,o.t)("common.form.create")))))))}}]);return t}(s.Component);b.propTypes={onClose:l.default.func.isRequired,onCreate:l.default.func.isRequired,schema:l.default.objectOf(l.default.any).isRequired,show:l.default.bool.isRequired,template:l.default.objectOf(l.default.any).isRequired};t.default=b},1686:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(570);var o=r(6);var i=r(61);var l=r(656);var s=r(0);var u=w(s);var c=r(1);var d=w(c);var f=r(1685);var p=w(f);var h=r(1682);var v=w(h);var m=r(1547);var y=w(m);var b=r(1681);var g=w(b);function w(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){O(t,e);function t(e){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={showCreateModal:false,showEditModal:false,editRowInstance:{}};r.handleCreate=r.handleCreate.bind(r);r.handleCreateModalClose=r.handleCreateModalClose.bind(r);r.handleCreateModalShow=r.handleCreateModalShow.bind(r);r.handleEditModalShow=r.handleEditModalShow.bind(r);r.handleEditModalClose=r.handleEditModalClose.bind(r);r.handleSave=r.handleSave.bind(r);r.handleTableRowClick=r.handleTableRowClick.bind(r);return r}a(t,[{key:"activeAliasTitle",value:function e(t){return t[0]}},{key:"activeAliasDataFormat",value:function e(t){return d.default.createElement("span",null,t[0])}},{key:"aliasesDataFormat",value:function e(t){return d.default.createElement(n.Badge,null,t.length)}},{key:"handleCreate",value:function e(t){var r=this;this.props.onCreate(t).then(function(){r.setState({showCreateModal:false})},o.noop)}},{key:"handleCreateModalClose",value:function e(){this.setState({showCreateModal:false})}},{key:"handleCreateModalShow",value:function e(){this.props.onRefetchSchema();this.setState({showCreateModal:true})}},{key:"handleEditModalClose",value:function e(){this.setState({showEditModal:false})}},{key:"handleEditModalShow",value:function e(){this.props.onRefetchSchema();this.setState({showEditModal:true})}},{key:"handleSave",value:function e(t,r){var a=this;this.props.onSave(t,r).then(function(){a.handleEditModalClose()},o.noop)}},{key:"handleTableRowClick",value:function e(t){this.setState({editRowInstance:t});this.handleEditModalShow()}},{key:"render",value:function e(){var t=this.state.showCreateModal?d.default.createElement(p.default,{onClose:this.handleCreateModalClose,onCreate:this.handleCreate,schema:this.props.schema,show:this.state.showCreateModal,template:this.props.template}):null;var r=this.state.showEditModal?d.default.createElement(v.default,{instance:this.state.editRowInstance,onClose:this.handleEditModalClose,onSave:this.handleSave,schema:this.props.schema,show:this.state.showEditModal}):null;var a=this.props.schema?[d.default.createElement(l.TableHeaderColumn,{columnTitle:true,dataField:"secretId",dataSort:true,key:"secretId"},d.default.createElement(g.default,{popover:this.props.schema.properties.secretId.description,title:this.props.schema.properties.secretId.title})),d.default.createElement(l.TableHeaderColumn,{columnTitle:this.activeAliasTitle,dataField:"aliases",dataFormat:this.activeAliasDataFormat,key:"activeAlias"},d.default.createElement(g.default,{popover:(0,i.t)("console.secretStores.edit.mappings.grid.activeAlias.description"),title:(0,i.t)("console.secretStores.edit.mappings.grid.activeAlias.title")})),d.default.createElement(l.TableHeaderColumn,{dataAlign:"center",dataField:"aliases",dataFormat:this.aliasesDataFormat,key:"aliases",width:"100px"},d.default.createElement(g.default,{popover:this.props.schema.properties.aliases.description,title:this.props.schema.properties.aliases.title}))]:null;return d.default.createElement(n.Panel.Body,null,d.default.createElement(y.default,{addButton:{handleOnClick:this.handleCreateModalShow,title:(0,i.t)("console.secretStores.edit.mappings.callToAction.button")},description:(0,i.t)("console.secretStores.edit.mappings.callToAction.description"),isFetching:this.props.isFetching,items:this.props.instances,keyField:"secretId",onDelete:this.props.onDelete,onRowClick:this.handleTableRowClick,title:(0,i.t)("console.secretStores.edit.mappings.callToAction.title")},a),t,r)}}]);return t}(c.Component);S.propTypes={instances:u.default.arrayOf(u.default.object),isFetching:u.default.bool.isRequired,onCreate:u.default.func.isRequired,onDelete:u.default.func.isRequired,onRefetchSchema:u.default.func.isRequired,onSave:u.default.func.isRequired,schema:u.default.objectOf(u.default.any),template:u.default.objectOf(u.default.any)};t.default=S},1687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(570);var n=r(61);var o=r(0);var i=p(o);var l=r(1);var s=p(l);var u=r(1532);var c=p(u);var d=r(1529);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function e(t){var r=t.instance,o=t.isFetching,i=t.onDelete,u=t.mappingsChild,d=t.mappingsTitle,p=t.settingsChild;if(o)return s.default.createElement(c.default,null);var h=d?s.default.createElement(a.Tabs,{animation:true,defaultActiveKey:1,id:"editSecretStore",mountOnEnter:true,unmountOnExit:true},s.default.createElement(a.Tab,{eventKey:1,title:(0,n.t)("common.form.settings")},s.default.createElement(a.Panel,{className:"fr-panel-tab clearfix"},p)),s.default.createElement(a.Tab,{eventKey:2,title:d},s.default.createElement(a.Panel,{className:"fr-panel-tab clearfix"},u))):s.default.createElement(a.Panel,null,p);return s.default.createElement(l.Fragment,null,s.default.createElement(f.default,{icon:"eye",title:r._id,type:r._type.name},s.default.createElement(a.Button,{onClick:i},s.default.createElement("i",{className:"fa fa-times"})," ",(0,n.t)("common.form.delete"))),h)};h.propTypes={instance:i.default.shape({_id:i.default.string.isRequired,_type:i.default.shape({name:i.default.string.isRequired}).isRequired}),isFetching:i.default.bool.isRequired,mappingsChild:i.default.node,mappingsTitle:i.default.string,onDelete:i.default.func.isRequired,settingsChild:i.default.node};t.default=h},1741:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){var r=[];var a=true;var n=false;var o=void 0;try{for(var i=e[Symbol.iterator](),l;!(a=(l=i.next()).done);a=true){r.push(l.value);if(t&&r.length===t)break}}catch(e){n=true;o=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var o=r(3);var i=r(6);var l=r(61);var s=r(0);var u=C(s);var c=r(1);var d=C(c);var f=r(185);var p=r(188);var h=r(1600);var v=r(1527);var m=C(v);var y=r(560);var b=C(y);var g=r(1522);var w=C(g);var _=r(1521);var E=C(_);var O=r(1620);var S=C(O);function C(e){return e&&e.__esModule?e:{default:e}}function P(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var i=t[n](o);var l=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(e){k(t,e);function t(e){R(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isFetching:true};r.handleSave=r.handleSave.bind(r);return r}n(t,[{key:"componentDidMount",value:function(){var e=P(regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:t=a(this.props.router.params,2),r=t[0],n=t[1];i.prev=1;i.next=4;return(0,h.getSchema)(r,n);case 4:o=i.sent;this.props.addOrUpdateSchema(o,n);i.next=11;break;case 8:i.prev=8;i.t0=i["catch"](1);b.default.addMessage({response:i.t0,type:b.default.TYPE_DANGER});case 11:i.prev=11;this.setState({isFetching:false});return i.finish(11);case 14:case"end":return i.stop()}},e,this,[[1,8,11,14]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSave",value:function(){var e=P(regeneratorRuntime.mark(function e(t){var r,n,o,i,s;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:r=a(this.props.router.params,3),n=r[0],o=r[1],i=r[2];u.prev=1;u.next=4;return(0,h.update)(n,o,i,t);case 4:s=u.sent;this.props.addOrUpdateInstance(s);b.default.addMessage({message:(0,l.t)("config.messages.AppMessages.changesSaved")});u.next=12;break;case 9:u.prev=9;u.t0=u["catch"](1);b.default.addMessage({response:u.t0,type:b.default.TYPE_DANGER});case 12:case"end":return u.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){return d.default.createElement(S.default,{isFetching:this.state.isFetching,isTab:this.props.isTab,onSave:this.handleSave,schema:this.props.schema,values:this.props.instance})}}]);return t}(c.Component);T.propTypes={addOrUpdateInstance:u.default.func.isRequired,addOrUpdateSchema:u.default.func.isRequired,instance:u.default.objectOf(u.default.any),isTab:u.default.bool,router:E.default,schema:u.default.objectOf(u.default.any)};T=(0,m.default)(T,function(e,t){var r=a(t.router.params,3),n=r[1],o=r[2];var l=e.remote.config.realm.secretStores.types.schema;var s=e.remote.config.realm.secretStores.instances.list;var u=(0,i.find)(s,function(e){return e._id===o&&e._type._id===n});return{schema:l[n],instance:u}},function(e){return{addOrUpdateInstance:(0,o.bindActionCreators)(f.addOrUpdate,e),addOrUpdateSchema:(0,o.bindActionCreators)(p.addOrUpdate,e)}});t.default=(0,w.default)(T)},1742:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=p;t.getAllByType=h;t.getSchema=v;t.getTemplate=m;t.update=y;t.remove=b;var a=r(6);var n=r(169);var o=c(n);var i=r(27);var l=c(i);var s=r(168);var u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var d=new o.default(""+l.default.host+l.default.context+"/json");var f=function e(t,r){return"/realm-config/secrets/stores/"+t+"/"+encodeURIComponent(r)+"/mappings"};function p(e,t,r,a,n){return d.serviceCall({url:(0,u.default)(f(t,r)+"/"+encodeURIComponent(n),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(a)})}function h(e,t,r){return d.serviceCall({url:(0,u.default)(f(t,r)+"?_queryFilter=true",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true})}function v(e,t,r){return d.serviceCall({url:(0,u.default)(f(t,r)+"/?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}function m(e,t,r){return d.serviceCall({url:(0,u.default)(f(t,r)+"/?_action=template",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},suppressSpinner:true,type:"POST"})}function y(e,t,r,n,o){return d.serviceCall({url:(0,u.default)(f(t,r)+"/"+encodeURIComponent(o),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify((0,a.omit)(n,"_rev"))})}function b(e,t,r,n){return Promise.all((0,a.map)(n,function(a){return d.serviceCall({url:(0,u.default)(f(t,r)+"/"+encodeURIComponent(a._id),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})}))}},1743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){var r=[];var a=true;var n=false;var o=void 0;try{for(var i=e[Symbol.iterator](),l;!(a=(l=i.next()).done);a=true){r.push(l.value);if(t&&r.length===t)break}}catch(e){n=true;o=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var o=r(3);var i=r(6);var l=r(61);var s=r(0);var u=j(s);var c=r(1);var d=j(c);var f=r(277);var p=r(1742);var h=r(276);var v=r(275);var m=r(1527);var y=j(m);var b=r(1686);var g=j(b);var w=r(560);var _=j(w);var E=r(1526);var O=j(E);var S=r(1522);var C=j(S);var P=r(1521);var R=j(P);function j(e){return e&&e.__esModule?e:{default:e}}function k(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function a(n,o){try{var i=t[n](o);var l=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){A(t,e);function t(e){T(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isFetching:true};r.handleCreate=r.handleCreate.bind(r);r.handleDelete=r.handleDelete.bind(r);r.handleRefetchSchema=r.handleRefetchSchema.bind(r);r.handleSave=r.handleSave.bind(r);return r}n(t,[{key:"componentDidMount",value:function(){var e=k(regeneratorRuntime.mark(function e(){var t,r,n,o,i,l,s,u,c;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:t=a(this.props.router.params,3),r=t[0],n=t[1],o=t[2];d.prev=1;d.next=4;return Promise.all([(0,p.getAllByType)(r,n,o),(0,p.getSchema)(r,n,o),(0,p.getTemplate)(r,n,o)]);case 4:i=d.sent;l=a(i,3);s=l[0].result;u=l[1];c=l[2];this.props.setSchema(u);this.props.setTemplate(c);this.props.setInstances(s);d.next=17;break;case 14:d.prev=14;d.t0=d["catch"](1);_.default.addMessage({response:d.t0,type:_.default.TYPE_DANGER});case 17:d.prev=17;this.setState({isFetching:false});return d.finish(17);case 20:case"end":return d.stop()}},e,this,[[1,14,17,20]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function e(t){var r=this;var n=a(this.props.router.params,3),o=n[0],s=n[1],u=n[2];(0,O.default)({message:(0,l.t)("console.secretStores.edit.mappings.confirmDeleteSelected",{count:t.length})},k(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return(0,p.remove)(o,s,u,t);case 3:a=n.sent;(0,i.forEach)(a,function(e){var t=e._id;r.props.removeInstance(t)});_.default.messages.displayMessageFromConfig("changesSaved");n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](0);_.default.addMessage({response:n.t0,type:_.default.TYPE_DANGER});case 11:case"end":return n.stop()}},e,r,[[0,8]])})))}},{key:"handleRefetchSchema",value:function(){var e=k(regeneratorRuntime.mark(function e(){var t,r,n,o,i;return regeneratorRuntime.wrap(function e(l){while(1)switch(l.prev=l.next){case 0:t=a(this.props.router.params,3),r=t[0],n=t[1],o=t[2];l.prev=1;l.next=4;return(0,p.getSchema)(r,n,o);case 4:i=l.sent;this.props.setSchema(i);l.next=11;break;case 8:l.prev=8;l.t0=l["catch"](1);_.default.addMessage({response:l.t0,type:_.default.TYPE_DANGER});case 11:case"end":return l.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSave",value:function(){var e=k(regeneratorRuntime.mark(function e(t,r){var n,o,i,s,u;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:n=a(this.props.router.params,3),o=n[0],i=n[1],s=n[2];c.prev=1;c.next=4;return(0,p.update)(o,i,s,t,r);case 4:u=c.sent;this.props.addOrUpdate(u);_.default.addMessage({message:(0,l.t)("config.messages.AppMessages.changesSaved")});c.next=13;break;case 9:c.prev=9;c.t0=c["catch"](1);_.default.addMessage({response:c.t0,type:_.default.TYPE_DANGER});throw c.t0;case 13:case"end":return c.stop()}},e,this,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=k(regeneratorRuntime.mark(function e(t){var r,n,o,i,s;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:r=a(this.props.router.params,3),n=r[0],o=r[1],i=r[2];u.prev=1;u.next=4;return(0,p.create)(n,o,i,t,t.secretId);case 4:s=u.sent;this.props.addOrUpdate(s);_.default.addMessage({message:(0,l.t)("console.secretStores.edit.mappings.mappingAdded")});u.next=13;break;case 9:u.prev=9;u.t0=u["catch"](1);_.default.addMessage({response:u.t0,type:_.default.TYPE_DANGER});throw u.t0;case 13:case"end":return u.stop()}},e,this,[[1,9]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){return d.default.createElement(g.default,{instances:this.props.instances,isFetching:this.state.isFetching,onCreate:this.handleCreate,onDelete:this.handleDelete,onRefetchSchema:this.handleRefetchSchema,onSave:this.handleSave,schema:this.props.schema,template:this.props.template})}}]);return t}(c.Component);D.propTypes={addOrUpdate:u.default.func.isRequired,instances:u.default.arrayOf(u.default.object).isRequired,removeInstance:u.default.func.isRequired,router:R.default,schema:u.default.objectOf(u.default.any),setInstances:u.default.func.isRequired,setSchema:u.default.func.isRequired,setTemplate:u.default.func.isRequired,template:u.default.objectOf(u.default.any)};D=(0,y.default)(D,function(e){return{instances:(0,i.sortBy)((0,i.values)(e.local.config.realm.secretStores.instances.current.mappings.instances),"_id"),schema:e.local.config.realm.secretStores.instances.current.mappings.schema,template:e.local.config.realm.secretStores.instances.current.mappings.template}},function(e){return{addOrUpdate:(0,o.bindActionCreators)(f.addOrUpdate,e),removeInstance:(0,o.bindActionCreators)(f.remove,e),setInstances:(0,o.bindActionCreators)(f.set,e),setSchema:(0,o.bindActionCreators)(h.set,e),setTemplate:(0,o.bindActionCreators)(v.set,e)}});D=(0,C.default)(D);t.default=D}}]);
//# sourceMappingURL=58.b297f0f648.js.map