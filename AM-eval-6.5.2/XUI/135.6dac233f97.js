(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[135,313],{1264:function(e,t,a){var n=a(62);e.exports=(n["default"]||n).template({1:function(e,t,a,n,r,l,i){var o,u,c=null!=t?t:e.nullContext||{},s=a.helperMissing,d="function",f=e.escapeExpression;return'                <tr class="sorted-chains '+(null!=(o=a["if"].call(c,null!=t?t.defaultConfig:t,{name:"if",hash:{},fn:e.program(2,r,0,l,i),inverse:e.noop,data:r}))?o:"")+'">\n                    <td class="select-row-cell"><input data-chain-name="'+f((u=null!=(u=a._id||(null!=t?t._id:t))?u:s,typeof u===d?u.call(c,{name:"_id",hash:{},data:r}):u))+'" type="checkbox" '+(null!=(o=a["if"].call(c,null!=t?t.defaultConfig:t,{name:"if",hash:{},fn:e.program(4,r,0,l,i),inverse:e.noop,data:r}))?o:"")+'/></td>\n                    <td>\n                        <a class="edit-chain-btn" href="'+f((a.routeTo||t&&t.routeTo||s).call(c,"realmsAuthenticationChainEdit",null!=i[1]?i[1].realmPath:i[1],null!=t?t._id:t,{name:"routeTo",hash:{},data:r}))+'">'+f((u=null!=(u=a._id||(null!=t?t._id:t))?u:s,typeof u===d?u.call(c,{name:"_id",hash:{},data:r}):u))+"</a>\n"+(null!=(o=a["if"].call(c,null!=t?t.defaultConfig:t,{name:"if",hash:{},fn:e.program(6,r,0,l,i),inverse:e.noop,data:r}))?o:"")+'                    </td>\n                    <td class="fr-col-btn-2">\n                        <div class="btn-group">\n                            <a class="btn btn-link edit-chain-btn" href="'+f((a.routeTo||t&&t.routeTo||s).call(c,"realmsAuthenticationChainEdit",null!=i[1]?i[1].realmPath:i[1],{name:"routeTo",hash:{},data:r}))+f((u=null!=(u=a._id||(null!=t?t._id:t))?u:s,typeof u===d?u.call(c,{name:"_id",hash:{},data:r}):u))+'"><i class="fa fa-pencil"></i></a>\n                            <button data-chain-name="'+f((u=null!=(u=a._id||(null!=t?t._id:t))?u:s,typeof u===d?u.call(c,{name:"_id",hash:{},data:r}):u))+'" type="button" class="btn btn-link" data-delete-chain '+(null!=(o=a["if"].call(c,null!=t?t.defaultConfig:t,{name:"if",hash:{},fn:e.program(4,r,0,l,i),inverse:e.noop,data:r}))?o:"")+'><i class="fa fa-close"></i></button>\n                        </div>\n                    </td>\n                </tr>\n'},2:function(e,t,a,n,r){return"default-config-row"},4:function(e,t,a,n,r){return"disabled"},6:function(e,t,a,n,r){var l,i=null!=t?t:e.nullContext||{};return'                        <div>\n                            <small class="text-muted">\n                                '+(null!=(l=a["if"].call(i,null!=(l=null!=t?t.defaultConfig:t)?l.adminAuthModule:l,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?l:"")+"\n                                "+(null!=(l=a["if"].call(i,null!=(l=null!=t?t.defaultConfig:t)?l.orgConfig:l,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r}))?l:"")+"\n                            </small>\n                        </div>\n"},7:function(e,t,a,n,r){var l,i=null!=t?t:e.nullContext||{};return e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(i,"console.authentication.chains.defaultAdminAuthConfiguration",{name:"t",hash:{},data:r}))+" "+(null!=(l=a["if"].call(i,null!=(l=null!=t?t.defaultConfig:t)?l.orgConfig:l,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))?l:"")},8:function(e,t,a,n,r){return"/ "},10:function(e,t,a,n,r){return e.escapeExpression((a.t||t&&t.t||a.helperMissing).call(null!=t?t:e.nullContext||{},"console.authentication.chains.defaultOrgAuthConfiguration",{name:"t",hash:{},data:r}))+" "},compiler:[7,">= 4.0.0"],main:function(e,t,a,n,r,l,i){var o,u=null!=t?t:e.nullContext||{},c=a.helperMissing,s=e.escapeExpression;return(null!=(o=e.invokePartial(n["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.authentication.chains.title"},data:r,helpers:a,partials:n,decorators:e.decorators}))?o:"")+'\n<p class="page-description">'+s((a.t||t&&t.t||c).call(u,"console.authentication.chains.description",{name:"t",hash:{},data:r}))+'</p>\n<div class="btn-toolbar page-toolbar">\n    <a class="btn btn-primary" data-add-chain href="'+s((a.routeTo||t&&t.routeTo||c).call(u,"realmsAuthenticationChainNew",null!=t?t.realmPath:t,{name:"routeTo",hash:{},data:r}))+'"><i class="fa fa-plus"></i> '+s((a.t||t&&t.t||c).call(u,"console.authentication.chains.newChain",{name:"t",hash:{},data:r}))+'</a>\n    <button data-delete-chains disabled class="btn btn-default" type="button"><i class="fa fa-times"></i> '+s((a.t||t&&t.t||c).call(u,"common.form.delete",{name:"t",hash:{},data:r}))+'</button>\n</div>\n<div class="panel panel-default">\n    <div class="panel-body">\n        <div class="table-container">\n            <table class="table">\n                <thead>\n                <tr>\n                    <th class="select-all-header-cell"><input data-select-all type="checkbox" /></th>\n                    <th>'+s((a.t||t&&t.t||c).call(u,"console.authentication.chains.chainName",{name:"t",hash:{},data:r}))+'</th>\n                    <th class="fr-col-btn-2"></th>\n                </tr>\n                </thead>\n                <tbody>\n'+(null!=(o=a.each.call(u,null!=t?t.sortedChains:t,{name:"each",hash:{},fn:e.program(1,r,0,l,i),inverse:e.noop,data:r}))?o:"")+"                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n"},usePartial:true,useData:true,useDepths:true})},1401:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(6);var r=C(n);var l=a(19);var i=C(l);var o=a(114);var u=C(o);var c=a(868);var s=C(c);var d=a(1558);var f=C(d);var h=a(1264);var m=C(h);var p=a(1533);var v=C(p);var g=a(560);var b=C(g);function C(e){return e&&e.__esModule?e:{default:e}}function y(e){return(0,i.default)(e).data().chainName}function A(e,t){return Promise.all((0,s.default)(t).map(function(t){return f.default.authentication.chains.remove(e,t)}))}var _=u.default.extend({template:m.default,events:{"change input[data-chain-name]":"chainSelected","click  [data-delete-chain]":"onDeleteSingle","click  [data-delete-chains]":"onDeleteMultiple","click  [data-select-all]":"selectAll"},chainSelected:function e(t){var a=this.$el.find("input[type=checkbox][data-chain-name]").is(":checked"),n=(0,i.default)(t.currentTarget).closest("tr"),r=(0,i.default)(t.currentTarget).is(":checked");this.$el.find("[data-delete-chains]").prop("disabled",!a);if(r)n.addClass("selected");else{n.removeClass("selected");this.$el.find("[data-select-all]").prop("checked",false)}},selectAll:function e(t){var a=(0,i.default)(t.currentTarget).is(":checked");this.$el.find(".sorted-chains input[type=checkbox][data-chain-name]:not(:disabled)").prop("checked",a);a?this.$el.find(".sorted-chains:not(.default-config-row)").addClass("selected"):this.$el.find(".sorted-chains").removeClass("selected");this.$el.find("[data-delete-chains]").prop("disabled",!a)},onDeleteSingle:function e(t){t.preventDefault();v.default.showConfirmationBeforeDeleting({type:i.default.t("console.authentication.common.chain")},r.default.bind(this.deleteChain,this,t))},onDeleteMultiple:function e(t){t.preventDefault();var a=this.$el.find(".sorted-chains input[type=checkbox][data-chain-name]:checked");v.default.showConfirmationBeforeDeleting({message:i.default.t("console.authentication.chains.confirmDeleteSelected",{count:a.length})},r.default.bind(this.deleteChains,this,t,a))},deleteChain:function e(t){var a=this,n=t.currentTarget,r=y(t.currentTarget);(0,i.default)(n).prop("disabled",true);A(this.data.realmPath,r).then(function(){a.render([a.data.realmPath])},function(e){b.default.addMessage({type:b.default.TYPE_DANGER,response:e});(0,i.default)(n).prop("disabled",false)})},deleteChains:function e(t,a){var n=this,l=t.currentTarget,o=(0,r.default)(a).toArray().map(y).value();(0,i.default)(l).prop("disabled",true);A(this.data.realmPath,o).then(function(){n.render([n.data.realmPath])},function(e){b.default.addMessage({type:b.default.TYPE_DANGER,response:e});(0,i.default)(l).prop("disabled",false)})},render:function e(t,a){var n=this,l=[];this.data.realmPath=t[0];f.default.authentication.chains.all(this.data.realmPath).then(function(e){r.default.each(e.values.result,function(e){e.active?l.unshift(e):l.push(e)});n.data.sortedChains=l;n.parentRender(function(){a&&a()})},function(e){b.default.addMessage({type:b.default.TYPE_DANGER,response:e})})}});t.default=_},1526:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=a(61);var r=a(655);var l=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,n.t)("common.form.delete");l.default.confirm({type:l.default.TYPE_DANGER,title:(0,n.t)("common.form.confirm")+" "+a,message:e.message?e.message:(0,n.t)("console.common.confirmDeleteText",{type:e.type}),btnOKLabel:a,btnOKClass:"btn-danger",callback:function e(a){a&&t&&t()}})}},1533:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(1537);var r=c(n);var l=a(1536);var i=c(l);var o=a(1526);var u=c(o);function c(e){return e&&e.__esModule?e:{default:e}}var s={};s.showConfirmationBeforeDeleting=function(e,t){(0,r.default)("FormHelper.showConfirmationBeforeDeleting","org/forgerock/openam/ui/admin/utils/form/showConfirmationBeforeAction");return(0,u.default)(e,t)};s.setActiveTab=function(e,t){(0,r.default)("FormHelper.setActiveTab","org/forgerock/openam/ui/admin/utils/form/setActiveTab");return(0,i.default)(e,t)};t.default=s},1536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e){e&&e.activeTabId&&e.$el.find('.nav-tabs a[href="'+e.activeTabId+'"]').tab("show")}},1537:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e,t){console.warn(e+" is marked as deprecated. \nPlease use "+t)}},1558:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var a=[];var n=true;var r=false;var l=void 0;try{for(var i=e[Symbol.iterator](),o;!(n=(o=i.next()).done);n=true){a.push(o.value);if(t&&a.length===t)break}}catch(e){r=true;l=e}finally{try{!n&&i["return"]&&i["return"]()}finally{if(r)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var r=a(6);var l=a(19);var i=C(l);var o=a(169);var u=C(o);var c=a(27);var s=C(c);var d=a(168);var f=C(d);var h=a(866);var m=C(h);var p=a(865);var v=C(p);var g=a(867);var b=C(g);function C(e){return e&&e.__esModule?e:{default:e}}var y=new u.default(""+s.default.host+s.default.context+"/json");y.authentication={get:function e(t){return b.default.schemaWithValues(y,(0,f.default)("/realm-config/authentication",{realm:t}))},update:function e(t,a){return y.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})},chains:{all:function e(t){return Promise.all([y.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=n(e,2),a=t[0],l=t[1];(0,r.each)(a.result,function(e){if(e._id===l.adminAuthModule){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.adminAuthModule=true}if(e._id===l.orgConfig){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.orgConfig=true}});return{values:a}})},create:function e(t,a){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a){var l;return Promise.all([y.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=n(e,3),a=t[0],i=t[1],o=t[2];i._id===a.adminAuthModule&&(i.adminAuthModule=true);i._id===a.orgConfig&&(i.orgConfig=true);i.authChainConfiguration=i.authChainConfiguration||[];(0,r.each)(i.authChainConfiguration,function(e){l=(0,r.find)(o.result,{_id:e.module});l&&(e.type=l.type)});return{chainData:i,modulesData:(0,r.sortBy)(o.result,"_id")}})},remove:function e(t,a){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,n){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(n)})}},modules:{all:function e(t){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return(0,r.sortBy)(t,"_id")})},create:function e(t,a,n){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a,r){function l(){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([this.schema(t,r),l(),this.types.get(t,r)]).then(function(e){var t=n(e,3),a=t[0],r=t[1],l=t[2];return{name:l.name,schema:a,values:new v.default(r)}})},exists:function e(t,a){var n=i.default.Deferred(),r="_queryFilter="+encodeURIComponent('_id eq "'+a+'"')+"&_fields=_id",l=y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?"+r,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}});l.then(function(e){n.resolve(e.result.length>0)});return n},remove:function e(t,a,n){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,n,r){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:r}).then(function(e){return new v.default(e)})},types:{all:function e(t){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_action=getAllTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return(0,r.sortBy)(t,"name")})},get:function e(t,a){return y.authentication.modules.types.all(t).then(function(e){return(0,r.find)(e,{_id:a})})}},schema:function e(t,a){return y.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+a+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new m.default(e)})}}};t.default=y}}]);
//# sourceMappingURL=135.6dac233f97.js.map