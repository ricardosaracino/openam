(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[133,308],{1259:function(e,t,a){var r=a(62);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,a,r,n){var o,i=null!=t?t:e.nullContext||{},l=a.helperMissing,u=e.escapeExpression;return(null!=(o=e.invokePartial(r["headers/_Title"],t,{name:"headers/_Title",hash:{title:"console.authentication.chains.newChain"},data:n,helpers:a,partials:r,decorators:e.decorators}))?o:"")+'<div class="panel panel-default fr-panel-with-border">\n    <div class="panel-body tab-content">\n        <div class="block clearfix form-horizontal">\n            <div class="form-group">\n                <label class="col-sm-2 control-label" for="name">'+u((a.t||t&&t.t||l).call(i,"common.form.name",{name:"t",hash:{},data:n}))+'</label>\n                <div class="col-sm-9">\n                    <input autofocus type="text" id="name" data-chain-name class="form-control" placeholder="'+u((a.t||t&&t.t||l).call(i,"common.form.validation.required",{name:"t",hash:{},data:n}))+'" required>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel-footer clearfix">\n        <div class="pull-right">\n            <a class="btn btn-default" href="'+u((a.routeTo||t&&t.routeTo||l).call(i,"realmsAuthenticationChains",null!=t?t.realmPath:t,{name:"routeTo",hash:{},data:n}))+'">\n                '+u((a.t||t&&t.t||l).call(i,"common.form.cancel",{name:"t",hash:{},data:n}))+'\n            </a>\n            <button type="button" class="btn btn-primary" data-save disabled>\n                <span>'+u((a.t||t&&t.t||l).call(i,"common.form.create",{name:"t",hash:{},data:n}))+"</span>\n            </button>\n        </div>\n    </div>\n</div>\n"},usePartial:true,useData:true})},1399:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=a(6);var n=g(r);var o=a(19);var i=g(o);var l=a(114);var u=g(l);var c=a(1259);var s=g(c);var d=a(1558);var f=g(d);var h=a(560);var m=g(h);var v=a(73);var p=g(v);function g(e){return e&&e.__esModule?e:{default:e}}function A(){var e=this.$el.find("[data-chain-name]").val().trim(),t,a;t=n.default.find(this.data.chainsData,{_id:e});t&&m.default.addMessage({type:m.default.TYPE_DANGER,message:i.default.t("console.authentication.chains.duplicateChain")});a=e&&!t;this.$el.find("[data-save]").attr("disabled",!a)}t.default=u.default.extend({template:s.default,events:{"keyup [data-chain-name]":"onValidateChainProps","change [data-chain-name]":"onValidateChainProps","click [data-save]":"save"},render:function e(t,a){var r=this,o=[];this.data.realmPath=t[0];f.default.authentication.chains.all(this.data.realmPath).then(function(e){n.default.each(e.values.result,function(e){o.push(e)});r.data.chainsData=o;r.parentRender(function(){a&&a()})})},save:function e(){var t=this,a=this.$el.find("[data-chain-name]").val().trim();f.default.authentication.chains.create(t.data.realmPath,{_id:a}).then(function(){p.default.routeTo(p.default.configuration.routes.realmsAuthenticationChainEdit,{args:n.default.map([t.data.realmPath,a],encodeURIComponent),trigger:true})},function(e){m.default.addMessage({type:m.default.TYPE_DANGER,response:e})})},onValidateChainProps:function e(){A.call(this)}})},1558:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){var a=[];var r=true;var n=false;var o=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done);r=true){a.push(l.value);if(t&&a.length===t)break}}catch(e){n=true;o=e}finally{try{!r&&i["return"]&&i["return"]()}finally{if(n)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var n=a(6);var o=a(19);var i=y(o);var l=a(169);var u=y(l);var c=a(27);var s=y(c);var d=a(168);var f=y(d);var h=a(866);var m=y(h);var v=a(865);var p=y(v);var g=a(867);var A=y(g);function y(e){return e&&e.__esModule?e:{default:e}}var C=new u.default(""+s.default.host+s.default.context+"/json");C.authentication={get:function e(t){return A.default.schemaWithValues(C,(0,f.default)("/realm-config/authentication",{realm:t}))},update:function e(t,a){return C.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(a)})},chains:{all:function e(t){return Promise.all([C.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),C.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=r(e,2),a=t[0],o=t[1];(0,n.each)(a.result,function(e){if(e._id===o.adminAuthModule){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.adminAuthModule=true}if(e._id===o.orgConfig){e.defaultConfig=e.defaultConfig||{};e.defaultConfig.orgConfig=true}});return{values:a}})},create:function e(t,a){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/chains?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a){var o;return Promise.all([C.serviceCall({url:(0,f.default)("/realm-config/authentication",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),C.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}),C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})]).then(function(e){var t=r(e,3),a=t[0],i=t[1],l=t[2];i._id===a.adminAuthModule&&(i.adminAuthModule=true);i._id===a.orgConfig&&(i.orgConfig=true);i.authChainConfiguration=i.authChainConfiguration||[];(0,n.each)(i.authChainConfiguration,function(e){o=(0,n.find)(l.result,{_id:e.module});o&&(e.type=o.type)});return{chainData:i,modulesData:(0,n.sortBy)(l.result,"_id")}})},remove:function e(t,a){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,r){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/chains/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:JSON.stringify(r)})}},modules:{all:function e(t){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_queryFilter=true",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}}).then(function(e){var t=e.result;return(0,n.sortBy)(t,"_id")})},create:function e(t,a,r){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"?_action=create",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST",data:JSON.stringify(a)})},get:function e(t,a,n){function o(){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+n+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}return Promise.all([this.schema(t,n),o(),this.types.get(t,n)]).then(function(e){var t=r(e,3),a=t[0],n=t[1],o=t[2];return{name:o.name,schema:a,values:new p.default(n)}})},exists:function e(t,a){var r=i.default.Deferred(),n="_queryFilter="+encodeURIComponent('_id eq "'+a+'"')+"&_fields=_id",o=C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?"+n,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}});o.then(function(e){r.resolve(e.result.length>0)});return r},remove:function e(t,a,r){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"DELETE"})},update:function e(t,a,r,n){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+r+"/"+a,{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"PUT",data:n}).then(function(e){return new p.default(e)})},types:{all:function e(t){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules?_action=getAllTypes",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){var t=e.result;return(0,n.sortBy)(t,"name")})},get:function e(t,a){return C.authentication.modules.types.all(t).then(function(e){return(0,n.find)(e,{_id:a})})}},schema:function e(t,a){return C.serviceCall({url:(0,f.default)("/realm-config/authentication/modules/"+a+"?_action=schema",{realm:t}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"},type:"POST"}).then(function(e){return new m.default(e)})}}};t.default=C}}]);
//# sourceMappingURL=133.035883ec70.js.map