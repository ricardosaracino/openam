(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[76],{1342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(3);var o=r(6);var l=r(61);var u=r(0);var s=T(u);var c=r(1);var i=T(c);var d=r(1601);var f=r(216);var p=r(1527);var v=T(p);var m=r(1770);var h=T(m);var y=r(560);var _=T(y);var g=r(73);var b=T(g);var P=r(1526);var A=T(P);var C=r(1522);var I=T(C);var E=r(1521);var O=T(E);function T(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){R(t,e);function t(){w(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={isFetching:true};e.handleEdit=e.handleEdit.bind(e);e.handleDelete=e.handleDelete.bind(e);return e}a(t,[{key:"componentDidMount",value:function e(){var t=this;var r=this.props.router.params[0];(0,d.getAll)(r).then(function(e){t.setState({isFetching:false});t.props.setInstances(e.result)},function(e){t.setState({isFetching:false});_.default.addMessage({response:e,type:_.default.TYPE_DANGER})})}},{key:"handleEdit",value:function e(t){var r=t._id;var a=t._type._id;var n=this.props.router.params[0];b.default.routeTo(b.default.configuration.routes.realmsDataStoresEdit,{args:(0,o.map)([n,a,r],encodeURIComponent),trigger:true})}},{key:"handleDelete",value:function e(t){var r=this;var a=(0,o.map)(t,"_id");var n=this.props.router.params[0];(0,A.default)({message:(0,l.t)("console.datastores.confirmDeleteSelected",{count:a.length})},function(){(0,d.remove)(n,t).then(function(e){_.default.messages.displayMessageFromConfig("changesSaved");(0,o.forEach)(e,r.props.removeInstance)},function(e){_.default.addMessage({response:e,type:_.default.TYPE_DANGER})})})}},{key:"render",value:function e(){var t=this.props.router.params[0];var r=b.default.getLink(b.default.configuration.routes.realmsDataStoresNew,[encodeURIComponent(t)]);return i.default.createElement(h.default,{isFetching:this.state.isFetching,items:this.props.datastores,newHref:"#"+r,onDelete:this.handleDelete,onRowClick:this.handleEdit})}}]);return t}(c.Component);j.propTypes={datastores:s.default.arrayOf(s.default.object),removeInstance:s.default.func.isRequired,router:O.default,setInstances:s.default.func.isRequired};j=(0,v.default)(j,function(e){return{datastores:(0,o.values)(e.remote.config.realm.datastores.instances)}},function(e){return{removeInstance:(0,n.bindActionCreators)(f.removeInstance,e),setInstances:(0,n.bindActionCreators)(f.setInstances,e)}});j=(0,I.default)(j);t.default=j},1521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=u(a);var o=r(0);var l=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var s=l.default.shape({params:l.default.array.isRequired});t.default=s},1545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(1);var n=u(a);var o=r(7);var l=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var s=function e(t,r,a){return n.default.createElement("span",{className:(0,l.default)({"am-table-icon-cell":true,"am-table-icon-cell-editable":r})},n.default.createElement("span",{className:"fa-stack fa-lg am-table-icon-cell-stack"},n.default.createElement("i",{className:"fa fa-circle fa-stack-2x text-primary"}),n.default.createElement("i",{className:"fa "+t+" fa-stack-1x fa-inverse"}))," ",n.default.createElement("span",null,a))};var c=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e){return s(t,r,e)}};t.default=c},1556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(6);var n=function e(t,r){return function(e,n,o,l){return t((0,a.get)(e,r),n,o,l)}};t.default=n},1601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=p;t.getSchema=v;t.getInitialState=m;t.getCreatableTypes=h;t.getAll=y;t.getTypes=_;t.remove=g;t.get=b;t.update=P;t.getTypeDisplayName=A;t.loadSchema=C;var a=r(6);var n=r(169);var o=i(n);var l=r(27);var u=i(l);var s=r(168);var c=i(s);function i(e){return e&&e.__esModule?e:{default:e}}var d=new o.default(""+u.default.host+u.default.context+"/json");var f="/realm-config/services/id-repositories";function p(e,t,r,a){return d.serviceCall({url:(0,c.default)(f+"/"+t+"/"+encodeURIComponent(a),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0","If-None-Match":"*"},data:JSON.stringify(r)})}function v(e,t){return d.serviceCall({url:(0,c.default)(f+"/"+t+"?_action=schema",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function m(e,t){function r(){return d.serviceCall({url:(0,c.default)(f+"/"+t+"?_action=template",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}return Promise.all([v(e,t),r()]).then(function(e){return{schema:e[0],values:e[1]}})}function h(e){return d.serviceCall({url:(0,c.default)(f+"?_action=getCreatableTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function y(e){return d.serviceCall({url:(0,c.default)(f+"?_action=nextdescendents",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function _(e){return d.serviceCall({url:(0,c.default)(f+"?_action=getAllTypes",{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"POST"})}function g(e,t){var r=(0,a.map)(t,function(t){return d.serviceCall({url:(0,c.default)(f+"/"+t._type._id+"/"+encodeURIComponent(t._id),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},type:"DELETE"})});return Promise.all(r)}function b(e,t,r){var a=function a(){return d.serviceCall({url:(0,c.default)(f+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(r),{realm:e}),headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})};return Promise.all([v(e,t),a()]).then(function(e){return e[1]})}function P(e,t){return d.serviceCall({url:(0,c.default)(f+"/"+encodeURIComponent(t._type._id)+"/"+encodeURIComponent(t._id),{realm:e}),type:"PUT",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"},data:JSON.stringify((0,a.omit)(t,"_rev"))})}function A(e,t){return _(e).then(function(e){var r=(0,a.find)(e.result,function(e){return e._id===t});var n=r?r.name:null;return n})}function C(e,t){var r=f+"/"+encodeURIComponent(t._type._id)+"/"+encodeURIComponent(t._id);return d.serviceCall({url:(0,c.default)(r+"?_action=loadSchema",{realm:e}),type:"POST",headers:{"Accept-API-Version":"protocol=2.0,resource=1.0"}})}},1770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};var n=r(6);var o=r(570);var l=r(61);var u=r(656);var s=r(0);var c=b(s);var i=r(1);var d=b(i);var f=r(1556);var p=b(f);var v=r(1545);var m=b(v);var h=r(1547);var y=b(h);var _=r(1529);var g=b(_);function b(e){return e&&e.__esModule?e:{default:e}}var P=function e(t){return d.default.createElement("div",null,d.default.createElement(g.default,{title:(0,l.t)("console.datastores.title")}),d.default.createElement(o.Panel,null,d.default.createElement(o.Panel.Body,null,d.default.createElement(y.default,a({},(0,n.omit)(t,"children"),{addButton:{title:(0,l.t)("console.datastores.list.callToAction.button"),href:t.newHref},description:(0,l.t)("console.datastores.list.callToAction.description"),title:(0,l.t)("console.datastores.list.callToAction.title")}),d.default.createElement(u.TableHeaderColumn,{dataField:"_id",dataFormat:(0,m.default)("fa-database"),dataSort:true},(0,l.t)("console.datastores.list.grid.0")),d.default.createElement(u.TableHeaderColumn,{dataField:"_type",dataFormat:(0,p.default)(function(e){return e},"name")},(0,l.t)("console.datastores.list.grid.1"))))))};P.propTypes={newHref:c.default.string.isRequired};t.default=P}}]);
//# sourceMappingURL=76.6cada45837.js.map